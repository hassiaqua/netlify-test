{"componentChunkName":"component---src-templates-post-js","path":"/wordpress-move/","result":{"data":{"wordpressPost":{"id":"5ca7a545-6485-5b1e-bf13-770048c6f1f2","title":"WordPressサイトをXserverへ移行する手順のすべて！","slug":"wordpress-move","content":"<p>他サーバーからXserverへ移行するときの手順のすべてを紹介します。手順が多く大変だと思いますが、１つ１つの意味を理解して移行を成功させましょう！</p>\n<p><strong>※ サーバー移行は少なからずリスクが伴うものです。<strong class=\"marker\">必ず自己責任でお願いいたします</strong>。この手順を元に何か不具合が起こってもわたしは一切の責任を負いません！</strong></p>\n<p>もし不安な方は代行等も可能ですので、お気軽にお問い合わせください。<br />\n（お問い合わせ自体は無料です）<br />\n→ <a href=\"https://haniwaman.com/lp/\" rel=\"noopener noreferrer\" target=\"_blank\" onclick=\"gtag('event', 'link', {'event_category': 'click', 'event_label': 'wordpress-move_お問い合わせ'});\">はにわまんへお問い合わせ</a></p>\n<div class=\"chat\"><figure class=\"chat-img\"><img src=\"https://haniwaman.com/wp-content/themes/hpcode/img/haniwa.png\" alt=\"\"><figcaption>はにわまん</figcaption></figure><div class=\"chat-content\">WordPressの移行はほとんどが準備ですね...</div></div>\n<div id=\"toc_container\" class=\"no_bullets\"><p class=\"toc_title\">目次</p><ul class=\"toc_list\"><li><a href=\"#Xserver\"><span class=\"toc_number toc_depth_1\">1</span> Xserverへのサーバー移行の流れ</a><ul><li><a href=\"#i\"><span class=\"toc_number toc_depth_2\">1.1</span> 手順１、テーマ、プラグイン、画像をダウンロード</a></li><li><a href=\"#All-in-One_WP_Migration\"><span class=\"toc_number toc_depth_2\">1.2</span> 手順２、「All-in-One WP Migration」でエクスポート</a></li><li><a href=\"#Xserver-2\"><span class=\"toc_number toc_depth_2\">1.3</span> 手順３、Xserverにドメイン追加</a></li><li><a href=\"#XserverWordPress\"><span class=\"toc_number toc_depth_2\">1.4</span> 手順４、Xserverに追加したドメインにWordPressを簡単インストール</a></li><li><a href=\"#XserverURL\"><span class=\"toc_number toc_depth_2\">1.5</span> 手順５、Xserverで動作確認URLを作成</a></li><li><a href=\"#URLURL\"><span class=\"toc_number toc_depth_2\">1.6</span> 手順６、ログインURLを動作確認URLに書き換え</a></li><li><a href=\"#URL\"><span class=\"toc_number toc_depth_2\">1.7</span> 手順７、動作確認URLの管理画面のアクセス</a></li><li><a href=\"#i-2\"><span class=\"toc_number toc_depth_2\">1.8</span> 手順８、移行元データを全部インポート</a></li><li><a href=\"#i-3\"><span class=\"toc_number toc_depth_2\">1.9</span> 手順９、画像をアップロード</a></li><li><a href=\"#i-4\"><span class=\"toc_number toc_depth_2\">1.10</span> 手順１０、表示に不具合がないか確認</a></li><li><a href=\"#i-5\"><span class=\"toc_number toc_depth_2\">1.11</span> 手順１１、移行後だと確認できる「何か」を残す</a></li><li><a href=\"#i-6\"><span class=\"toc_number toc_depth_2\">1.12</span> 手順１２、メール設定</a></li><li><a href=\"#URL-2\"><span class=\"toc_number toc_depth_2\">1.13</span> 手順１３、動作確認URLを元に戻す</a></li><li><a href=\"#i-7\"><span class=\"toc_number toc_depth_2\">1.14</span> 手順１４、ネームサーバーの切り替え</a></li><li><a href=\"#i-8\"><span class=\"toc_number toc_depth_2\">1.15</span> 手順１５、祈る</a></li><li><a href=\"#WordPressAll-in-One_WP_Migration\"><span class=\"toc_number toc_depth_2\">1.16</span> 手順１６、移行後のWordPressで再度「All-in-One WP Migration」インポート</a></li></ul></li><li><a href=\"#Xserver-3\"><span class=\"toc_number toc_depth_1\">2</span> なぜXserverがいい？</a></li><li><a href=\"#i-9\"><span class=\"toc_number toc_depth_1\">3</span> おわり</a></li></ul></div>\n<h2><span id=\"Xserver\">Xserverへのサーバー移行の流れ</span></h2>\n<p>Xserverへのサーバー移行の流れです。</p>\n<h3><span id=\"i\">手順１、テーマ、プラグイン、画像をダウンロード</span></h3>\n<p>移行元のサーバーから、テーマ、プラグイン、画像をダウンロードします。<br />\n具体的には、<span class=\"folder\">wp-content</span>以下の</p>\n<ul>\n<li>plugins</li>\n<li>uploads</li>\n<li>themes</li>\n</ul>\n<p>の3つです。フォルダごと全部ダウンロードしてください。</p>\n<h3><span id=\"All-in-One_WP_Migration\">手順２、「All-in-One WP Migration」でエクスポート</span></h3>\n<p>WordPress史上最強のバックアップツール「All-in-One WP Migration」でDB含めてまるごとエクスポートしちゃいます。</p>\n<p>参考 → <a href=\"https://haniwaman.com/all-in-one-wp-migration/\">WordPressのバックアップは「All-in-One WP Migration」でDBもテーマもオールOK！！</a></p>\n<p>All-in-One WP Migration → エクスポート<br />\n「高度なオプション」で「メディアライブラリをエクスポートしない (ファイル)\t」を選択。<br />\nエクスポート先 → ファイルを選択してダウンロードしちゃいましょう。<br />\n<img src=\"https://haniwaman.com/wp-content/uploads/2018/09/wordpress-move-700x488.png\" alt=\"\" class=\"alignnone size-medium wp-image-8576\" srcset=\"https://haniwaman.com/wp-content/uploads/2018/09/wordpress-move-700x488.png 700w, https://haniwaman.com/wp-content/uploads/2018/09/wordpress-move-768x535.png 768w, https://haniwaman.com/wp-content/uploads/2018/09/wordpress-move.png 906w\" sizes=\"(max-width: 700px) 100vw, 700px\" /></p>\n<p>こんな拡張子のファイルがダウンロードできます。<br />\n<img src=\"https://haniwaman.com/wp-content/uploads/2018/09/wordpress-move11.png\" alt=\"\" class=\"alignnone size-full wp-image-8592\" /></p>\n<p>メディアはサイズが重すぎるので、手動でアップロードする感じになります（後述します）</p>\n<h3><span id=\"Xserver-2\">手順３、Xserverにドメイン追加</span></h3>\n<p>移行先のXserverにドメインを追加します。</p>\n<p>ドメイン設定 → ドメイン設定の追加<br />\n<img src=\"https://haniwaman.com/wp-content/uploads/2018/09/wordpress-move2-700x313.png\" alt=\"\" class=\"alignnone size-medium wp-image-8577\" srcset=\"https://haniwaman.com/wp-content/uploads/2018/09/wordpress-move2-700x313.png 700w, https://haniwaman.com/wp-content/uploads/2018/09/wordpress-move2-768x343.png 768w, https://haniwaman.com/wp-content/uploads/2018/09/wordpress-move2.png 1114w\" sizes=\"(max-width: 700px) 100vw, 700px\" /><br />\n※ 推奨のチェックボックスは付けたままで！</p>\n<p>ドメインを追加したらサーバーが切り替わるわけではないので、ご安心を。Xserverにフォルダを追加するってイメージで考えていただければと思います。</p>\n<h3><span id=\"XserverWordPress\">手順４、Xserverに追加したドメインにWordPressを簡単インストール</span></h3>\n<p>WordPressには簡単インストールという機能があります。</p>\n<p>WordPress簡単インストールから移行対象となる（先ほど追加した）ドメインを選択してインストールしていきましょう。<br />\n<img src=\"https://haniwaman.com/wp-content/uploads/2018/09/wordpress-move3-700x419.png\" alt=\"\" class=\"alignnone size-medium wp-image-8579\" srcset=\"https://haniwaman.com/wp-content/uploads/2018/09/wordpress-move3-700x419.png 700w, https://haniwaman.com/wp-content/uploads/2018/09/wordpress-move3-768x459.png 768w, https://haniwaman.com/wp-content/uploads/2018/09/wordpress-move3-1200x718.png 1200w, https://haniwaman.com/wp-content/uploads/2018/09/wordpress-move3.png 1490w\" sizes=\"(max-width: 700px) 100vw, 700px\" /></p>\n<p>「WordPressのインストール」で記載する項目はインストールURL以外は、ぶっちゃけ何でもいいです。どうせ「All-in-One WP Migration」をインポートすると全部上書きされるので。<br />\nただ、<strong class=\"marker\">ログインに必要なので、ユーザー名とパスワードは忘れないように</strong>。。（もしくは覚えやすいものを設定）</p>\n<h4>インストールURLは移行元と合わせる！</h4>\n<p>wwwありなしが選べますが、移行元のURLがどちらで運用されているか確認して合わせておくと楽です。（一応、ずれてもなんとかなりますが、せっかく選択できるので合わせておくと楽ですね。）<br />\n<img src=\"https://haniwaman.com/wp-content/uploads/2018/09/wordpress-move9-700x391.png\" alt=\"\" class=\"alignnone size-medium wp-image-8589\" srcset=\"https://haniwaman.com/wp-content/uploads/2018/09/wordpress-move9-700x391.png 700w, https://haniwaman.com/wp-content/uploads/2018/09/wordpress-move9-768x429.png 768w, https://haniwaman.com/wp-content/uploads/2018/09/wordpress-move9.png 846w\" sizes=\"(max-width: 700px) 100vw, 700px\" /></p>\n<p>とりあえず、移行先のドメインでWordPressが使えるようになること（All-in-One WP Migrationプラグインを使えるようになること）が目的です。<br />\n<img src=\"https://haniwaman.com/wp-content/uploads/2018/09/wordpress-move4-700x924.png\" alt=\"\" class=\"alignnone size-medium wp-image-8580\" srcset=\"https://haniwaman.com/wp-content/uploads/2018/09/wordpress-move4-700x924.png 700w, https://haniwaman.com/wp-content/uploads/2018/09/wordpress-move4.png 739w\" sizes=\"(max-width: 700px) 100vw, 700px\" /></p>\n<h3><span id=\"XserverURL\">手順５、Xserverで動作確認URLを作成</span></h3>\n<p>動作確認URL → 動作確認URL設定の追加<br />\n<img src=\"https://haniwaman.com/wp-content/uploads/2018/09/wordpress-move5-700x280.png\" alt=\"\" class=\"alignnone size-medium wp-image-8581\" srcset=\"https://haniwaman.com/wp-content/uploads/2018/09/wordpress-move5-700x280.png 700w, https://haniwaman.com/wp-content/uploads/2018/09/wordpress-move5-768x307.png 768w, https://haniwaman.com/wp-content/uploads/2018/09/wordpress-move5.png 1122w\" sizes=\"(max-width: 700px) 100vw, 700px\" /></p>\n<p>作成されるまで結構な時間がかかります。<br />\n（1時間くらいは待機）</p>\n<p>動作確認URLをクリックしてアクセスできるようになるまで待ちます。<br />\n<img src=\"https://haniwaman.com/wp-content/uploads/2018/09/wordpress-move7-700x155.png\" alt=\"\" class=\"alignnone size-medium wp-image-8583\" srcset=\"https://haniwaman.com/wp-content/uploads/2018/09/wordpress-move7-700x155.png 700w, https://haniwaman.com/wp-content/uploads/2018/09/wordpress-move7-768x170.png 768w, https://haniwaman.com/wp-content/uploads/2018/09/wordpress-move7.png 1123w\" sizes=\"(max-width: 700px) 100vw, 700px\" /></p>\n<h3><span id=\"URLURL\">手順６、ログインURLを動作確認URLに書き換え</span></h3>\n<p>動作確認URLでWordPress管理画面にアクセスするためには、一時的に動作確認URLに向きを書き換えてあげる必要があります。<br />\n（管理画面の向いている先が元のドメインのままですので）</p>\n<p>phpmyadminで直接書き換えます。Xserverのサーバーパネルから「phpmyadmin」をクリックしてください。<br />\nベーシック認証が求められます。これは、<span class=\"filename\">wp-config.pnp</span>に記載されているものになります。</p>\n<p><span class=\"filename\">/wp-content/wp-config.php</span><br />\n<img src=\"https://haniwaman.com/wp-content/uploads/2018/09/wordpress-move6.png\" alt=\"\" class=\"alignnone size-full wp-image-8582\" /></p>\n<p>変更するテーブルは、「wp-options」の「siteurl」と「home」です。<br />\nここの「option_value」の値を動作確認URLに変更してあげてください。<br />\n※ この作業は一時的なものになります。後で戻すので<strong class=\"marker\">何に戻すかはメモしておいた方がいいかもしれません</strong>。<br />\n<img src=\"https://haniwaman.com/wp-content/uploads/2018/09/wordpress-move8-700x82.png\" alt=\"\" class=\"alignnone size-medium wp-image-8585\" srcset=\"https://haniwaman.com/wp-content/uploads/2018/09/wordpress-move8-700x82.png 700w, https://haniwaman.com/wp-content/uploads/2018/09/wordpress-move8-768x90.png 768w, https://haniwaman.com/wp-content/uploads/2018/09/wordpress-move8.png 963w\" sizes=\"(max-width: 700px) 100vw, 700px\" /></p>\n<h3><span id=\"URL\">手順７、動作確認URLの管理画面のアクセス</span></h3>\n<p>動作確認URLでWordPressの管理画面にアクセスできるようになっているはずです。</p>\n<p>管理画面へアクセスするURLは、動作確認URL + /wp-admin/<br />\nでリダイレクトしてくれるかと。</p>\n<p>今回作成した「http://haniwaman-com.check-xserver.jp/」を例にすると、「http://haniwaman-com.check-xserver.jp/wp-admin/」</p>\n<p>ログインしたら、なりふり構わず「All-in-One WP Migration」をインストールしましょう。<br />\n<img src=\"https://haniwaman.com/wp-content/uploads/2018/09/wordpress-move10-700x208.png\" alt=\"\" class=\"alignnone size-medium wp-image-8590\" srcset=\"https://haniwaman.com/wp-content/uploads/2018/09/wordpress-move10-700x208.png 700w, https://haniwaman.com/wp-content/uploads/2018/09/wordpress-move10-768x228.png 768w, https://haniwaman.com/wp-content/uploads/2018/09/wordpress-move10-1200x357.png 1200w, https://haniwaman.com/wp-content/uploads/2018/09/wordpress-move10.png 1963w\" sizes=\"(max-width: 700px) 100vw, 700px\" /></p>\n<h3><span id=\"i-2\">手順８、移行元データを全部インポート</span></h3>\n<p>All-in-One WP Migration → インポート<br />\nから、移行元のWordPress（手順２）でエクスポートしたファイルを選択してインポートしていきます。<br />\n<img src=\"https://haniwaman.com/wp-content/uploads/2018/09/wordpress-move11.png\" alt=\"\" class=\"alignnone size-full wp-image-8592\" /></p>\n<p>※ ファイルの容量によってはかなり時間がかかります。</p>\n<p>準備が完了すると、以下のような「データが全部書き換えられてしまいますが、大丈夫ですか？」ってメッセージが出ます。ちゃんと動作確認URLであることを確認して「PROCEED」をクリック！<br />\n<img src=\"https://haniwaman.com/wp-content/uploads/2018/05/all-in-one-wp-migration24.png\" alt=\"\" class=\"alignnone size-full wp-image-6366\" /></p>\n<p>これで、画像以外の全データが反映されました。ユーザーも書き換えられるので、移行元と同じユーザー、パスワードでログインし直してください。</p>\n<h3><span id=\"i-3\">手順９、画像をアップロード</span></h3>\n<p>「All-in-One WP Migration」では画像は重すぎるので取得されれないようにしました。こちらは手動で移行先のサーバーにアップロードしてあげる必要があります。</p>\n<p>手順１でダウンロードした<span class=\"folder\">uploads</span>フォルダをまるごと移行先のサーバーにアップロードします。場所は、<span class=\"folder\">/wp-content/uploads/</span>です。</p>\n<h3><span id=\"i-4\">手順１０、表示に不具合がないか確認</span></h3>\n<p>これで全てのデータが移行先のサーバーに移った状態になります。表示に問題がないか確認してください。</p>\n<h3><span id=\"i-5\">手順１１、移行後だと確認できる「何か」を残す</span></h3>\n<p>移行前と移行後で完全に同じ状態のサイトが出来上がっている状況です。全く同じだと、サーバーの切り替えた時に切り替わったかどうか判断できません。そこで、切り替わったかどうか判断できるような「何か」を残しておくといいかと思います。</p>\n<p>わたしがよくやるのは、固定ページなどのに「移行後」という下書きを残しておくことをやったりします。<br />\n<img src=\"https://haniwaman.com/wp-content/uploads/2018/09/wordpress-move12.png\" alt=\"\" class=\"alignnone size-full wp-image-8595\" /></p>\n<h3><span id=\"i-6\">手順１２、メール設定</span></h3>\n<p>もしサーバー依存のメールを使用している場合、<strong class=\"marker\">移行後のサーバーでもメール設定してあげないと、移行後にメールが届かない</strong>という事態になります（これは事故ですね&#8230;。）</p>\n<p>なので、Xserverでも移行前と同じアドレスのメールを作成しておく必要があります。<br />\n<img src=\"https://haniwaman.com/wp-content/uploads/2018/09/wordpress-move16-700x629.png\" alt=\"\" class=\"alignnone size-medium wp-image-8600\" srcset=\"https://haniwaman.com/wp-content/uploads/2018/09/wordpress-move16-700x629.png 700w, https://haniwaman.com/wp-content/uploads/2018/09/wordpress-move16-768x691.png 768w, https://haniwaman.com/wp-content/uploads/2018/09/wordpress-move16.png 1092w\" sizes=\"(max-width: 700px) 100vw, 700px\" /></p>\n<p>注意点として、<strong class=\"marker\">Xserverのメール設定は試用期間中はできません</strong>。お金を先に支払いましょう&#8230;。</p>\n<h3><span id=\"URL-2\">手順１３、動作確認URLを元に戻す</span></h3>\n<p>データがすべて移り、表示に問題がなさそうなことが確認できたら、動作確認URLの役目は終わりです。データベースの「wp_options」テーブルの「siteurl」と「home」の値を元に戻しておきましょう！（手順６の変更前の値）<br />\n<img src=\"https://haniwaman.com/wp-content/uploads/2018/09/wordpress-move13-700x103.png\" alt=\"\" class=\"alignnone size-medium wp-image-8596\" srcset=\"https://haniwaman.com/wp-content/uploads/2018/09/wordpress-move13-700x103.png 700w, https://haniwaman.com/wp-content/uploads/2018/09/wordpress-move13-768x113.png 768w, https://haniwaman.com/wp-content/uploads/2018/09/wordpress-move13.png 845w\" sizes=\"(max-width: 700px) 100vw, 700px\" /></p>\n<h3><span id=\"i-7\">手順１４、ネームサーバーの切り替え</span></h3>\n<p>さて、いよいよサーバー移行です。１３まではすべて準備です。サーバー移行はほぼ準備ですが、準備が一番大事です。</p>\n<p>ネームサーバーとは、<strong class=\"marker\">ドメインにアクセスした時にどこのサーバーを指し示すか</strong>の指定だと思っていただければと思います。</p>\n<p>ネームサーバーの設定は、契約している各ドメイン会社の管理画面から指定することができます。</p>\n<p>Xserverのネームサーバーは「サーバー情報」から確認できます。<br />\n<img src=\"https://haniwaman.com/wp-content/uploads/2018/09/wordpress-move14.png\" alt=\"\" class=\"alignnone size-full wp-image-8598\" /></p>\n<h4>ムームードメインの場合</h4>\n<p>ネームサーバ設定変更 → 取得したドメインで使用する<br />\n<img src=\"https://haniwaman.com/wp-content/uploads/2018/09/wordpress-move15.png\" alt=\"\" class=\"alignnone size-full wp-image-8599\" /></p>\n<h3><span id=\"i-8\">手順１５、祈る</span></h3>\n<p><img src=\"https://haniwaman.com/wp-content/uploads/2018/09/wordpress-move17.png\" alt=\"\" class=\"alignnone size-full wp-image-8603\" /><br />\n「頼むぅ&#8230;」</p>\n<p>ネームサーバーは馴染むまでに最大3日かかります。切り替わって表示を確認するまではドキドキですね&#8230;。</p>\n<p>人事を尽くしたので、天命を待つのみです。</p>\n<h3><span id=\"WordPressAll-in-One_WP_Migration\">手順１６、移行後のWordPressで再度「All-in-One WP Migration」インポート</span></h3>\n<p>無事、切り替わりましたでしょうか？</p>\n<p>「All-in-One WP Migration」でインポートすると、実は動作確認URLの方を向いているURLがいくつか存在するかと思います。</p>\n<p>これは、インポート時のサイトURLで「All-in-One WP Migration」が書き換えてくれるからですね。サイトURLが動作確認URLから戻った今、正しいURLに書き換えてあげる必要があります。</p>\n<p>管理画面にアクセスして、<br />\n<img src=\"https://haniwaman.com/wp-content/uploads/2018/09/wordpress-move12.png\" alt=\"\" class=\"alignnone size-full wp-image-8595\" /><br />\nがいることを確認したら、改めて「All-in-One WP Migration」をインポートしてあげてください！</p>\n<p>これで全ての工程は以上です。お疲れ様でした。</p>\n<h2><span id=\"Xserver-3\">なぜXserverがいい？</span></h2>\n<p>Xserverは動作確認URLがあります。静的なHTMLであればフォルダ群を移すだけで表示はある程度担保されると思いますが、WordPressはPHPやMySQLといったバックエンドの処理が動いてページが作られています。</p>\n<p>フォルダ群やMySQLのデータを移しても「<strong class=\"marker\">実際にちゃんと動くか分からない！</strong>」という怖さがあります。</p>\n<p>本番で動いている環境であれば、このちゃんとエラーなく動くかどうか分からない状態で移行させるのはリスクが大きいです。</p>\n<p>Xserverであれば、動作確認URLで<strong class=\"marker\">サーバーを切り替える前に「ちゃんと動くかどうか」の確認ができます</strong>。</p>\n<p>他のサーバーに比べると移行での失敗リスクを減らせるのが、めちゃくちゃ大きなメリットだと思っています。</p>\n<h2><span id=\"i-9\">おわり</span></h2><div class=\"matome\"><div class=\"matome-img\"><img src=\"https://haniwaman.com/wp-content/themes/hpcode/img/haniwa.png\" alt=\"\"></div><div class=\"matome-twitter\"><a href=\"https://twitter.com/haniwa008?ref_src=twsrc%5Etfw\" class=\"twitter-follow-button\" data-show-screen-name=\"false\" data-size=\"large\" data-lang=\"ja\" data-show-count=\"true\">Follow @haniwa008</a><script async src=\"https://platform.twitter.com/widgets.js\" charset=\"utf-8\"></script></div></div><!-- /matome -->\n<p>WordPressサイトをXserverへ移行する手順をすべて紹介しました。独自の方法なので、もしかしたらもっとカッコいい方法があるかもしれません。<br />\n（特に、移行後にもう一回「All-in-One WP Migration」のインポートするのはダサい気が&#8230;。）</p>\n<p><strong class=\"marker\">Xserverは動作確認URLがあるのがめちゃくちゃ強み</strong>だと思います。動作確認URLがあることで安心して移行ができます。</p>\n<p>全部で１６ほどの手順を紹介しました。１つ１つの意味を理解しつつ、取組んでみてください！（<strong>自己責任でお願いします&#8230;</strong>）</p>\n","date":"September 20, 2018","categories":[{"name":"WordPress","slug":"wordpress"}],"tags":null,"author":{"name":"はにわまん","slug":"haniwaman"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"id":"5ca7a545-6485-5b1e-bf13-770048c6f1f2"}}}