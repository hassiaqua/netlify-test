{"componentChunkName":"component---src-templates-post-js","path":"/floating/","result":{"data":{"wordpressPost":{"id":"ef2e92c0-60aa-5e70-b612-53b5c3f31d88","title":"スクロールの途中で出現するフローティングボタンのJavaScript","slug":"floating","content":"<p>スクロールの途中で出現するフローティングボタンのJavaScriptの書き方を紹介します。</p>\n<p>「トップへ戻る」「メニュー」「導線ボタン」など、いろいろ使い勝手の良いボタンなので、覚えてくと重宝します。</p>\n<div class=\"chat\"><figure class=\"chat-img\"><img src=\"https://haniwaman.com/wp-content/themes/hpcode/img/haniwa.png\" alt=\"\"><figcaption>はにわまん</figcaption></figure><div class=\"chat-content\">フローティングボタンは今風のWebサイトでは欠かせない要素ですよね</div></div>\n<div id=\"toc_container\" class=\"no_bullets\"><p class=\"toc_title\">目次</p><ul class=\"toc_list\"><li><a href=\"#HTML\"><span class=\"toc_number toc_depth_1\">1</span> HTML</a></li><li><a href=\"#CSS\"><span class=\"toc_number toc_depth_1\">2</span> CSS</a></li><li><a href=\"#JavaScript\"><span class=\"toc_number toc_depth_1\">3</span> JavaScript</a></li><li><a href=\"#i\"><span class=\"toc_number toc_depth_1\">4</span> おわり</a></li></ul></div>\n<h2><span id=\"HTML\">HTML</span></h2>\n<pre><span class=\"code-copy\" data-clipboard-target=\"#code-0\">コピー</span><code id=\"code-0\" class=\"html\">&lt;div class=\"floating\"&gt;\r\n\t&lt;a href=\"#\"&gt;トップへ&lt;/a&gt;\r\n&lt;/div&gt;</code></pre>\n<p><code>div</code>で囲っていますが、<code>a</code>タグに直接クラスを指定しても大丈夫です。（JavaScriptやCSSを少し書き換えるけど&#8230;）</p>\n<h2><span id=\"CSS\">CSS</span></h2>\n<pre><span class=\"code-copy\" data-clipboard-target=\"#code-1\">コピー</span><code id=\"code-1\" class=\"css\">.floating {\r\n\tposition: fixed;\r\n\tright: 8px;\r\n\tbottom: 8px;\r\n\tdisplay: none;\r\n}\r\n.floating a {\r\n\tdisplay: block;\r\n\tcolor: #fff;\r\n\tbackground: #000;\r\n\tpadding: 8px;\r\n\ttext-decoration: none;\r\n\topacity: 0.6;\r\n}\r\n.floating a:hover {\r\n\topacity: 1;\r\n}</code></pre>\n<p><code>position: fixed;</code>で右下に固定しています。初期値は<code>display: none;</code>で隠しています。</p>\n<h2><span id=\"JavaScript\">JavaScript</span></h2>\n<pre><span class=\"code-copy\" data-clipboard-target=\"#code-2\">コピー</span><code id=\"code-2\" class=\"js\">&lt;script src=\"https://code.jquery.com/jquery-3.2.1.min.js\"&gt;&lt;/script&gt;\r\n&lt;script&gt;\r\njQuery(window).on(\"scroll\", function($) {\r\n\tif (jQuery(this).scrollTop() &gt; 100) {\r\n\t\tjQuery('.floating').show();\r\n\t} else {\r\n\t\tjQuery('.floating').hide();\r\n\t}\r\n});\r\n\r\njQuery('.floating').click(function () {\r\n\tjQuery('body,html').animate({\r\n\t\tscrollTop: 0\r\n\t}, 500);\r\n\treturn false;\r\n});\r\n&lt;/script&gt;\r\n</code></pre>\n<p><code>$(this).scrollTop() > 100</code>の数字がフローティングボタンを表示するまでのスクロール量になります。</p>\n<p>スクロールして指定した数字を超えると、<code>show()</code>で表示させるような処理としています。</p>\n<h2><span id=\"i\">おわり</span></h2><div class=\"matome\"><div class=\"matome-img\"><img src=\"https://haniwaman.com/wp-content/themes/hpcode/img/haniwa.png\" alt=\"\"></div><div class=\"matome-twitter\"><a href=\"https://twitter.com/haniwa008?ref_src=twsrc%5Etfw\" class=\"twitter-follow-button\" data-show-screen-name=\"false\" data-size=\"large\" data-lang=\"ja\" data-show-count=\"true\">Follow @haniwa008</a><script async src=\"https://platform.twitter.com/widgets.js\" charset=\"utf-8\"></script></div></div><!-- /matome -->\n<p>スクロールの途中で出現するフローティングボタンのJavaScriptの書き方でした。</p>\n<p>「トップへ戻る」だけでなく、メニューや広告など、色々応用もできるので試してみてください。</p>\n","date":"January 01, 2018","categories":[{"name":"JavaScript","slug":"javascript"}],"tags":null,"author":{"name":"はにわまん","slug":"haniwaman"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"id":"ef2e92c0-60aa-5e70-b612-53b5c3f31d88"}}}