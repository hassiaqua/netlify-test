{"componentChunkName":"component---src-templates-post-js","path":"/clipboard-js/","result":{"data":{"wordpressPost":{"id":"7c7d1bcb-d82e-560f-813c-c44a4e6393c9","title":"テキストをクリップボードにコピーできるjQueryプラグイン「clipboard.js」","slug":"clipboard-js","content":"<p>テキストをクリップボードにコピーできるjQueryプラグイン「clipboard.js」を紹介します。</p>\n<p>実装すると以下のような処理ができるようになります！</p>\n<div class=\"demo\">DEMO（デモ）</div>\n<div id=\"clipboard-target\">ここの文字がコピーされます。</div>\n<div><button class=\"btn btn-clipboard\" data-clipboard-target=\"#clipboard-target\">コピーする</button><span class=\"clipboard-success\">コピーしました</span></div>\n<div class=\"chat\"><figure class=\"chat-img\"><img src=\"https://haniwaman.com/wp-content/themes/hpcode/img/haniwa.png\" alt=\"\"><figcaption>はにわまん</figcaption></figure><div class=\"chat-content\">できるだけユーザーに手間をかけさせないサイトの作りにしたいところです...</div></div>\n<div id=\"toc_container\" class=\"no_bullets\"><p class=\"toc_title\">目次</p><ul class=\"toc_list\"><li><a href=\"#i\"><span class=\"toc_number toc_depth_1\">1</span> ダウンロード</a></li><li><a href=\"#i-2\"><span class=\"toc_number toc_depth_1\">2</span> 使い方</a><ul><li><a href=\"#i-3\"><span class=\"toc_number toc_depth_2\">2.1</span> ライブラリを読み込む</a></li><li><a href=\"#i-4\"><span class=\"toc_number toc_depth_2\">2.2</span> 表示させるアイテム</a></li><li><a href=\"#clipboardjs\"><span class=\"toc_number toc_depth_2\">2.3</span> clipboard.jsの設定</a></li><li><a href=\"#clipboardjs-2\"><span class=\"toc_number toc_depth_2\">2.4</span> 【おまけ】clipboard.jsの実装</a></li></ul></li><li><a href=\"#i-5\"><span class=\"toc_number toc_depth_1\">3</span> おわり</a></li></ul></div>\n<h2><span id=\"i\">ダウンロード</span></h2>\n<p>※ ver 2.0.4時点の内容です。</p>\n<p>→ <a href=\"https://clipboardjs.com/\" rel=\"noopener noreferrer\" target=\"_blank\">https://clipboardjs.com/</a></p>\n<p>Install内の「download a ZIP」からダウンロードしてください。<br />\n<img src=\"https://haniwaman.com/wp-content/uploads/2018/01/clipboard-js.png\" alt=\"\" width=\"557\" height=\"283\" class=\"alignnone size-full wp-image-3369\" /></p>\n<h2><span id=\"i-2\">使い方</span></h2>\n<h3><span id=\"i-3\">ライブラリを読み込む</span></h3>\n<p>jQueryに依存しますので、先にjQueryを読み込んでください。</p>\n<pre><span class=\"code-copy\" data-clipboard-target=\"#code-0\">コピー</span><code id=\"code-0\" class=\"html\">&lt;script src=\"https://code.jquery.com/jquery-3.2.1.min.js\"&gt;&lt;/script&gt;\r\n&lt;script src=\"dist/clipboard.min.js\"&gt;&lt;/script&gt;\r\n</code></pre>\n<h3><span id=\"i-4\">表示させるアイテム</span></h3>\n<p>コピーする対象となる要素と、クリップボードへのコピーを発動させる要素を用意します。</p>\n<pre><span class=\"code-copy\" data-clipboard-target=\"#code-1\">コピー</span><code id=\"code-1\" class=\"html\">&lt;div id=\"clipboard-target\"&gt;ここの文字がコピーされます。&lt;/div&gt;\r\n&lt;button class=\"btn btn-clipboard\" data-clipboard-target=\"#clipboard-target\"&gt;コピー&lt;/button&gt;</code></pre>\n<p><code>data-clipboard-target</code>にコピーする対象となる要素のidを指定してあげてください。</p>\n<h3><span id=\"clipboardjs\">clipboard.jsの設定</span></h3>\n<pre><span class=\"code-copy\" data-clipboard-target=\"#code-2\">コピー</span><code id=\"code-2\" class=\"js\">new ClipboardJS('.btn-clipboard');\r\n</code></pre>\n<p>実装はとてもシンプル。トリガーとなる要素を指定するだけです。</p>\n<h3><span id=\"clipboardjs-2\">【おまけ】clipboard.jsの実装</span></h3>\n<p>コピーしたことが分かるようなアクションがほしいですよね。</p>\n<p>clipboard.jsにはコピーの成功、失敗を受け取る関数が存在します。こちらを使うことでコピーが成功した時に、「成功したよ」と知らせることができます。</p>\n<p>コピーが成功した時に、テキストを数秒だけ表示させる処理を実装しました。</p>\n<pre><span class=\"code-copy\" data-clipboard-target=\"#code-3\">コピー</span><code id=\"code-3\" class=\"html\">&lt;div id=\"clipboard-target\"&gt;ここの文字がコピーされます。&lt;/div&gt;\r\n&lt;button class=\"btn btn-clipboard\" data-clipboard-target=\"#clipboard-target\"&gt;コピー&lt;/button&gt;&lt;span class=\"clipboard-success\"&gt;コピーしました&lt;/span&gt;</code></pre>\n<pre><span class=\"code-copy\" data-clipboard-target=\"#code-4\">コピー</span><code id=\"code-4\" class=\"css\">.btn-clipboard {\r\n\tdisplay: inline-block;\r\n}\r\n.clipboard-success {\r\n\tdisplay: none;\r\n\tmargin: 0 0 0 8px;\r\n\tfont-size: .9em;\r\n}</code></pre>\n<pre><span class=\"code-copy\" data-clipboard-target=\"#code-5\">コピー</span><code id=\"code-5\" class=\"js\">var clipboard = new ClipboardJS('.btn-clipboard');\r\n/* コピーが成功した時の処理 */\r\nclipboard.on('success', function(e) {\r\n\t$('.clipboard-success').fadeIn(1000).fadeOut(1000);\r\n});</code></pre>\n<h2><span id=\"i-5\">おわり</span></h2><div class=\"matome\"><div class=\"matome-img\"><img src=\"https://haniwaman.com/wp-content/themes/hpcode/img/haniwa.png\" alt=\"\"></div><div class=\"matome-twitter\"><a href=\"https://twitter.com/haniwa008?ref_src=twsrc%5Etfw\" class=\"twitter-follow-button\" data-show-screen-name=\"false\" data-size=\"large\" data-lang=\"ja\" data-show-count=\"true\">Follow @haniwa008</a><script async src=\"https://platform.twitter.com/widgets.js\" charset=\"utf-8\"></script></div></div><!-- /matome -->\n<p>要素の値をクリップボードにコピーできる「clipboard.js」の紹介でした。</p>\n<p>とても簡単に実装できるので、ぜひお試しください。</p>\n","date":"January 13, 2018","categories":[{"name":"JavaScript","slug":"javascript"}],"tags":[{"name":"jQueryライブラリ","slug":"jquery"}],"author":{"name":"はにわまん","slug":"haniwaman"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"id":"7c7d1bcb-d82e-560f-813c-c44a4e6393c9"}}}