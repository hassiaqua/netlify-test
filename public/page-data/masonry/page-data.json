{"componentChunkName":"component---src-templates-post-js","path":"/masonry/","result":{"data":{"wordpressPost":{"id":"d824864b-6751-5177-a212-f9e8bb6a1c25","title":"画像を隙間なく詰めてピッタリ配置してくれるjQueryプラグイン「Masonry.js」","slug":"masonry","content":"<p>ギャラリーサイトなどで活躍しそうなjQueryプラグイン「Masonry.js」の使い方を紹介します。</p>\n<p>縦横の大きさが違う画像を配置すると、デコボコになったり変な余白が生まれたりしますが、Masonry.jsを使えば、隙間なくピッタリと画像を配置することができるようになります！</p>\n<div class=\"demo\">DEMO（デモ）</div>\n<div class=\"grid\">\n<div class=\"grid-item\"><img src=\"https://haniwaman.com/wp-content/uploads/2017/11/sweet-ice-cream-photography-326552-1024x576.jpg\" alt=\"\" /></div>\n<div class=\"grid-item\"><img src=\"https://haniwaman.com/wp-content/uploads/2017/11/nitish-meena-111116-1024x786.jpg\" alt=\"\" /></div>\n<div class=\"grid-item\"><img src=\"https://haniwaman.com/wp-content/uploads/2017/11/andrew-pons-57133-683x1024.jpg\" alt=\"\" /></div>\n<div class=\"grid-item\"><img src=\"https://haniwaman.com/wp-content/uploads/2017/11/sarah-ann-loreth-367325-1024x683.jpg\" /></div>\n<div class=\"grid-item\"><img src=\"https://haniwaman.com/wp-content/uploads/2017/11/jonatan-pie-367745-1024x683.jpg\" /></div>\n</div>\n<div class=\"chat\"><figure class=\"chat-img\"><img src=\"https://haniwaman.com/wp-content/themes/hpcode/img/haniwa.png\" alt=\"\"><figcaption>はにわまん</figcaption></figure><div class=\"chat-content\">画像をスッキリと配置できます！</div></div>\n<div id=\"toc_container\" class=\"no_bullets\"><p class=\"toc_title\">目次</p><ul class=\"toc_list\"><li><a href=\"#Masonryjs\"><span class=\"toc_number toc_depth_1\">1</span> Masonry.js のダウンロード</a></li><li><a href=\"#i\"><span class=\"toc_number toc_depth_1\">2</span> 使い方</a><ul><li><a href=\"#Masonryjs-2\"><span class=\"toc_number toc_depth_2\">2.1</span> Masonry.js の読み込み</a></li><li><a href=\"#Masonry\"><span class=\"toc_number toc_depth_2\">2.2</span> Masonryの設定（初期化）</a></li><li><a href=\"#i-2\"><span class=\"toc_number toc_depth_2\">2.3</span> 表示する要素</a></li><li><a href=\"#CSS\"><span class=\"toc_number toc_depth_2\">2.4</span> CSSの設定</a></li><li><a href=\"#i-3\"><span class=\"toc_number toc_depth_2\">2.5</span> 表示してみます</a></li></ul></li><li><a href=\"#imagesLoaded\"><span class=\"toc_number toc_depth_1\">3</span> 画像を正しく取得できるようになる「imagesLoaded」</a><ul><li><a href=\"#imagesLoaded_Masonryjs\"><span class=\"toc_number toc_depth_2\">3.1</span> imagesLoaded を使ってMasonry.jsを読み込む</a></li></ul></li><li><a href=\"#i-4\"><span class=\"toc_number toc_depth_1\">4</span> 画像の間に余白を入れたい！</a></li><li><a href=\"#Masonryjs-3\"><span class=\"toc_number toc_depth_1\">5</span> Masonry.js を使う際の注意</a></li><li><a href=\"#i-5\"><span class=\"toc_number toc_depth_1\">6</span> おわり</a></li></ul></div>\n<h2><span id=\"Masonryjs\">Masonry.js のダウンロード</span></h2>\n<p>ダウンロードページにアクセスしてください。<br />\n→ <a href=\"https://masonry.desandro.com/\" rel=\"noopener noreferrer\" target=\"_blank\">Masonry のダウンロードページ</a></p>\n<p>右上にある「Download masonry.pkgd.min.js」を右クリック → 名前をつけてリンク先を保存<br />\n<img src=\"https://haniwaman.com/wp-content/uploads/2018/04/masonry-700x374.png\" alt=\"\" width=\"700\" height=\"374\" class=\"alignnone size-medium wp-image-5620\" srcset=\"https://haniwaman.com/wp-content/uploads/2018/04/masonry-700x374.png 700w, https://haniwaman.com/wp-content/uploads/2018/04/masonry-768x410.png 768w, https://haniwaman.com/wp-content/uploads/2018/04/masonry-1200x641.png 1200w, https://haniwaman.com/wp-content/uploads/2018/04/masonry.png 1426w\" sizes=\"(max-width: 700px) 100vw, 700px\" /></p>\n<p><img src=\"https://haniwaman.com/wp-content/uploads/2018/04/masonry2.png\" alt=\"\" width=\"400\" class=\"alignnone size-full wp-image-5621\" /></p>\n<p>ファイル名はそのままで大丈夫です。<br />\n<span class=\"filename\">masonry.pkgd.min.js</span><br />\n<img src=\"https://haniwaman.com/wp-content/uploads/2018/04/masonry3.png\" alt=\"\" width=\"185\" height=\"231\" class=\"alignnone size-full wp-image-5622\" /></p>\n<h2><span id=\"i\">使い方</span></h2>\n<h3><span id=\"Masonryjs-2\">Masonry.js の読み込み</span></h3>\n<p>jQeryに依存するので、先にjQueryを読み込むことをお忘れなく！</p>\n<pre><span class=\"code-copy\" data-clipboard-target=\"#code-0\">コピー</span><code id=\"code-0\" class=\"html\">&lt;script src=\"https://code.jquery.com/jquery-3.2.1.min.js\"&gt;&lt;/script&gt;\r\n&lt;script src=\"masonry.pkgd.min.js\"&gt;&lt;/script&gt;</code></pre>\n<h3><span id=\"Masonry\">Masonryの設定（初期化）</span></h3>\n<pre><span class=\"code-copy\" data-clipboard-target=\"#code-1\">コピー</span><code id=\"code-1\" class=\"js\">jQuery('.grid').masonry({\r\n  itemSelector: '.grid-item'\r\n});</code></pre>\n<h3><span id=\"i-2\">表示する要素</span></h3>\n<p>好きな画像を設置してください。</p>\n<pre><span class=\"code-copy\" data-clipboard-target=\"#code-2\">コピー</span><code id=\"code-2\" class=\"html\">&lt;div class=\"grid\"&gt;\r\n  &lt;div class=\"grid-item\"&gt;&lt;img src=\"hoge.jpg\"&gt;&lt;/div&gt;\r\n  &lt;div class=\"grid-item\"&gt;&lt;img src=\"hoge.jpg\"&gt;&lt;/div&gt;\r\n  &lt;div class=\"grid-item\"&gt;&lt;img src=\"hoge.jpg\"&gt;&lt;/div&gt;\r\n\t&lt;div class=\"grid-item\"&gt;&lt;img src=\"hoge.jpg\"&gt;&lt;/div&gt;\r\n&lt;/div&gt;</code></pre>\n<h3><span id=\"CSS\">CSSの設定</span></h3>\n<pre><span class=\"code-copy\" data-clipboard-target=\"#code-3\">コピー</span><code id=\"code-3\" class=\"css\">.grid {\r\n\tmargin-bottom: 1.6em;\r\n}\r\n.grid-item {\r\n\twidth: 200px;\r\n}\r\n.grid-item img {\r\n\tmargin: 0;\r\n\tvertical-align: bottom;\r\n}</code></pre>\n<h3><span id=\"i-3\">表示してみます</span></h3>\n<p><span class=\"font-ll\">なんか崩れてる・・・</span></p>\n<p><img src=\"https://haniwaman.com/wp-content/uploads/2018/04/masonry4-700x480.png\" alt=\"\" width=\"700\" height=\"480\" class=\"alignnone size-medium wp-image-5632\" srcset=\"https://haniwaman.com/wp-content/uploads/2018/04/masonry4-700x480.png 700w, https://haniwaman.com/wp-content/uploads/2018/04/masonry4-768x526.png 768w, https://haniwaman.com/wp-content/uploads/2018/04/masonry4.png 944w\" sizes=\"(max-width: 700px) 100vw, 700px\" /></p>\n<p>これは<strong class=\"marker\">画像の大きさをちゃんと取得できていないために起こる問題</strong>で、解決するためにはもう１つライブラリーを入れる必要があります。</p>\n<h2><span id=\"imagesLoaded\">画像を正しく取得できるようになる「imagesLoaded」</span></h2>\n<p>→ <a href=\"https://imagesloaded.desandro.com/\" rel=\"noopener noreferrer\" target=\"_blank\">imagesLoaded のダウンロードページ</a></p>\n<p>ダウロードの場所は中断の「Install」エリアにあります。<br />\n右クリック → 名前をつけてリンク先を保存 で保存してください。<br />\n<img src=\"https://haniwaman.com/wp-content/uploads/2018/04/masonry5-700x289.png\" alt=\"\" width=\"700\" height=\"289\" class=\"alignnone size-medium wp-image-5633\" srcset=\"https://haniwaman.com/wp-content/uploads/2018/04/masonry5-700x289.png 700w, https://haniwaman.com/wp-content/uploads/2018/04/masonry5-768x317.png 768w, https://haniwaman.com/wp-content/uploads/2018/04/masonry5.png 821w\" sizes=\"(max-width: 700px) 100vw, 700px\" /></p>\n<p><span class=\"filename\">imagesloaded.pkgd.min.js</span><br />\n<img src=\"https://haniwaman.com/wp-content/uploads/2018/04/masonry6.png\" alt=\"\" width=\"167\" height=\"211\" class=\"alignnone size-full wp-image-5634\" /></p>\n<h3><span id=\"imagesLoaded_Masonryjs\">imagesLoaded を使ってMasonry.jsを読み込む</span></h3>\n<pre><span class=\"code-copy\" data-clipboard-target=\"#code-4\">コピー</span><code id=\"code-4\" class=\"html\">&lt;script src=\"https://code.jquery.com/jquery-3.2.1.min.js\"&gt;&lt;/script&gt;\r\n&lt;script src=\"imagesloaded.pkgd.min.js\"&gt;&lt;/script&gt;\r\n&lt;script src=\"masonry.pkgd.min.js\"&gt;&lt;/script&gt;</code></pre>\n<pre><span class=\"code-copy\" data-clipboard-target=\"#code-5\">コピー</span><code id=\"code-5\" class=\"js\">var $grid = jQuery('.grid').imagesLoaded(function(){\r\n\t$grid.masonry({\r\n\t\titemSelector: '.grid-item'\r\n  });\r\n});</code></pre>\n<p>もう一度、表示してみましょう！綺麗に表示されました。<br />\n※ 画像の種類が変わったのは大人の都合です笑<br />\n<img src=\"https://haniwaman.com/wp-content/uploads/2018/04/masonry7-700x356.png\" alt=\"\" width=\"700\" height=\"356\" class=\"alignnone size-medium wp-image-5645\" srcset=\"https://haniwaman.com/wp-content/uploads/2018/04/masonry7-700x356.png 700w, https://haniwaman.com/wp-content/uploads/2018/04/masonry7-768x391.png 768w, https://haniwaman.com/wp-content/uploads/2018/04/masonry7.png 932w\" sizes=\"(max-width: 700px) 100vw, 700px\" /></p>\n<h2><span id=\"i-4\">画像の間に余白を入れたい！</span></h2>\n<p>最後にちょっとだけカスタマイズしていきます。</p>\n<p>ビチっと画像が詰まっていると、個人的にはちょと視認性が悪いなって感じがします。なので少し画像間の余白を作りましょう。</p>\n<p>やり方は簡単で、先程のCSSの画像の<code>padding</code>を指定してあげるだけでOKです。</p>\n<pre><span class=\"code-copy\" data-clipboard-target=\"#code-6\">コピー</span><code id=\"code-6\" class=\"css\">.grid {\r\n\tmargin-bottom: 1.6em;\r\n}\r\n.grid-item {\r\n\twidth: 200px;\r\n\tpadding: 2px;\r\n}\r\n.grid-item img {\r\n\tvertical-align: bottom;\r\n}</code></pre>\n<p>ちょとと余白ができてわたしは満足です！<br />\n<img src=\"https://haniwaman.com/wp-content/uploads/2018/04/masonry8-700x352.png\" alt=\"\" width=\"700\" height=\"352\" class=\"alignnone size-medium wp-image-5648\" srcset=\"https://haniwaman.com/wp-content/uploads/2018/04/masonry8-700x352.png 700w, https://haniwaman.com/wp-content/uploads/2018/04/masonry8-768x386.png 768w, https://haniwaman.com/wp-content/uploads/2018/04/masonry8.png 912w\" sizes=\"(max-width: 700px) 100vw, 700px\" /></p>\n<h2><span id=\"Masonryjs-3\">Masonry.js を使う際の注意</span></h2>\n<p>画像を遅延して読み込むJavaScriptライブラリの「Lazy Load」と相性が悪いです・・・。</p>\n<p>Masonry.jsを使う際は、Lazy Loadを使わないようにしましょう。</p>\n<h2><span id=\"i-5\">おわり</span></h2><div class=\"matome\"><div class=\"matome-img\"><img src=\"https://haniwaman.com/wp-content/themes/hpcode/img/haniwa.png\" alt=\"\"></div><div class=\"matome-twitter\"><a href=\"https://twitter.com/haniwa008?ref_src=twsrc%5Etfw\" class=\"twitter-follow-button\" data-show-screen-name=\"false\" data-size=\"large\" data-lang=\"ja\" data-show-count=\"true\">Follow @haniwa008</a><script async src=\"https://platform.twitter.com/widgets.js\" charset=\"utf-8\"></script></div></div><!-- /matome -->\n<p>画像を隙間なく詰めてピッタリ配置してくれるjQueryプラグイン「Masonry.js」の紹介でした。</p>\n<p>レスポンシブにも対応していて、画面の幅に応じていい感じに動いてくれます。<br />\nギャラリー系のサイトを作る際にぜひご活用ください！</p>\n","date":"April 25, 2018","categories":[{"name":"JavaScript","slug":"javascript"}],"tags":[{"name":"jQueryライブラリ","slug":"jquery"}],"author":{"name":"はにわまん","slug":"haniwaman"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"id":"d824864b-6751-5177-a212-f9e8bb6a1c25"}}}