{"componentChunkName":"component---src-templates-post-js","path":"/mix-custom/","result":{"data":{"wordpressPost":{"id":"5fdd3baa-9c12-5946-8d8e-094094894c50","title":"カスタム投稿タイプに通常の投稿と同じカテゴリーとタグの設定を可能にし一覧表示で同期させる方法","slug":"mix-custom","content":"<p>カスタム投稿タイプと通常の投稿のカテゴリーを同期する方法です。</p>\n<p>「Custom Post Type UI」での設定と、functions.phpへの追記で実装することが可能です。</p>\n<div class=\"chat\"><figure class=\"chat-img\"><img src=\"https://haniwaman.com/wp-content/themes/hpcode/img/haniwa.png\" alt=\"\"><figcaption>はにわまん</figcaption></figure><div class=\"chat-content\">同期させて一覧へ一緒に表示させちゃいましょう！</div></div>\n<div id=\"toc_container\" class=\"no_bullets\"><p class=\"toc_title\">目次</p><ul class=\"toc_list\"><li><a href=\"#Custom_Post_Type_UI\"><span class=\"toc_number toc_depth_1\">1</span> Custom Post Type UIの設定</a></li><li><a href=\"#functionsphp\"><span class=\"toc_number toc_depth_1\">2</span> functions.phpへの追記</a></li><li><a href=\"#i\"><span class=\"toc_number toc_depth_1\">3</span> おわり</a></li></ul></div>\n<h2><span id=\"Custom_Post_Type_UI\">Custom Post Type UIの設定</span></h2>\n<p>「利用するタクソノミー」で「カテゴリー (WP コア)」「タグ (WP コア)」にチェック！<br />\n<img src=\"https://haniwaman.com/wp-content/uploads/2017/09/cpt_ui_plus_post.png\" alt=\"\" width=\"516\" height=\"227\" class=\"alignnone size-full wp-image-11781\" /></p>\n<h2><span id=\"functionsphp\">functions.phpへの追記</span></h2>\n<pre><span class=\"filename\">functions.php</span><span class=\"code-copy\" data-clipboard-target=\"#code-0\">コピー</span><code id=\"code-0\" class=\"php\">function my_main_query( $query ) {\r\n\tif ( is_admin() || ! $query-&gt;is_main_query() )\r\n\t\treturn;\r\n\r\n\tif ( $query-&gt;is_category() || $query-&gt;is_tag() ) {\r\n\t\t$query-&gt;set( 'post_type', array( 'post', 'post_type1' ) );\r\n\t\treturn;\r\n\t}\r\n}\r\nadd_action( 'pre_get_posts', 'my_main_query' );</code></pre>\n<p><code>array( 'post', 'post_type1' )</code>の<code>post_type1</code>は作成したカスタム投稿タイプ名を入力してください。</p>\n<p><code>array( 'post', 'post_type1', 'post_type2', 'post_type3' )</code>みたいな感じでいくらでも追加できます。</p>\n<h2><span id=\"i\">おわり</span></h2><div class=\"matome\"><div class=\"matome-img\"><img src=\"https://haniwaman.com/wp-content/themes/hpcode/img/haniwa.png\" alt=\"\"></div><div class=\"matome-twitter\"><a href=\"https://twitter.com/haniwa008?ref_src=twsrc%5Etfw\" class=\"twitter-follow-button\" data-show-screen-name=\"false\" data-size=\"large\" data-lang=\"ja\" data-show-count=\"true\">Follow @haniwa008</a><script async src=\"https://platform.twitter.com/widgets.js\" charset=\"utf-8\"></script></div></div><!-- /matome -->\n<p>カスタム投稿タイプに通常の投稿と同じカテゴリーとタグの設定を可能にし一覧表示で同期させる方法でした。</p>\n<p>タイトルが長すぎますね笑</p>\n","date":"December 24, 2017","categories":[{"name":"WordPress","slug":"wordpress"}],"tags":null,"author":{"name":"はにわまん","slug":"haniwaman"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"id":"5fdd3baa-9c12-5946-8d8e-094094894c50"}}}