{"componentChunkName":"component---src-templates-post-js","path":"/video-bg/","result":{"data":{"wordpressPost":{"id":"1d71bcec-a116-5d59-b032-7a5781fa990e","title":"動画をヒーローイメージのように画面いっぱいに背景表示させるCSS","slug":"video-bg","content":"<p>背景に動画を使うための方法を紹介していきます。厳密には背景は画像しか指定できないので、「背景っぽく」CSSで表現するって感じですね。</p>\n<p>この記事では<strong class=\"marker\">ファーストビューの画面いっぱいに動画を表示させるための書き方</strong>を紹介していきます。ヒーローイメージの動画版と考えていただければと思います。</p>\n<p>ちなみに、短めでいい感じの動画がほしい方は以下のサービスがおすすめです！（無料）<br />\n→ <a href=\"http://www.coverr.co/\" rel=\"noopener\" target=\"_blank\">Beautiful, Free Stock Video Footage For Your Homepage</a></p>\n<div class=\"chat\"><figure class=\"chat-img\"><img src=\"https://haniwaman.com/wp-content/themes/hpcode/img/haniwa.png\" alt=\"\"><figcaption>はにわまん</figcaption></figure><div class=\"chat-content\">5Gが浸透すれば、Webでも動画が当たり前になっていくのかもしれません。</div></div>\n<div id=\"toc_container\" class=\"no_bullets\"><p class=\"toc_title\">目次</p><ul class=\"toc_list\"><li><a href=\"#CSS\"><span class=\"toc_number toc_depth_1\">1</span> 動画を背景にするためのCSS</a><ul><li><a href=\"#i\"><span class=\"toc_number toc_depth_2\">1.1</span> マスクすると荒れない（らしい）</a></li><li><a href=\"#i-2\"><span class=\"toc_number toc_depth_2\">1.2</span> タイトルのコンテンツを中央に配置</a></li></ul></li><li><a href=\"#Youtube\"><span class=\"toc_number toc_depth_1\">2</span> Youtubeを表示させたい場合</a></li><li><a href=\"#i-3\"><span class=\"toc_number toc_depth_1\">3</span> 固定ヘッダーの背景を透明から白に</a></li><li><a href=\"#i-4\"><span class=\"toc_number toc_depth_1\">4</span> おわり</a></li></ul></div>\n<h2><span id=\"CSS\">動画を背景にするためのCSS</span></h2>\n<p>それでは早速、動画を背景にするCSSのコードを紹介していきます。以下のようにウインドウサイズを変更しても画面全体を覆っている状態を保ってくれます。<br />\n<img src=\"https://haniwaman.com/wp-content/uploads/2019/01/video-bg-700x485.gif\" alt=\"\" class=\"alignnone size-medium wp-image-13185\" srcset=\"https://haniwaman.com/wp-content/uploads/2019/01/video-bg-700x485.gif 700w, https://haniwaman.com/wp-content/uploads/2019/01/video-bg-768x532.gif 768w\" sizes=\"(max-width: 700px) 100vw, 700px\" /></p>\n<pre><span class=\"code-copy\" data-clipboard-target=\"#code-0\">コピー</span><code id=\"code-0\" class=\"html\">&lt;div id=\"mv\"&gt;\r\n\t&lt;video class=\"mv-bg\" src=\"img/mv.mp4\" muted=\"\" autoplay=\"\" loop=\"\"&gt;&lt;/video&gt;\r\n&lt;/div&gt;</code></pre>\n<p>動画を背景にする上で指定しておきたい<code>video</code>タグの属性が以下の３つだと思います。</p>\n<ul class=\"check\">\n<li><code>muted</code>・・・音声を出さない</li>\n<li><code>autoplay</code>・・・自動で再生する</li>\n<li><code>loop</code>・・・ループ再生させる</li>\n</ul>\n<p><code>.mv-bg</code>の方の<code>top</code>や<code>left</code>、<code>transform</code>は、動画のどこを画面の中央として基準にするかを指定するイメージでいていただければと思います。</p>\n<pre><span class=\"code-copy\" data-clipboard-target=\"#code-1\">コピー</span><code id=\"code-1\" class=\"css\">#mv {\r\n\theight: 100vh;\r\n\toverflow: hidden;\r\n\tposition: relative;\r\n\twidth: 100%;\r\n}\r\n\r\n.mv-bg {\r\n\t-webkit-transform: translateX(-50%);\r\n\tleft: 50%;\r\n\tmax-height: initial;\r\n\tmax-width: initial;\r\n\tmin-height: 100vh;\r\n\tmin-width: 100%;\r\n\tposition: absolute;\r\n\ttop: 0;\r\n\ttransform: translateX(-50%);\r\n\tz-index: -1;\r\n}</code></pre>\n<h3><span id=\"i\">マスクすると荒れない（らしい）</span></h3>\n<p>以下のように<code>background: linear-gradient</code>や<code>background: rgba</code>をすると、動画の「ボヤケ」が気になりづらくなるようです。もし動画のクオリティが気になるなら、試してみてください。</p>\n<table class=\"table\">\n<tr>\n<th>マスクなし</th>\n<th>マスクあり</th>\n</tr>\n<tr>\n<td><img src=\"https://haniwaman.com/wp-content/uploads/2019/01/video-bg2-700x415.png\" alt=\"\" class=\"alignnone size-medium wp-image-13191\" srcset=\"https://haniwaman.com/wp-content/uploads/2019/01/video-bg2-700x415.png 700w, https://haniwaman.com/wp-content/uploads/2019/01/video-bg2-768x455.png 768w, https://haniwaman.com/wp-content/uploads/2019/01/video-bg2.png 1025w\" sizes=\"(max-width: 700px) 100vw, 700px\" /></td>\n<td><img src=\"https://haniwaman.com/wp-content/uploads/2019/01/video-bg3-700x414.png\" alt=\"\" class=\"alignnone size-medium wp-image-13192\" srcset=\"https://haniwaman.com/wp-content/uploads/2019/01/video-bg3-700x414.png 700w, https://haniwaman.com/wp-content/uploads/2019/01/video-bg3-768x454.png 768w, https://haniwaman.com/wp-content/uploads/2019/01/video-bg3.png 1025w\" sizes=\"(max-width: 700px) 100vw, 700px\" /></td>\n</tr>\n</table>\n<p>0.6の透過を指定する値を変えることでぼやけ具合は調整できるかと思います。</p>\n<pre><span class=\"code-copy\" data-clipboard-target=\"#code-2\">コピー</span><code id=\"code-2\" class=\"css\">#mv {\r\n\tbackground: linear-gradient(to bottom, rgba(241, 233, 158, 0.6), rgba(241, 233, 158, 0.6));\r\n\theight: 100vh;\r\n\toverflow: hidden;\r\n\tposition: relative;\r\n\twidth: 100%;\r\n}\r\n</code></pre>\n<p>動画を背景の下に回す必要があるので、次の<code>z-index: -1;</code>の指定（マイナスなら何でもOK）も忘れずに追加しておきてください。</p>\n<pre><span class=\"code-copy\" data-clipboard-target=\"#code-3\">コピー</span><code id=\"code-3\" class=\"css\">.mv-bg {\r\n\tz-index: -1;\r\n}</code></pre>\n<h3><span id=\"i-2\">タイトルのコンテンツを中央に配置</span></h3>\n<p>ヒーローイメージの中央に文字を配置するように動画の背景にも文字を入れたいケースもあるかと思います。以下のように文字を入力する用の<code>.mv-content</code>のエリアを作り、その中にタイトルであったりリード文であったり色々と入れれるように作っていきましょう。</p>\n<p>先ほどのマスクと組み合わせると動画の上でも読みやすいテキストになるかもしれません。<br />\n<img src=\"https://haniwaman.com/wp-content/uploads/2019/01/video-bg-700x454.png\" alt=\"\" class=\"alignnone size-medium wp-image-13184\" srcset=\"https://haniwaman.com/wp-content/uploads/2019/01/video-bg-700x454.png 700w, https://haniwaman.com/wp-content/uploads/2019/01/video-bg-768x498.png 768w, https://haniwaman.com/wp-content/uploads/2019/01/video-bg.png 975w\" sizes=\"(max-width: 700px) 100vw, 700px\" /></p>\n<pre><span class=\"code-copy\" data-clipboard-target=\"#code-4\">コピー</span><code id=\"code-4\" class=\"html\">&lt;div id=\"mv\"&gt;\r\n\t&lt;video class=\"mv-bg\" src=\"img/mv.mp4\" muted=\"\" autoplay=\"\" loop=\"\"&gt;&lt;/video&gt;\r\n\t&lt;div class=\"mv-content\"&gt;\r\n\t\t&lt;div class=\"mv-title\"&gt;タイトルです！&lt;/div&gt;\r\n\t&lt;/div&gt;\r\n&lt;/div&gt;</code></pre>\n<p>以下のCSSを追加します。文字エリアの配置場所は<code>.mv-content</code>でコントロールするイメージです。</p>\n<pre><span class=\"code-copy\" data-clipboard-target=\"#code-5\">コピー</span><code id=\"code-5\" class=\"css\">.mv-content {\r\n\t-webkit-transform: translate(-50%, -50%);\r\n\tleft: 50%;\r\n\tposition: absolute;\r\n\ttext-align: center;\r\n\ttop: 50%;\r\n\ttransform: translate(-50%, -50%);\r\n\twidth: 100%;\r\n\tpadding: 0 24px;\r\n\tz-index: 2;\r\n}\r\n\r\n.mv-title {\r\n\tcolor: #333;\r\n\tfont-size: 42px;\r\n\tfont-weight: 700;\r\n}</code></pre>\n<h2><span id=\"Youtube\">Youtubeを表示させたい場合</span></h2>\n<p>自前の動画ではなくYoutube動画を表示させたい場合は、「jquery.mb.YTPlayer」というjQueryのライブラリが手軽で便利です。</p>\n<p>以下の記事でまとめていますので、Youtubeから動画を読み込ませたい方は参考にしてみてください！</p>\n<blockquote class=\"wp-embedded-content\" data-secret=\"YuR5U0bqxs\"><p><a href=\"https://haniwaman.com/jquery-mb-ytplayer/\">YouTube動画の背景再生を設定できるjQueryプラグイン「jquery.mb.YTPlayer」</a></p></blockquote>\n<p><iframe title=\"&#8220;YouTube動画の背景再生を設定できるjQueryプラグイン「jquery.mb.YTPlayer」&#8221; &#8212; HPcode\" class=\"wp-embedded-content\" sandbox=\"allow-scripts\" security=\"restricted\" style=\"position: absolute; clip: rect(1px, 1px, 1px, 1px);\" src=\"https://haniwaman.com/jquery-mb-ytplayer/embed/#?secret=YuR5U0bqxs\" data-secret=\"YuR5U0bqxs\" width=\"500\" height=\"282\" frameborder=\"0\" marginwidth=\"0\" marginheight=\"0\" scrolling=\"no\"></iframe></p>\n<h2><span id=\"i-3\">固定ヘッダーの背景を透明から白に</span></h2>\n<p>ヒーローイメージでよくある固定ヘッダーを透明から白にする処理も合わせて見ておきましょう！</p>\n<p>下記のような動きになるはずです。<br />\n<img src=\"https://haniwaman.com/wp-content/uploads/2019/01/video-bg2.gif\" alt=\"\" class=\"alignnone size-medium wp-image-13187\" /></p>\n<p>ロゴやナビのHTMLも書いていますが、CSSの方には適応していません。<code>#header</code>に対してどういった処理を行うかをメインに確認していただければと思います。</p>\n<pre><span class=\"code-copy\" data-clipboard-target=\"#code-6\">コピー</span><code id=\"code-6\" class=\"html\">&lt;header id=\"header\"&gt;\r\n&lt;div class=\"inner\"&gt;\r\n\r\n&lt;p class=\"header-logo\"&gt;&lt;a href=\"\"&gt;ロゴ&lt;/a&gt;&lt;/p&gt;\r\n\r\n&lt;nav class=\"header-nav\"&gt;\r\n&lt;ul class=\"header-list\"&gt;\r\n\t&lt;li class=\"header-item\"&gt;&lt;a href=\"#section1\"&gt;セクション１&lt;/a&gt;&lt;/li&gt;\r\n\t&lt;li class=\"header-item\"&gt;&lt;a href=\"#section2\"&gt;セクション２&lt;/a&gt;&lt;/li&gt;\r\n\t&lt;li class=\"header-item\"&gt;&lt;a href=\"#section3\"&gt;セクション３&lt;/a&gt;&lt;/li&gt;\r\n&lt;/ul&gt;\r\n&lt;/nav&gt;\r\n\r\n&lt;/div&gt;\r\n&lt;/header&gt;</code></pre>\n<p>CSSは固定ヘッダーに関する最小限の部分しか書いていません。通常は<code>background: transparent;</code>で透明にして、スクロールされたら<code>background: #fff;</code>にするというCSSになります。</p>\n<pre><span class=\"code-copy\" data-clipboard-target=\"#code-7\">コピー</span><code id=\"code-7\" class=\"css\">#header {\r\n\tbackground: transparent;\r\n\tleft: 0;\r\n\tposition: fixed;\r\n\ttop: 0;\r\n\twidth: 100%;\r\n\tz-index: 20;\r\n}\r\n\r\n#header.m_scroll {\r\n\tbackground: #fff;\r\n}</code></pre>\n<p>jQueryの<code>scroll</code>イベントで100px以上スクロールされたら、<code>m_scroll</code>というクラスを付ける処理を行っています。このクラスがつくことによってCSSで指定した背景の白色が適応されるということです。</p>\n<pre><span class=\"code-copy\" data-clipboard-target=\"#code-8\">コピー</span><code id=\"code-8\" class=\"js\">jQuery( window ).on( 'scroll', function( $ ) {\r\n\tif ( 100 &lt; jQuery( this ).scrollTop() ) {\r\n\t\tjQuery( '#header' ).addClass( 'm_scroll' );\r\n\t} else {\r\n\t\tjQuery( '#header' ).removeClass( 'm_scroll' );\r\n\t}\r\n});</code></pre>\n<h2><span id=\"i-4\">おわり</span></h2><div class=\"matome\"><div class=\"matome-img\"><img src=\"https://haniwaman.com/wp-content/themes/hpcode/img/haniwa.png\" alt=\"\"></div><div class=\"matome-twitter\"><a href=\"https://twitter.com/haniwa008?ref_src=twsrc%5Etfw\" class=\"twitter-follow-button\" data-show-screen-name=\"false\" data-size=\"large\" data-lang=\"ja\" data-show-count=\"true\">Follow @haniwa008</a><script async src=\"https://platform.twitter.com/widgets.js\" charset=\"utf-8\"></script></div></div><!-- /matome -->\n<p>動画をヒーローイメージのように画面いっぱいに背景表示させるCSSの紹介でした！</p>\n<p>時代に合わせてどんどんリッチになっているWebサイトですが、画像の次は動画が主流になるんですかね。ヒーローイメージが過去のものになり、ヒーロービデオが当たり前になる時代がくるかもしれません。</p>\n","date":"January 30, 2019","categories":[{"name":"CSS","slug":"css"}],"tags":null,"author":{"name":"はにわまん","slug":"haniwaman"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"id":"1d71bcec-a116-5d59-b032-7a5781fa990e"}}}