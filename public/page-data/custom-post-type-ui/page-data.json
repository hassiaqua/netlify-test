{"componentChunkName":"component---src-templates-post-js","path":"/custom-post-type-ui/","result":{"data":{"wordpressPost":{"id":"1cf4805c-58af-582c-9028-1458cd7e70ee","title":"カスタム投稿タイプを簡単に作成できる「Custom Post Type UI」の使い方！","slug":"custom-post-type-ui","content":"<p>カスタム投稿タイプを簡単に追加できる「<strong>Custom Post Type UI</strong>」の紹介です！初心者のころのわたしは変な意地があって自作でカスタム投稿タイプを作ることにムキになっていましたが、先人の恩恵を受けて「Custom Post Type UI」で運用した方がどれだけ簡単か・・・。</p>\n<p>ということで、みなさまも中途半端な知識で自作しようとせずに、素直にプラグインを使っていきましょう。</p>\n<p><strong class=\"marker\">カスタム投稿タイプは「Custom Post Type UI」を使えば、めちゃくちゃ簡単に追加できます！</strong>今回は以下のような「ニュース」のカスタム投稿タイプを作っていこうと思います。<br />\n<img width=\"220\" src=\"https://haniwaman.com/wp-content/uploads/2019/01/custom-post-type-ui13.png\" alt=\"\" class=\"alignnone size-full wp-image-12144\" /></p>\n<div class=\"chat\"><figure class=\"chat-img\"><img src=\"https://haniwaman.com/wp-content/themes/hpcode/img/haniwa.png\" alt=\"\"><figcaption>はにわまん</figcaption></figure><div class=\"chat-content\">カスタム投稿タイプは実際の案件でも割とよく使われる機能です</div></div>\n<div id=\"toc_container\" class=\"no_bullets\"><p class=\"toc_title\">目次</p><ul class=\"toc_list\"><li><a href=\"#Custom_Post_Type_UI\"><span class=\"toc_number toc_depth_1\">1</span> 「Custom Post Type UI」のインストール</a></li><li><a href=\"#i\"><span class=\"toc_number toc_depth_1\">2</span> カスタム投稿タイプの追加</a><ul><li><a href=\"#URL\"><span class=\"toc_number toc_depth_2\">2.1</span> カスタム投稿タイプの一覧ページ（URL）を作るかどうか</a></li></ul></li><li><a href=\"#i-2\"><span class=\"toc_number toc_depth_1\">3</span> カスタム投稿タイプのテンプレートの作り方</a><ul><li><a href=\"#i-3\"><span class=\"toc_number toc_depth_2\">3.1</span> 個別ページ</a></li><li><a href=\"#i-4\"><span class=\"toc_number toc_depth_2\">3.2</span> 一覧ページ</a></li></ul></li><li><a href=\"#i-5\"><span class=\"toc_number toc_depth_1\">4</span> タクソノミーの追加</a><ul><li><a href=\"#i-6\"><span class=\"toc_number toc_depth_2\">4.1</span> カテゴリーっぽく使うか、タグっぽく使うか</a></li><li><a href=\"#i-7\"><span class=\"toc_number toc_depth_2\">4.2</span> クイック編集を可能にするかどうか</a></li></ul></li><li><a href=\"#i-8\"><span class=\"toc_number toc_depth_1\">5</span> タクソノミーのテンプレートの作り方</a></li><li><a href=\"#i-9\"><span class=\"toc_number toc_depth_1\">6</span> おわり</a></li></ul></div>\n<h2><span id=\"Custom_Post_Type_UI\">「Custom Post Type UI」のインストール</span></h2>\n<p>プラグイン → 新規追加 → キーワード「Custom Post Type UI」<br />\n<img src=\"https://haniwaman.com/wp-content/uploads/2019/01/custom-post-type-ui-700x229.png\" alt=\"\" class=\"alignnone size-medium wp-image-12126\" srcset=\"https://haniwaman.com/wp-content/uploads/2019/01/custom-post-type-ui-700x229.png 700w, https://haniwaman.com/wp-content/uploads/2019/01/custom-post-type-ui-768x251.png 768w, https://haniwaman.com/wp-content/uploads/2019/01/custom-post-type-ui-1200x392.png 1200w, https://haniwaman.com/wp-content/uploads/2019/01/custom-post-type-ui.png 1963w\" sizes=\"(max-width: 700px) 100vw, 700px\" /></p>\n<p>有効化までしておきましょう。<br />\n<img width=\"420\" src=\"https://haniwaman.com/wp-content/uploads/2019/01/custom-post-type-ui2-700x271.png\" alt=\"\" class=\"alignnone size-medium wp-image-12127\" srcset=\"https://haniwaman.com/wp-content/uploads/2019/01/custom-post-type-ui2-700x271.png 700w, https://haniwaman.com/wp-content/uploads/2019/01/custom-post-type-ui2-768x297.png 768w, https://haniwaman.com/wp-content/uploads/2019/01/custom-post-type-ui2.png 973w\" sizes=\"(max-width: 700px) 100vw, 700px\" /></p>\n<p>インストールされると、左のメニューに「CPT UI」というエリアが追加されます。<br />\n<img width=\"200\" src=\"https://haniwaman.com/wp-content/uploads/2019/01/custom-post-type-ui3.png\" alt=\"\" class=\"alignnone size-full wp-image-12130\" /></p>\n<h2><span id=\"i\">カスタム投稿タイプの追加</span></h2>\n<p>CPT UI → 投稿タイプの追加と編集 から新しいカスタム投稿タイプを追加していきます。<br />\n<img src=\"https://haniwaman.com/wp-content/uploads/2019/01/custom-post-type-ui4.png\" alt=\"\" class=\"alignnone size-full wp-image-12131\" /></p>\n<p>今回は「ニュース」というカスタム投稿タイプを作っていこうと思います。<br />\n<img src=\"https://haniwaman.com/wp-content/uploads/2019/01/custom-post-type-ui5-700x383.png\" alt=\"\" class=\"alignnone size-medium wp-image-12132\" srcset=\"https://haniwaman.com/wp-content/uploads/2019/01/custom-post-type-ui5-700x383.png 700w, https://haniwaman.com/wp-content/uploads/2019/01/custom-post-type-ui5-768x420.png 768w, https://haniwaman.com/wp-content/uploads/2019/01/custom-post-type-ui5-1200x656.png 1200w, https://haniwaman.com/wp-content/uploads/2019/01/custom-post-type-ui5.png 1517w\" sizes=\"(max-width: 700px) 100vw, 700px\" /></p>\n<p>「基本設定」の項目は全部必須です。それぞれの項目の意味は以下のとおりです。</p>\n<table class=\"table\">\n<tr>\n<th width=\"120\">投稿タイプスラッグ</th>\n<td>半角英数字で投稿タイプのスラッグ名を指定します。URLにも使われます。</td>\n</tr>\n<tr>\n<th>複数形のラベル</th>\n<td>メニュー名に使われます。</td>\n</tr>\n<tr>\n<th>単数形のラベル</th>\n<td>「複数形のラベル」と同じで特に問題はないかと（どこに使われるか不明）</td>\n</tr>\n</table>\n<h3><span id=\"URL\">カスタム投稿タイプの一覧ページ（URL）を作るかどうか</span></h3>\n<p>カスタム投稿タイプはデフォルトでは一覧ページを「持たない」という設定になっています。持たなくもいいケースもあるかと思いますが、今回は「ニュース」としてのカスタム投稿タイプを作りますので、一覧ページはほしいところです。</p>\n<p>ということで、少しスクロールした先にある設定から「アーカイブあり」の項目を<code>true</code>に変更しておきましょう。<br />\n<img src=\"https://haniwaman.com/wp-content/uploads/2019/01/custom-post-type-ui18-700x267.png\" alt=\"\" class=\"alignnone size-medium wp-image-12288\" srcset=\"https://haniwaman.com/wp-content/uploads/2019/01/custom-post-type-ui18-700x267.png 700w, https://haniwaman.com/wp-content/uploads/2019/01/custom-post-type-ui18-768x293.png 768w, https://haniwaman.com/wp-content/uploads/2019/01/custom-post-type-ui18-1200x458.png 1200w, https://haniwaman.com/wp-content/uploads/2019/01/custom-post-type-ui18.png 1517w\" sizes=\"(max-width: 700px) 100vw, 700px\" /></p>\n<h2><span id=\"i-2\">カスタム投稿タイプのテンプレートの作り方</span></h2>\n<p>カスタム投稿タイプのテンプレートの作り方です。前提知識として<a href=\"https://wpdocs.osdn.jp/%E3%83%86%E3%83%B3%E3%83%97%E3%83%AC%E3%83%BC%E3%83%88%E9%9A%8E%E5%B1%A4\" rel=\"noopener\" target=\"_blank\">WordPressのテンプレート階層</a>を理解している必要があるのですが、ここではカスタム投稿タイプに必要な部分だけを紹介してこうと思います。</p>\n<h3><span id=\"i-3\">個別ページ</span></h3>\n<p><span class=\"filename\">single-{カスタム投稿タイプのスラッグ名}.php</span>で作成します。今回は「news」というスラッグ名でカスタム投稿タイプを作成したので、<span class=\"filename\">single-news.php</span>になります。</p>\n<p>作り方として、<span class=\"filename\">single.php</span>をベースとしてコピーして、news用にカスタマイズしていく感じがいいかと思います。<br />\n<img src=\"https://haniwaman.com/wp-content/uploads/2019/01/custom-post-type-ui.gif\" alt=\"\" class=\"alignnone size-full wp-image-12148\" /></p>\n<p>実際に個別ページを確認してみると、、<span class=\"filename\">single-news.php</span>が反映されていることが分かります。このフィアルを好きなようにカスタマイズしていく感じですね。<br />\n<img src=\"https://haniwaman.com/wp-content/uploads/2019/01/custom-post-type-ui14-700x370.png\" alt=\"\" class=\"alignnone size-medium wp-image-12151\" srcset=\"https://haniwaman.com/wp-content/uploads/2019/01/custom-post-type-ui14-700x370.png 700w, https://haniwaman.com/wp-content/uploads/2019/01/custom-post-type-ui14-768x406.png 768w, https://haniwaman.com/wp-content/uploads/2019/01/custom-post-type-ui14-1200x635.png 1200w, https://haniwaman.com/wp-content/uploads/2019/01/custom-post-type-ui14.png 1437w\" sizes=\"(max-width: 700px) 100vw, 700px\" /></p>\n<p>ちなみに、上部の管理バーに今の適応されているテンプレートを表示させるには、「Show Current Template」で実現できます。テーマ作成中は何のテンプレートが当たっているか確認しながら進めると仕事も捗るかと思います。</p>\n<blockquote class=\"wp-embedded-content\" data-secret=\"kd96uBG9Hx\"><p><a href=\"https://haniwaman.com/show-current-template/\">どのテンプレートを開いているか分かる「Show Current Template」でWordPressを丸裸に！</a></p></blockquote>\n<p><iframe title=\"&#8220;どのテンプレートを開いているか分かる「Show Current Template」でWordPressを丸裸に！&#8221; &#8212; HPcode\" class=\"wp-embedded-content\" sandbox=\"allow-scripts\" security=\"restricted\" style=\"position: absolute; clip: rect(1px, 1px, 1px, 1px);\" src=\"https://haniwaman.com/show-current-template/embed/#?secret=kd96uBG9Hx\" data-secret=\"kd96uBG9Hx\" width=\"500\" height=\"282\" frameborder=\"0\" marginwidth=\"0\" marginheight=\"0\" scrolling=\"no\"></iframe></p>\n<h3><span id=\"i-4\">一覧ページ</span></h3>\n<p><span class=\"filename\">archive-{カスタム投稿タイプのスラッグ名}.php</span>で作成します。今回は「news」というスラッグ名でカスタム投稿タイプを作成したので、<span class=\"filename\">archive-news.php</span>になります。</p>\n<p>作り方として、<span class=\"filename\">archive.php</span>をベースとしてコピーして、news用にカスタマイズしていく感じがいいかと思います。<br />\n<img src=\"https://haniwaman.com/wp-content/uploads/2019/01/custom-post-type-ui2.gif\" alt=\"\" class=\"alignnone size-full wp-image-12149\" /></p>\n<p>ドメイン名 + <code>/カスタム投稿タイプのスラッグ名/</code>がカスタム投稿タイプの一覧ページのURLとなります。<br />\nnewsというカスタム投稿タイプでhttps://haniwaman.com/のドメインのサイトだったら、https://haniwaman.com/news/が一覧ページです。※ このサイトには実際には存在しません。<br />\n<img src=\"https://haniwaman.com/wp-content/uploads/2019/01/custom-post-type-ui15-700x459.png\" alt=\"\" class=\"alignnone size-medium wp-image-12153\" srcset=\"https://haniwaman.com/wp-content/uploads/2019/01/custom-post-type-ui15-700x459.png 700w, https://haniwaman.com/wp-content/uploads/2019/01/custom-post-type-ui15-768x503.png 768w, https://haniwaman.com/wp-content/uploads/2019/01/custom-post-type-ui15-1200x786.png 1200w, https://haniwaman.com/wp-content/uploads/2019/01/custom-post-type-ui15.png 1549w\" sizes=\"(max-width: 700px) 100vw, 700px\" /></p>\n<h2><span id=\"i-5\">タクソノミーの追加</span></h2>\n<p>タクソノミーとは、投稿でいうところの「カテゴリー」や「タグ」を独自に新しく作る、というイメージでいいかと思います。今回は「ニュース」というカスタム投稿タイプのカテゴリー的な役割をさせるための「エリア」というタクソノミーを作っていきます。</p>\n<p>CPT UI → タクソノミーの追加と編集 から新しいカスタム投稿タイプを追加していきます。<br />\n<img width=\"220\" src=\"https://haniwaman.com/wp-content/uploads/2019/01/custom-post-type-ui7.png\" alt=\"\" class=\"alignnone size-full wp-image-12137\" /></p>\n<p>「エリア」というタクソノミーを作っていこうと思います。<br />\n<img src=\"https://haniwaman.com/wp-content/uploads/2019/01/custom-post-type-ui6-700x526.png\" alt=\"\" class=\"alignnone size-medium wp-image-12136\" srcset=\"https://haniwaman.com/wp-content/uploads/2019/01/custom-post-type-ui6-700x526.png 700w, https://haniwaman.com/wp-content/uploads/2019/01/custom-post-type-ui6-768x577.png 768w, https://haniwaman.com/wp-content/uploads/2019/01/custom-post-type-ui6-1200x901.png 1200w, https://haniwaman.com/wp-content/uploads/2019/01/custom-post-type-ui6.png 1503w\" sizes=\"(max-width: 700px) 100vw, 700px\" /></p>\n<p>「基本設定」の項目は全部必須です。それぞれの項目の意味は以下のとおりです。</p>\n<table class=\"table\">\n<tr>\n<th width=\"120\">タクソノミースラッグ</th>\n<td>半角英数字で投稿タイプのスラッグ名を指定します。URLにも使われます。</td>\n</tr>\n<tr>\n<th>複数形のラベル</th>\n<td>メニュー名に使われます。</td>\n</tr>\n<tr>\n<th>単数形のラベル</th>\n<td>「複数形のラベル」と同じで特に問題はないかと（どこに使われるか不明）</td>\n</tr>\n<tr>\n<th>利用する投稿タイプ</th>\n<td>どの投稿タイプで使うかを指定します。今回は「ニュース」のカスタム投稿タイプに紐づけたいのでニュースを選択しております。</td>\n</tr>\n</table>\n<h3><span id=\"i-6\">カテゴリーっぽく使うか、タグっぽく使うか</span></h3>\n<p>タクソノミーは独自のカテゴリーもしくはタグを作るといった仕組みです。タクソノミーを追加する際の設定で１つだけ考える場所は、「カテゴリーっぽくする」か、「タグっぽくするか」という点かと思います。</p>\n<p>設定する場所は、下の方にスクロールして設定パネルの中の「階層」です。<br />\n<img src=\"https://haniwaman.com/wp-content/uploads/2019/01/custom-post-type-ui8-700x214.png\" alt=\"\" class=\"alignnone size-medium wp-image-12287\" srcset=\"https://haniwaman.com/wp-content/uploads/2019/01/custom-post-type-ui8-700x214.png 700w, https://haniwaman.com/wp-content/uploads/2019/01/custom-post-type-ui8-768x235.png 768w, https://haniwaman.com/wp-content/uploads/2019/01/custom-post-type-ui8-1200x367.png 1200w, https://haniwaman.com/wp-content/uploads/2019/01/custom-post-type-ui8.png 1504w\" sizes=\"(max-width: 700px) 100vw, 700px\" /></p>\n<ul>\n<li>階層を<code>true</code> → カテゴリーっぽい使い方</li>\n<li>階層を<code>false</code> → タグっぽい使い方</li>\n</ul>\n<p>用途によって使い分けたらいいのですが、基本的に階層を持つ持たないって厳密に管理する案件ってほぼないので、どっちでもいいのかと&#8230;。</p>\n<p>個人的には、「カテゴリーだと全部の項目がチェックボックスで表示されてお客様も見やすく使いやすいだろう」って思って、いつも<code>true</code>にしています。<br />\n<img width=\"300\" src=\"https://haniwaman.com/wp-content/uploads/2019/01/custom-post-type-ui9.png\" alt=\"\" class=\"alignnone size-full wp-image-12140\" /></p>\n<h3><span id=\"i-7\">クイック編集を可能にするかどうか</span></h3>\n<p>クイック編集で操作できるようにすることも可能です。クイック編集とは、管理画面の編集一覧ページから、簡単に編集できる機能ですね。<br />\n<img src=\"https://haniwaman.com/wp-content/uploads/2019/01/custom-post-type-ui11-700x281.png\" alt=\"\" class=\"alignnone size-medium wp-image-12143\" srcset=\"https://haniwaman.com/wp-content/uploads/2019/01/custom-post-type-ui11-700x281.png 700w, https://haniwaman.com/wp-content/uploads/2019/01/custom-post-type-ui11-768x308.png 768w, https://haniwaman.com/wp-content/uploads/2019/01/custom-post-type-ui11.png 1182w\" sizes=\"(max-width: 700px) 100vw, 700px\" /></p>\n<p>特に理由がない限りは、クイック編集できたほうが便利なので<code>true</code>にしておくといいかと思います。<br />\n<img src=\"https://haniwaman.com/wp-content/uploads/2019/01/custom-post-type-ui10-700x225.png\" alt=\"\" class=\"alignnone size-medium wp-image-12142\" srcset=\"https://haniwaman.com/wp-content/uploads/2019/01/custom-post-type-ui10-700x225.png 700w, https://haniwaman.com/wp-content/uploads/2019/01/custom-post-type-ui10-768x247.png 768w, https://haniwaman.com/wp-content/uploads/2019/01/custom-post-type-ui10-1200x386.png 1200w, https://haniwaman.com/wp-content/uploads/2019/01/custom-post-type-ui10.png 1506w\" sizes=\"(max-width: 700px) 100vw, 700px\" /></p>\n<h2><span id=\"i-8\">タクソノミーのテンプレートの作り方</span></h2>\n<p>タクソノミーのテンプレートは、<span class=\"filename\">taxonomy-{タクソノミー名}.php</span>という形で作成します。今回はareaというタクソノミーを作成したので、<span class=\"filename\">taxonomy-area.php</span>というテンプレートを作れば反映されるはずです。</p>\n<p>こちらも一覧ページとして扱うので、<span class=\"filename\">archive.php</span>や<span class=\"filename\">category.php</span>をベースにして複製してカスタマイズする感じで作成していきます。<br />\n<img src=\"https://haniwaman.com/wp-content/uploads/2019/01/custom-post-type-ui3.gif\" alt=\"\" class=\"alignnone size-full wp-image-12154\" /></p>\n<p>タクソノミーのテンプレート階層については、以下の公式リファレンスを参考にしてください。<br />\n→ <a href=\"https://wpdocs.osdn.jp/%E3%82%BF%E3%82%AF%E3%82%BD%E3%83%8E%E3%83%9F%E3%83%BC%E3%83%86%E3%83%B3%E3%83%97%E3%83%AC%E3%83%BC%E3%83%88#.E3.82.BF.E3.82.AF.E3.82.BD.E3.83.8E.E3.83.9F.E3.83.BC.E3.83.86.E3.83.B3.E3.83.97.E3.83.AC.E3.83.BC.E3.83.88.E9.9A.8E.E5.B1.A4\" rel=\"noopener\" target=\"_blank\">タクソノミーテンプレート &#8211; WordPress Codex 日本語版</a></p>\n<p>作成したタクソノミーを「表示」させてみてみましょう！<br />\n<img src=\"https://haniwaman.com/wp-content/uploads/2019/01/custom-post-type-ui16-700x317.png\" alt=\"\" class=\"alignnone size-medium wp-image-12155\" srcset=\"https://haniwaman.com/wp-content/uploads/2019/01/custom-post-type-ui16-700x317.png 700w, https://haniwaman.com/wp-content/uploads/2019/01/custom-post-type-ui16-768x347.png 768w, https://haniwaman.com/wp-content/uploads/2019/01/custom-post-type-ui16.png 1119w\" sizes=\"(max-width: 700px) 100vw, 700px\" /></p>\n<p>作成した<span class=\"filename\">taxonomy-area.php</span>が反映されていることが分かります。<br />\n<img src=\"https://haniwaman.com/wp-content/uploads/2019/01/custom-post-type-ui17-700x400.png\" alt=\"\" class=\"alignnone size-medium wp-image-12156\" srcset=\"https://haniwaman.com/wp-content/uploads/2019/01/custom-post-type-ui17-700x400.png 700w, https://haniwaman.com/wp-content/uploads/2019/01/custom-post-type-ui17-768x439.png 768w, https://haniwaman.com/wp-content/uploads/2019/01/custom-post-type-ui17-1200x686.png 1200w, https://haniwaman.com/wp-content/uploads/2019/01/custom-post-type-ui17.png 1635w\" sizes=\"(max-width: 700px) 100vw, 700px\" /></p>\n<h2><span id=\"i-9\">おわり</span></h2><div class=\"matome\"><div class=\"matome-img\"><img src=\"https://haniwaman.com/wp-content/themes/hpcode/img/haniwa.png\" alt=\"\"></div><div class=\"matome-twitter\"><a href=\"https://twitter.com/haniwa008?ref_src=twsrc%5Etfw\" class=\"twitter-follow-button\" data-show-screen-name=\"false\" data-size=\"large\" data-lang=\"ja\" data-show-count=\"true\">Follow @haniwa008</a><script async src=\"https://platform.twitter.com/widgets.js\" charset=\"utf-8\"></script></div></div><!-- /matome -->\n<p>カスタム投稿タイプを簡単に作成できる「Custom Post Type UI」の使い方でした。</p>\n<p>投稿や固定ページ以外に投稿エリアを作りたいときに「Custom Post Type UI」を使ってみてください。<strong class=\"marker\">WordPressはカスタム投稿タイプでどんどん拡張していけるところが魅力の１つ</strong>ですよね。</p>\n<p>カスタム投稿タイプが扱えるようになっていると、対応できる案件の幅が大きく広げることができるかと思います。ぜひ、「Custom Post Type UI」を触ってみてカスタム投稿タイプを自在に操れるようにしておきましょう！</p>\n","date":"January 05, 2019","categories":[{"name":"WordPress","slug":"wordpress"}],"tags":[{"name":"WordPressプラグイン","slug":"plugin"}],"author":{"name":"はにわまん","slug":"haniwaman"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"id":"1cf4805c-58af-582c-9028-1458cd7e70ee"}}}