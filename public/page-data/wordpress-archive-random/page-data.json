{"componentChunkName":"component---src-templates-post-js","path":"/wordpress-archive-random/","result":{"data":{"wordpressPost":{"id":"0184cb88-cba4-587a-91fb-d5e979e8ae6d","title":"WordPressで記事をランダムに表示させる方法！カテゴリ毎でも可","slug":"wordpress-archive-random","content":"<p>WordPessで記事をランダムに表示させる方法を紹介します。</p>\n<p>プラグイン不要ですが、テンプレートを修正する必要はあります。</p>\n<div class=\"chat\"><figure class=\"chat-img\"><img src=\"https://haniwaman.com/wp-content/themes/hpcode/img/haniwa.png\" alt=\"\"><figcaption>はにわまん</figcaption></figure><div class=\"chat-content\">標準の仕組みでこういうことができるので、WordPressは楽です！</div></div>\n<div id=\"toc_container\" class=\"no_bullets\"><p class=\"toc_title\">目次</p><ul class=\"toc_list\"><li><a href=\"#WordPress\"><span class=\"toc_number toc_depth_1\">1</span> WordPressで記事をランダムに表示させる方法</a><ul><li><a href=\"#i\"><span class=\"toc_number toc_depth_2\">1.1</span> コードの解説</a></li></ul></li><li><a href=\"#i-2\"><span class=\"toc_number toc_depth_1\">2</span> カテゴリごとにランダムもできる</a></li><li><a href=\"#i-3\"><span class=\"toc_number toc_depth_1\">3</span> おわり</a></li></ul></div>\n<h2><span id=\"WordPress\">WordPressで記事をランダムに表示させる方法</span></h2>\n<p>カスタマイズして記事一覧を表示させるために「WP_Query」というクラスがWordPressでは用意されています。<br />\nランダムに表示するために難しい実装をする必要はなく、WP_Queryにランダムであることを教えてあげるだけで実装が可能です。</p>\n<p>では、実際のコードを見ていきましょう！</p>\n<pre><span class=\"code-copy\" data-clipboard-target=\"#code-0\">コピー</span><code id=\"code-0\" class=\"php\">&lt;?php\r\n$the_query = new WP_Query( array(\r\n\t\t'orderby' => 'rand',\r\n\t\t'posts_per_page' => '5',\r\n\t\t) );\r\nif ( $the_query->have_posts() ) :\r\n\twhile ( $the_query->have_posts() ) :\r\n\t\t$the_query->the_post();\r\n?&gt;\r\n\t\t\t\t\t\t\t\t\r\n&lt;a href=&quot;&lt;?php the_permalink();?&gt;&quot;&gt;&lt;?php the_title();?&gt;&lt;/a&gt;\r\n\t\t\t\t\r\n&lt;?php\r\n\tendwhile;\r\nelse:\r\n?&gt;\t\r\n&lt;span&gt;記事はありません&lt;/span&gt;\r\n&lt;?php\r\nendif;\r\n?&gt;\r\n&lt;?php wp_reset_postdata(); ?&gt;\r\n</code></pre>\n<p>5つの記事の見出しがランダムで表示されるという処理を行っています。テンプレート内のどこに記載にしても動くはずです。</p>\n<h3><span id=\"i\">コードの解説</span></h3>\n<p><code>'orderby' =&gt; 'rand'</code>でソートをランダムにするか、<br />\n<code>'posts_per_page' =&gt; '5'</code>は何件表示させるかを表しています。</p>\n<h2><span id=\"i-2\">カテゴリごとにランダムもできる</span></h2>\n<p>「WP_Query」に指示を与えればいろいろなカスタム一覧が作れます。カテゴリを絞り込んでランダムに表示させるといったことも可能です。</p>\n<p>例えば、特定のカテゴリーIDを指定して一覧を取得したい場合は、以下の通りとなります。</p>\n<pre><span class=\"code-copy\" data-clipboard-target=\"#code-1\">コピー</span><code id=\"code-1\" class=\"php\">$the_query = new WP_Query( array(\r\n\t\t'orderby' =&gt; 'rand',\r\n\t\t'posts_per_page' =&gt; '5',\r\n\t\t'cat' =&gt; '78',\r\n\t\t) );</code></pre>\n<p>指定方法はたくさんあるので、公式のドキュメントを見て何ができるか妄想してみるのも楽しいですよ！<br />\n→ <a href=\"https://wpdocs.osdn.jp/%E9%96%A2%E6%95%B0%E3%83%AA%E3%83%95%E3%82%A1%E3%83%AC%E3%83%B3%E3%82%B9/WP_Query\" rel=\"noopener\" target=\"_blank\">関数リファレンス/WP Query &#8211; WordPress Codex 日本語版</a></p>\n<p><h2><span id=\"i-3\">おわり</span></h2><div class=\"matome\"><div class=\"matome-img\"><img src=\"https://haniwaman.com/wp-content/themes/hpcode/img/haniwa.png\" alt=\"\"></div><div class=\"matome-twitter\"><a href=\"https://twitter.com/haniwa008?ref_src=twsrc%5Etfw\" class=\"twitter-follow-button\" data-show-screen-name=\"false\" data-size=\"large\" data-lang=\"ja\" data-show-count=\"true\">Follow @haniwa008</a><script async src=\"https://platform.twitter.com/widgets.js\" charset=\"utf-8\"></script></div></div><!-- /matome --><br />\n記事が増えてくるとどうしても埋もれてしまう記事がでてきてしまいがちです。</p>\n<p>ちょっとかわいそうなので、ランダム表示で、たまには人の目に触れさせてあげましょう！</p>\n<p>ということで、WordPressでのランダム表示の方法でした。</p>\n","date":"December 24, 2017","categories":[{"name":"WordPress","slug":"wordpress"}],"tags":null,"author":{"name":"はにわまん","slug":"haniwaman"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"id":"0184cb88-cba4-587a-91fb-d5e979e8ae6d"}}}