{"componentChunkName":"component---src-templates-post-js","path":"/google-map/","result":{"data":{"wordpressPost":{"id":"3aaf73be-18aa-53f6-9489-45e49d3e534b","title":"Googleマップの埋め込みタグの取得方法とレスポンシブ対応するためのCSS","slug":"google-map","content":"<p>LP案件のコーディングを行っていると、GoogleマップやYoutubeを埋め込む機会がめちゃくちゃ多いです。</p>\n<p>一度やりかたを覚えてしまえば問題ないですが、最初は戸惑いました。</p>\n<div class=\"box\">\n<ul>\n<li>Googleマップってそもそも埋め込みタグどこから取得するの？</li>\n<li>埋め込んだはいいものの画面サイズ小さくするとはみ出るんだけど</li>\n<li>はみ出なくなったけど、縦横比が保てない</li>\n</ul>\n</div>\n<p>この辺りの、最初のころに出くわす戸惑いを解消すべく、1からGoogleマップを読み込む手順を紹介していきます！</p>\n<p>レンダリング速度の関係でガタガタしてますが、こんな感じで縦横比を維持したままのマップが作れるようになるはずです。<br />\n<img src=\"https://haniwaman.com/wp-content/uploads/2018/12/google-map.gif\" alt=\"\" class=\"alignnone size-medium wp-image-11377\" /></p>\n<div class=\"chat\"><figure class=\"chat-img\"><img src=\"https://haniwaman.com/wp-content/themes/hpcode/img/haniwa.png\" alt=\"\"><figcaption>はにわまん</figcaption></figure><div class=\"chat-content\">埋め込み系は1つパターンを覚えたら使いまわせます！</div></div>\n<div id=\"toc_container\" class=\"no_bullets\"><p class=\"toc_title\">目次</p><ul class=\"toc_list\"><li><a href=\"#Google\"><span class=\"toc_number toc_depth_1\">1</span> Googleマップの埋め込みタグの取得</a></li><li><a href=\"#i\"><span class=\"toc_number toc_depth_1\">2</span> 埋め込み要素を縦横比を保ったままレスポンシブ対応</a><ul><li><a href=\"#i-2\"><span class=\"toc_number toc_depth_2\">2.1</span> 埋め込み要素を囲う要素を用意</a></li><li><a href=\"#CSS\"><span class=\"toc_number toc_depth_2\">2.2</span> 縦横比を維持したCSS</a></li></ul></li><li><a href=\"#Youtube\"><span class=\"toc_number toc_depth_1\">3</span> （おまけ）Youtubeの埋め込みも全く同じ</a></li><li><a href=\"#i-3\"><span class=\"toc_number toc_depth_1\">4</span> おわり</a></li></ul></div>\n<h2><span id=\"Google\">Googleマップの埋め込みタグの取得</span></h2>\n<p>まずはGoogleマップの埋め込みタグを取得していきましょう。</p>\n<p>Googleマップのページにアクセスしてください。<br />\n→ <a href=\"https://www.google.co.jp/maps/?hl=ja\" rel=\"noopener\" target=\"_blank\">Google マップ</a></p>\n<p>新宿の紀伊国屋を例にコードを取得していこうと思います。<br />\n（住所：東京都新宿区新宿３丁目１７−７）</p>\n<p>左上の検索エリアから「東京都新宿区新宿３丁目１７−７」を入力します。<br />\n<img src=\"https://haniwaman.com/wp-content/uploads/2018/12/google-map-700x354.png\" alt=\"\" class=\"alignnone size-medium wp-image-11357\" srcset=\"https://haniwaman.com/wp-content/uploads/2018/12/google-map-700x354.png 700w, https://haniwaman.com/wp-content/uploads/2018/12/google-map-768x388.png 768w, https://haniwaman.com/wp-content/uploads/2018/12/google-map-1200x606.png 1200w, https://haniwaman.com/wp-content/uploads/2018/12/google-map.png 1744w\" sizes=\"(max-width: 700px) 100vw, 700px\" /></p>\n<p>検索結果が表示されて間違いなければ、「共有アイコン」をクリック。<br />\n<img src=\"https://haniwaman.com/wp-content/uploads/2018/12/google-map2-700x321.png\" alt=\"\" class=\"alignnone size-medium wp-image-11358\" srcset=\"https://haniwaman.com/wp-content/uploads/2018/12/google-map2-700x321.png 700w, https://haniwaman.com/wp-content/uploads/2018/12/google-map2-768x352.png 768w, https://haniwaman.com/wp-content/uploads/2018/12/google-map2-1200x550.png 1200w, https://haniwaman.com/wp-content/uploads/2018/12/google-map2.png 1694w\" sizes=\"(max-width: 700px) 100vw, 700px\" /></p>\n<p>ポップアップが開くので「地図を埋め込む」のタブを選択します。<br />\n<img src=\"https://haniwaman.com/wp-content/uploads/2018/12/google-map3-700x717.png\" alt=\"\" class=\"alignnone size-medium wp-image-11359\" srcset=\"https://haniwaman.com/wp-content/uploads/2018/12/google-map3-700x717.png 700w, https://haniwaman.com/wp-content/uploads/2018/12/google-map3-768x786.png 768w, https://haniwaman.com/wp-content/uploads/2018/12/google-map3.png 998w\" sizes=\"(max-width: 700px) 100vw, 700px\" /></p>\n<p>「小」「中」「大」「カスタムサイズ」から「カスタムサイズ」を選択して、<strong class=\"marker\">幅、高さをデザインカンプの値に合わせて変更</strong>させましょう！<br />\n<img src=\"https://haniwaman.com/wp-content/uploads/2018/12/google-map4-700x270.png\" alt=\"\" class=\"alignnone size-medium wp-image-11360\" srcset=\"https://haniwaman.com/wp-content/uploads/2018/12/google-map4-700x270.png 700w, https://haniwaman.com/wp-content/uploads/2018/12/google-map4-768x297.png 768w, https://haniwaman.com/wp-content/uploads/2018/12/google-map4.png 1005w\" sizes=\"(max-width: 700px) 100vw, 700px\" /></p>\n<p><code>iframe</code>のHTMLタグがすぐ下にできあがっていると思うので、こちらをコピーしてHTMLファイルに貼り付けます。</p>\n<p>今回だと以下のような埋込みタグが作られました。</p>\n<pre><span class=\"code-copy\" data-clipboard-target=\"#code-0\">コピー</span><code id=\"code-0\" class=\"html\">&lt;iframe src=\"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d1620.1906162765467!2d139.70191725817543!3d35.69223507343893!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x60186092cf48325d%3A0x24ac346bd72018a3!2z57SA5LyK5ZyL5bGL5pu45bqXIOaWsOWuv-acrOW6lw!5e0!3m2!1sja!2sjp!4v1544423457095\" width=\"800\" height=\"600\" frameborder=\"0\" style=\"border:0\" allowfullscreen&gt;&lt;/iframe&gt;</code></pre>\n<p>幅が<code>width=\"800\"</code>で、高さが<code>height=\"600\"</code>と指定されています。幅が800以下になると、この埋込み要素ははみ出てしまうので、CSSで修正していきましょう。</p>\n<h2><span id=\"i\">埋め込み要素を縦横比を保ったままレスポンシブ対応</span></h2>\n<p>レスポンシブサイトでめちゃくちゃ使う書き方なので、ぜひ覚えてほしいと思います。Googleマップに限らず、iframe系は全部この考え方でレスポンシブ対応させることが可能です。</p>\n<h3><span id=\"i-2\">埋め込み要素を囲う要素を用意</span></h3>\n<p><code>iframe</code>だけで対応させることは難しくて、親に要素を追加することで実現できようになります。</p>\n<pre><span class=\"code-copy\" data-clipboard-target=\"#code-1\">コピー</span><code id=\"code-1\" class=\"html\">&lt;div class=\"iframe-wrap\"&gt;\r\n&lt;iframe src=\"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d1620.1906162765467!2d139.70191725817543!3d35.69223507343893!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x60186092cf48325d%3A0x24ac346bd72018a3!2z57SA5LyK5ZyL5bGL5pu45bqXIOaWsOWuv-acrOW6lw!5e0!3m2!1sja!2sjp!4v1544423457095\" width=\"800\" height=\"600\" frameborder=\"0\" style=\"border:0\" allowfullscreen&gt;&lt;/iframe&gt;\r\n&lt;/div&gt;</code></pre>\n<p><code>.iframe-wrap</code>のクラス名は、内包する埋め込み要素の種類に応じて変更してください。</p>\n<h3><span id=\"CSS\">縦横比を維持したCSS</span></h3>\n<p>幅とか高さは、先ほど追加した親要素に持たせる形で、<code>iframe</code>の埋め込み部分は「親要素に応じて変更する」みたいな書き方です。</p>\n<pre><span class=\"code-copy\" data-clipboard-target=\"#code-2\">コピー</span><code id=\"code-2\" class=\"css\">.iframe-wrap {\r\n  position: relative;\r\n  width: 100%;\r\n  padding-top: 75%; /* = height ÷ width × 100 */\r\n}\r\n.iframe-wrap iframe {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n}</code></pre>\n<p>暗記する必要はなくて基本的にはコピペで使えるようにしておけばいいのですが、絶対に理解しておくべきポイントは、<code>padding-top: 75%;</code>の部分です。</p>\n<p>ここは、取得した埋め込み要素の「高さ ÷ 幅 × 100」で算出された値を指定する必要があります。ここの値によって縦横比が決まるので埋め込み要素で指定した高さと幅によって指定が変わってきます。</p>\n<p>今回のケースだと、幅が<code>width=\"800\"</code>で、高さが<code>height=\"600\"</code>です。</p>\n<p>600 ÷ 800 × 100 = 75</p>\n<p>ということで、75%が指定されているということになります。</p>\n<p><img src=\"https://haniwaman.com/wp-content/uploads/2018/12/google-map.gif\" alt=\"\" class=\"alignnone size-medium wp-image-11377\" /></p>\n<h2><span id=\"Youtube\">（おまけ）Youtubeの埋め込みも全く同じ</span></h2>\n<p>Googleマップということで紹介しましたが、Youtubeでも今紹介したHTMLとCSSの書き方で同様にレスポンシブ対応できます。</p>\n<p>Youtubeは、Goodボタンなどの横にある「共有」ボタンから取得できます。<br />\n<img src=\"https://haniwaman.com/wp-content/uploads/2018/12/google-map5-700x536.png\" alt=\"\" class=\"alignnone size-medium wp-image-11361\" srcset=\"https://haniwaman.com/wp-content/uploads/2018/12/google-map5-700x536.png 700w, https://haniwaman.com/wp-content/uploads/2018/12/google-map5-768x589.png 768w, https://haniwaman.com/wp-content/uploads/2018/12/google-map5.png 809w\" sizes=\"(max-width: 700px) 100vw, 700px\" /></p>\n<h2><span id=\"i-3\">おわり</span></h2><div class=\"matome\"><div class=\"matome-img\"><img src=\"https://haniwaman.com/wp-content/themes/hpcode/img/haniwa.png\" alt=\"\"></div><div class=\"matome-twitter\"><a href=\"https://twitter.com/haniwa008?ref_src=twsrc%5Etfw\" class=\"twitter-follow-button\" data-show-screen-name=\"false\" data-size=\"large\" data-lang=\"ja\" data-show-count=\"true\">Follow @haniwa008</a><script async src=\"https://platform.twitter.com/widgets.js\" charset=\"utf-8\"></script></div></div><!-- /matome -->\n<p>Googleマップの埋め込みタグの取得方法とレスポンシブ対応するためのCSSの紹介でした。</p>\n<p>コーディングの案件で必ず1つは登場するものなので、コーダーの方は確実に抑えておきましょう！一度やり方を覚えたら2回目以降は余裕なはずです。</p>\n","date":"December 12, 2018","categories":[{"name":"CSS","slug":"css"}],"tags":null,"author":{"name":"はにわまん","slug":"haniwaman"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"id":"3aaf73be-18aa-53f6-9489-45e49d3e534b"}}}