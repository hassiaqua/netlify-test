{"componentChunkName":"component---src-templates-post-js","path":"/noto-sans-japanese/","result":{"data":{"wordpressPost":{"id":"697035b0-d101-5ef5-b269-18587ff08608","title":"「Noto Sans Japanese」の不要なものは削除して必要なものだけ読み込む方法【Webフォント高速化】","slug":"noto-sans-japanese","content":"<p>Webフォントとして使える「Noto Sans Japanese」は、無料かついい感じのデザインで使えるので、おそらく多くの方が重宝しているフォントだと思いますが、デメリットが1点。</p>\n<p>それは、<strong class=\"marker\"><span class=\"font-l\">読み込みが重すぎる</span></strong>ということ&#8230;。</p>\n<p>比較してみましょう。<br />\n※ キャッシュを削除した状態 &amp; 同じネット状況で試しています。</p>\n<p style=\"margin-top: 50px;\"><span class=\"font-ll\">CDNから読み込んだ場合&#8230;</span></p>\n<p>こんな感じ↓で読み込んだ場合です。<br />\n<code>@import url(\"https://fonts.googleapis.com/earlyaccess/notosansjapanese.css\");</code><br />\n<img src=\"https://haniwaman.com/wp-content/uploads/2018/09/noto-sans-japanese.png\" alt=\"\" class=\"alignnone size-full wp-image-8358\" /><br />\n1つのフォントファイル読み込むのに1.49秒。</p>\n<p style=\"margin-top: 50px;\"><span class=\"font-ll\">不要なものを削除して読み込んだ場合&#8230;</span></p>\n<p>今回の対応で不要なものを取り除き軽量化して読み込むと、<br />\n<img src=\"https://haniwaman.com/wp-content/uploads/2018/09/noto-sans-japanese2.png\" alt=\"\" class=\"alignnone size-full wp-image-8359\" /><br />\n1つのフォントファイル読み込むのに0.138秒。<br />\n10分の1くらいになってますね。<br />\n（どれだけ余計なフォントを読み込んでいたか、ということです）</p>\n<p>このように、日本語のWebフォントでも<strong class=\"marker\">Webサイトでは使わないような不要なフォントファイルから抜き出してあげることで、軽量化できて読み込みも早くなります！</strong></p>\n<p>「Noto Sans Japanese」を例に、抜き出し方とCSSへの記述方法について紹介していきます。一般的には<strong>Webフォントの高速化（軽量化）</strong>と言われていたりしますね。</p>\n<div class=\"chat\"><figure class=\"chat-img\"><img src=\"https://haniwaman.com/wp-content/themes/hpcode/img/haniwa.png\" alt=\"\"><figcaption>はにわまん</figcaption></figure><div class=\"chat-content\">Webフォントの重さは衝撃的でした笑</div></div>\n<div id=\"toc_container\" class=\"no_bullets\"><p class=\"toc_title\">目次</p><ul class=\"toc_list\"><li><a href=\"#Noto_Sans_Japanese\"><span class=\"toc_number toc_depth_1\">1</span> 「Noto Sans Japanese」が重い理由</a><ul><li><a href=\"#i\"><span class=\"toc_number toc_depth_2\">1.1</span> 不要なフォントを抜き出す</a></li></ul></li><li><a href=\"#Noto_Sans_Japanese-2\"><span class=\"toc_number toc_depth_1\">2</span> 「Noto Sans Japanese」のファイルを軽量化する方法</a><ul><li><a href=\"#Noto_Sans_Japanese-3\"><span class=\"toc_number toc_depth_2\">2.1</span> 「Noto Sans Japanese」フォントファイルのダウンロード</a></li><li><a href=\"#i-2\"><span class=\"toc_number toc_depth_2\">2.2</span> フォントファイルのサブセット化</a></li><li><a href=\"#otfwoff\"><span class=\"toc_number toc_depth_2\">2.3</span> otf形式をwoff形式に変換</a></li><li><a href=\"#i-3\"><span class=\"toc_number toc_depth_2\">2.4</span> 変換前と後でファイルサイズを比較</a></li></ul></li><li><a href=\"#CSS\"><span class=\"toc_number toc_depth_1\">3</span> CSSから読み込む</a></li><li><a href=\"#i-4\"><span class=\"toc_number toc_depth_1\">4</span> ライセンスのお話</a></li><li><a href=\"#i-5\"><span class=\"toc_number toc_depth_1\">5</span> おわり</a></li></ul></div>\n<h2><span id=\"Noto_Sans_Japanese\">「Noto Sans Japanese」が重い理由</span></h2>\n<p>単純に<span class=\"font-l\">フォントファイルが重たいこと</span>に全ての要因があります。<br />\n読み込まれているフォントフィアルを見てみると、1.6MBあることが分かりますね。<br />\n<img src=\"https://haniwaman.com/wp-content/uploads/2018/09/noto-sans-japanese5-700x111.png\" alt=\"\" class=\"alignnone size-medium wp-image-8301\" /></p>\n<ul>\n<li>NotoSansJP-Regular.woff2 → 1.6MB</li>\n<li>NotoSansJP-Bold.woff2 → 1.6MB</li>\n<li>NotoSansJP-Black.woff2 → 1.7MB</li>\n</ul>\n<p>ここから<strong class=\"marker\">不要な情報を抜き出してファイルサイズを小さくしよう</strong>というのが今回の対応になります。</p>\n<h3><span id=\"i\">不要なフォントを抜き出す</span></h3>\n<p>「普段使う文字だけに絞って使わない（であろう）文字は削除しちゃおう」という対応を行い、ファイルを小さくしていきます。一般的に「サブセット化」と呼ばれる手法です。</p>\n<ul>\n<li>第一水準漢字</li>\n<li>ひらがな</li>\n<li>カタカナ</li>\n<li>ローマ字</li>\n<li>記号</li>\n</ul>\n<p>上記だけを残せば一般的なWebサイトでは問題なく使える、というのが多くの人の見解です。これ以外の漢字や文字はフォントファイルから削除することで、フォントサイズを小さくすることができます。</p>\n<p>ちなみに第一水準などの漢字の定義は、「JIS」によって定義されています。数字が小さくなるほど常用漢字と考えてください。<br />\n（参考）→ <a href=\"https://ja.wikipedia.org/wiki/JIS%E6%BC%A2%E5%AD%97%E3%82%B3%E3%83%BC%E3%83%89\" rel=\"noopener\" target=\"_blank\">JIS漢字コード</a></p>\n<h2><span id=\"Noto_Sans_Japanese-2\">「Noto Sans Japanese」のファイルを軽量化する方法</span></h2>\n<p>さて、本題の「Noto Sans Japanese」のファイルサイズを小さくする方法です。前置きが長くてすみません&#8230;。</p>\n<p>ざっくり流れとしては、</p>\n<ol>\n<li>「Noto Sans Japanese」フォントファイルのダウンロード</li>\n<li>フォントファイルのサブセット化</li>\n<li>otf形式をwoff形式に変換</li>\n</ol>\n<p>といった感じです。<br />\nそれでは具体的なやり方を見ていきましょう。</p>\n<h3><span id=\"Noto_Sans_Japanese-3\">「Noto Sans Japanese」フォントファイルのダウンロード</span></h3>\n<p>以下のページにアクセスしてください。<br />\n→ <a href=\"https://fonts.google.com/earlyaccess#Noto+Sans+Japanese\" rel=\"noopener\" target=\"_blank\">Noto Sans Japanese (Japanese)</a></p>\n<p>使い方の説明が書かれていますが、すべて読み飛ばして下の方にある「Download」リンクからダウロードしてください。<br />\n<img src=\"https://haniwaman.com/wp-content/uploads/2018/09/noto-sans-japanese7-700x337.png\" alt=\"\" class=\"alignnone size-medium wp-image-8304\" srcset=\"https://haniwaman.com/wp-content/uploads/2018/09/noto-sans-japanese7-700x337.png 700w, https://haniwaman.com/wp-content/uploads/2018/09/noto-sans-japanese7-768x369.png 768w, https://haniwaman.com/wp-content/uploads/2018/09/noto-sans-japanese7.png 865w\" sizes=\"(max-width: 700px) 100vw, 700px\" /></p>\n<p>オープンタイプ形式（otf）のフォントがダウンロードされます。<br />\n<img src=\"https://haniwaman.com/wp-content/uploads/2018/09/noto-sans-japanese8.png\" alt=\"\" class=\"alignnone size-full wp-image-8314\" /></p>\n<h3><span id=\"i-2\">フォントファイルのサブセット化</span></h3>\n<p>続いて、ダウンロードしたフォントファイルから不要な文字を抜き出すためにサブセット化を行います。</p>\n<p>「サブセットフォントメーカー」をインストールしてください。<br />\n→ <a href=\"https://opentype.jp/subsetfontmk.htm\" rel=\"noopener\" target=\"_blank\">「サブセットフォントメーカー」のダウンロードページ</a></p>\n<p>下の方に、Mac版、Windows版のそれぞれが用意されています。<br />\n<img src=\"https://haniwaman.com/wp-content/uploads/2018/09/noto-sans-japanese9-700x239.png\" alt=\"\" class=\"alignnone size-medium wp-image-8316\" width=\"520\" srcset=\"https://haniwaman.com/wp-content/uploads/2018/09/noto-sans-japanese9-700x239.png 700w, https://haniwaman.com/wp-content/uploads/2018/09/noto-sans-japanese9.png 762w\" sizes=\"(max-width: 700px) 100vw, 700px\" /></p>\n<p>変換前ファイルには、ダウンロードした「Noto Sans Japanese」のファイルを指定。変換後ファイルには、変換後に生成するフォルダの指定 &amp; 適当なファイル名（このファイル名でサブセット化されます）を指定します。<br />\n<img src=\"https://haniwaman.com/wp-content/uploads/2018/09/noto-sans-japanese10.png\" alt=\"\" class=\"alignnone size-full wp-image-8375\" width=\"520\" /></p>\n<p>そして、フォントに格納する文字には、「第一水準漢字」「ひらがな」「記号」を指定してあげてください。<br />\n（以下をコピペでOKです）</p>\n<pre><span class=\"code-copy\" data-clipboard-target=\"#code-0\">コピー</span><code id=\"code-0\" class=\"txt\">唖娃阿哀愛挨姶逢葵茜穐悪握渥旭葦芦鯵梓圧斡扱宛姐虻飴絢綾鮎或粟袷安庵按暗案闇鞍杏以伊位依偉囲夷委威尉惟意慰易椅為畏異移維緯胃萎衣謂違遺医井亥域育郁磯一壱溢逸稲茨芋鰯允印咽員因姻引飲淫胤蔭院陰隠韻吋右宇烏羽迂雨卯鵜窺丑碓臼渦嘘唄欝蔚鰻姥厩浦瓜閏噂云運雲荏餌叡営嬰影映曳栄永泳洩瑛盈穎頴英衛詠鋭液疫益駅悦謁越閲榎厭円園堰奄宴延怨掩援沿演炎焔煙燕猿縁艶苑薗遠鉛鴛塩於汚甥凹央奥往応押旺横欧殴王翁襖鴬鴎黄岡沖荻億屋憶臆桶牡乙俺卸恩温穏音下化仮何伽価佳加可嘉夏嫁家寡科暇果架歌河火珂禍禾稼箇花苛茄荷華菓蝦課嘩貨迦過霞蚊俄峨我牙画臥芽蛾賀雅餓駕介会解回塊壊廻快怪悔恢懐戒拐改魁晦械海灰界皆絵芥蟹開階貝凱劾外咳害崖慨概涯碍蓋街該鎧骸浬馨蛙垣柿蛎鈎劃嚇各廓拡撹格核殻獲確穫覚角赫較郭閣隔革学岳楽額顎掛笠樫橿梶鰍潟割喝恰括活渇滑葛褐轄且鰹叶椛樺鞄株兜竃蒲釜鎌噛鴨栢茅萱粥刈苅瓦乾侃冠寒刊勘勧巻喚堪姦完官寛干幹患感慣憾換敢柑桓棺款歓汗漢澗潅環甘監看竿管簡緩缶翰肝艦莞観諌貫還鑑間閑関陥韓館舘丸含岸巌玩癌眼岩翫贋雁頑顔願企伎危喜器基奇嬉寄岐希幾忌揮机旗既期棋棄機帰毅気汽畿祈季稀紀徽規記貴起軌輝飢騎鬼亀偽儀妓宜戯技擬欺犠疑祇義蟻誼議掬菊鞠吉吃喫桔橘詰砧杵黍却客脚虐逆丘久仇休及吸宮弓急救朽求汲泣灸球究窮笈級糾給旧牛去居巨拒拠挙渠虚許距鋸漁禦魚亨享京供侠僑兇競共凶協匡卿叫喬境峡強彊怯恐恭挟教橋況狂狭矯胸脅興蕎郷鏡響饗驚仰凝尭暁業局曲極玉桐粁僅勤均巾錦斤欣欽琴禁禽筋緊芹菌衿襟謹近金吟銀九倶句区狗玖矩苦躯駆駈駒具愚虞喰空偶寓遇隅串櫛釧屑屈掘窟沓靴轡窪熊隈粂栗繰桑鍬勲君薫訓群軍郡卦袈祁係傾刑兄啓圭珪型契形径恵慶慧憩掲携敬景桂渓畦稽系経継繋罫茎荊蛍計詣警軽頚鶏芸迎鯨劇戟撃激隙桁傑欠決潔穴結血訣月件倹倦健兼券剣喧圏堅嫌建憲懸拳捲検権牽犬献研硯絹県肩見謙賢軒遣鍵険顕験鹸元原厳幻弦減源玄現絃舷言諺限乎個古呼固姑孤己庫弧戸故枯湖狐糊袴股胡菰虎誇跨鈷雇顧鼓五互伍午呉吾娯後御悟梧檎瑚碁語誤護醐乞鯉交佼侯候倖光公功効勾厚口向后喉坑垢好孔孝宏工巧巷幸広庚康弘恒慌抗拘控攻昂晃更杭校梗構江洪浩港溝甲皇硬稿糠紅紘絞綱耕考肯肱腔膏航荒行衡講貢購郊酵鉱砿鋼閤降項香高鴻剛劫号合壕拷濠豪轟麹克刻告国穀酷鵠黒獄漉腰甑忽惚骨狛込此頃今困坤墾婚恨懇昏昆根梱混痕紺艮魂些佐叉唆嵯左差査沙瑳砂詐鎖裟坐座挫債催再最哉塞妻宰彩才採栽歳済災采犀砕砦祭斎細菜裁載際剤在材罪財冴坂阪堺榊肴咲崎埼碕鷺作削咋搾昨朔柵窄策索錯桜鮭笹匙冊刷察拶撮擦札殺薩雑皐鯖捌錆鮫皿晒三傘参山惨撒散桟燦珊産算纂蚕讃賛酸餐斬暫残仕仔伺使刺司史嗣四士始姉姿子屍市師志思指支孜斯施旨枝止死氏獅祉私糸紙紫肢脂至視詞詩試誌諮資賜雌飼歯事似侍児字寺慈持時次滋治爾璽痔磁示而耳自蒔辞汐鹿式識鴫竺軸宍雫七叱執失嫉室悉湿漆疾質実蔀篠偲柴芝屡蕊縞舎写射捨赦斜煮社紗者謝車遮蛇邪借勺尺杓灼爵酌釈錫若寂弱惹主取守手朱殊狩珠種腫趣酒首儒受呪寿授樹綬需囚収周宗就州修愁拾洲秀秋終繍習臭舟蒐衆襲讐蹴輯週酋酬集醜什住充十従戎柔汁渋獣縦重銃叔夙宿淑祝縮粛塾熟出術述俊峻春瞬竣舜駿准循旬楯殉淳準潤盾純巡遵醇順処初所暑曙渚庶緒署書薯藷諸助叙女序徐恕鋤除傷償勝匠升召哨商唱嘗奨妾娼宵将小少尚庄床廠彰承抄招掌捷昇昌昭晶松梢樟樵沼消渉湘焼焦照症省硝礁祥称章笑粧紹肖菖蒋蕉衝裳訟証詔詳象賞醤鉦鍾鐘障鞘上丈丞乗冗剰城場壌嬢常情擾条杖浄状畳穣蒸譲醸錠嘱埴飾拭植殖燭織職色触食蝕辱尻伸信侵唇娠寝審心慎振新晋森榛浸深申疹真神秦紳臣芯薪親診身辛進針震人仁刃塵壬尋甚尽腎訊迅陣靭笥諏須酢図厨逗吹垂帥推水炊睡粋翠衰遂酔錐錘随瑞髄崇嵩数枢趨雛据杉椙菅頗雀裾澄摺寸世瀬畝是凄制勢姓征性成政整星晴棲栖正清牲生盛精聖声製西誠誓請逝醒青静斉税脆隻席惜戚斥昔析石積籍績脊責赤跡蹟碩切拙接摂折設窃節説雪絶舌蝉仙先千占宣専尖川戦扇撰栓栴泉浅洗染潜煎煽旋穿箭線繊羨腺舛船薦詮賎践選遷銭銑閃鮮前善漸然全禅繕膳糎噌塑岨措曾曽楚狙疏疎礎祖租粗素組蘇訴阻遡鼠僧創双叢倉喪壮奏爽宋層匝惣想捜掃挿掻操早曹巣槍槽漕燥争痩相窓糟総綜聡草荘葬蒼藻装走送遭鎗霜騒像増憎臓蔵贈造促側則即息捉束測足速俗属賊族続卒袖其揃存孫尊損村遜他多太汰詑唾堕妥惰打柁舵楕陀駄騨体堆対耐岱帯待怠態戴替泰滞胎腿苔袋貸退逮隊黛鯛代台大第醍題鷹滝瀧卓啄宅托択拓沢濯琢託鐸濁諾茸凧蛸只叩但達辰奪脱巽竪辿棚谷狸鱈樽誰丹単嘆坦担探旦歎淡湛炭短端箪綻耽胆蛋誕鍛団壇弾断暖檀段男談値知地弛恥智池痴稚置致蜘遅馳築畜竹筑蓄逐秩窒茶嫡着中仲宙忠抽昼柱注虫衷註酎鋳駐樗瀦猪苧著貯丁兆凋喋寵帖帳庁弔張彫徴懲挑暢朝潮牒町眺聴脹腸蝶調諜超跳銚長頂鳥勅捗直朕沈珍賃鎮陳津墜椎槌追鎚痛通塚栂掴槻佃漬柘辻蔦綴鍔椿潰坪壷嬬紬爪吊釣鶴亭低停偵剃貞呈堤定帝底庭廷弟悌抵挺提梯汀碇禎程締艇訂諦蹄逓邸鄭釘鼎泥摘擢敵滴的笛適鏑溺哲徹撤轍迭鉄典填天展店添纏甜貼転顛点伝殿澱田電兎吐堵塗妬屠徒斗杜渡登菟賭途都鍍砥砺努度土奴怒倒党冬凍刀唐塔塘套宕島嶋悼投搭東桃梼棟盗淘湯涛灯燈当痘祷等答筒糖統到董蕩藤討謄豆踏逃透鐙陶頭騰闘働動同堂導憧撞洞瞳童胴萄道銅峠鴇匿得徳涜特督禿篤毒独読栃橡凸突椴届鳶苫寅酉瀞噸屯惇敦沌豚遁頓呑曇鈍奈那内乍凪薙謎灘捺鍋楢馴縄畷南楠軟難汝二尼弐迩匂賑肉虹廿日乳入如尿韮任妊忍認濡禰祢寧葱猫熱年念捻撚燃粘乃廼之埜嚢悩濃納能脳膿農覗蚤巴把播覇杷波派琶破婆罵芭馬俳廃拝排敗杯盃牌背肺輩配倍培媒梅楳煤狽買売賠陪這蝿秤矧萩伯剥博拍柏泊白箔粕舶薄迫曝漠爆縛莫駁麦函箱硲箸肇筈櫨幡肌畑畠八鉢溌発醗髪伐罰抜筏閥鳩噺塙蛤隼伴判半反叛帆搬斑板氾汎版犯班畔繁般藩販範釆煩頒飯挽晩番盤磐蕃蛮匪卑否妃庇彼悲扉批披斐比泌疲皮碑秘緋罷肥被誹費避非飛樋簸備尾微枇毘琵眉美鼻柊稗匹疋髭彦膝菱肘弼必畢筆逼桧姫媛紐百謬俵彪標氷漂瓢票表評豹廟描病秒苗錨鋲蒜蛭鰭品彬斌浜瀕貧賓頻敏瓶不付埠夫婦富冨布府怖扶敷斧普浮父符腐膚芙譜負賦赴阜附侮撫武舞葡蕪部封楓風葺蕗伏副復幅服福腹複覆淵弗払沸仏物鮒分吻噴墳憤扮焚奮粉糞紛雰文聞丙併兵塀幣平弊柄並蔽閉陛米頁僻壁癖碧別瞥蔑箆偏変片篇編辺返遍便勉娩弁鞭保舗鋪圃捕歩甫補輔穂募墓慕戊暮母簿菩倣俸包呆報奉宝峰峯崩庖抱捧放方朋法泡烹砲縫胞芳萌蓬蜂褒訪豊邦鋒飽鳳鵬乏亡傍剖坊妨帽忘忙房暴望某棒冒紡肪膨謀貌貿鉾防吠頬北僕卜墨撲朴牧睦穆釦勃没殆堀幌奔本翻凡盆摩磨魔麻埋妹昧枚毎哩槙幕膜枕鮪柾鱒桝亦俣又抹末沫迄侭繭麿万慢満漫蔓味未魅巳箕岬密蜜湊蓑稔脈妙粍民眠務夢無牟矛霧鵡椋婿娘冥名命明盟迷銘鳴姪牝滅免棉綿緬面麺摸模茂妄孟毛猛盲網耗蒙儲木黙目杢勿餅尤戻籾貰問悶紋門匁也冶夜爺耶野弥矢厄役約薬訳躍靖柳薮鑓愉愈油癒諭輸唯佑優勇友宥幽悠憂揖有柚湧涌猶猷由祐裕誘遊邑郵雄融夕予余与誉輿預傭幼妖容庸揚揺擁曜楊様洋溶熔用窯羊耀葉蓉要謡踊遥陽養慾抑欲沃浴翌翼淀羅螺裸来莱頼雷洛絡落酪乱卵嵐欄濫藍蘭覧利吏履李梨理璃痢裏裡里離陸律率立葎掠略劉流溜琉留硫粒隆竜龍侶慮旅虜了亮僚両凌寮料梁涼猟療瞭稜糧良諒遼量陵領力緑倫厘林淋燐琳臨輪隣鱗麟瑠塁涙累類令伶例冷励嶺怜玲礼苓鈴隷零霊麗齢暦歴列劣烈裂廉恋憐漣煉簾練聯蓮連錬呂魯櫓炉賂路露労婁廊弄朗楼榔浪漏牢狼篭老聾蝋郎六麓禄肋録論倭和話歪賄脇惑枠鷲亙亘鰐詫藁蕨椀湾碗腕 　、。，．：；？！゛゜´｀¨＾￣＿ヽヾゝゞ〃仝々〆〇ー―‐／＼～∥｜…‥‘’“”（）〔〕［］｛｝〈〉《》「」『』【】＋－±×÷＝≠＜＞≦≧∞∴&#x2642;&#x2640;°′″℃￥＄￠￡％＃＆＊＠§☆★○●◎◇◆□■△▲▽▼※〒→←↑↓〓∈∋⊆⊇⊂⊃∪∩∧∨￢⇒⇔∀∃∠⊥⌒∂∇≡≒≪≫√∽∝∵∫∬Å‰♯♭♪†‡¶◯１２３４５６７８９ＡＢＣＤＥＦＧＨＩＪＫＬＭＮＯＰＱＲＳＴＵＶＷＸＹＺａｂｃｄｅｆｇｈｉｊｋｌｍｎｏｐｑｒｓｔｕｖｗｘｙｚぁあぃいぅうぇえぉおかがきぎくぐけげこごさざしじすずせぜそぞただちぢっつづてでとどなにぬねのはばぱひびぴふぶぷへべぺほぼぽまみむめもゃやゅゆょよらりるれろゎわゐゑをんァアィイゥウェエォオカガキギクグケゲコゴサザシジスズセゼソゾタダチヂッツヅテデトドナニヌネノハバパヒビピフブプヘベペホボポマミムメモャヤュユョヨラリルレロヮワヰヱヲンヴヵヶΑΒΓΔΕΖΗΘΙΚΛΜΝΞΟΠΡΣΤΥΦΧΨΩαβγδεζηθικλμνξοπρστυφχψωАБВГДЕЁЖЗИЙКЛМНОПРСТУФХЦЧШЩЪЫЬЭЮЯабвгдеёжзийклмнопрстуфхцчшщъыьэюя─│┌┐┘└├┬┤┴┼━┃┏┓┛┗┣┳┫┻╋┠┯┨┷┿┝┰┥┸╂!\"#$`\"'①②③④⑤⑥⑦⑧⑨⑩⑪⑫⑬⑭⑮⑯⑰⑱⑲⑳ⅠⅡⅢⅣⅤⅥⅦⅧⅨⅩ㍉㌔㌢㍍㌘㌧㌃㌶㍑㍗㌍㌦㌣㌫㍊㌻㎜㎝㎞㎎㎏㏄㎡㍻〝〟№㏍℡㊤㊥㊦㊧㊨㈱㈲㈹㍾㍽㍼≒≡∫∮∑√⊥∠∟⊿∵∩∪0@P`p!1AQaq\"2BRbr#3CScs$4DTdt%5EUeu&amp;6FVfv'7GWgw(8HXhx)9IYiy*:JZjz+;K[k{,&lt;L\\l|-=M]m}.&gt;N^n~/?O_o</code></pre>\n<p>そしてチェックが付いていたら全部はずしてあげてください。</p>\n<p>ちなみに、各フォントファイルの対応は以下の通りですので、必要なものだけサブセット化してサーバーにアップするといいかと思います。わたしは「NotoSansJP-Regular.otf」「NotoSansJP-Bold.otf」「NotoSansJP-Black.otf」しか作りませんでした。</p>\n<ul>\n<li>NotoSansJP-Thin.otf ・・・ font-weight: 100;</li>\n<li>NotoSansJP-Light.otf ・・・ font-weight: 200;</li>\n<li>NotoSansJP-DemiLight.otf ・・・ font-weight: 300;</li>\n<li>NotoSansJP-Regular.otf ・・・ font-weight: 400;</li>\n<li>NotoSansJP-Medium.otf ・・・ font-weight: 500;</li>\n<li>NotoSansJP-Bold.otf ・・・ font-weight: 700;</li>\n<li>NotoSansJP-Black.otf ・・・ font-weight: 900;</li>\n</ul>\n<h3><span id=\"otfwoff\">otf形式をwoff形式に変換</span></h3>\n<p>最後にotf形式をwoff形式に変換します。</p>\n<p>「WOFFコンバータ」をインストールしてください。<br />\n→ <a href=\"https://opentype.jp/woffconv.htm\" rel=\"noopener\" target=\"_blank\">「WOFFコンバータ」のダウンロードページ</a></p>\n<p>下の方にMac版、Windows版がそれぞれあります。<br />\n<img src=\"https://haniwaman.com/wp-content/uploads/2018/09/noto-sans-japanese11-700x227.png\" alt=\"\" class=\"alignnone size-medium wp-image-8326\" width=\"520\" srcset=\"https://haniwaman.com/wp-content/uploads/2018/09/noto-sans-japanese11-700x227.png 700w, https://haniwaman.com/wp-content/uploads/2018/09/noto-sans-japanese11-768x250.png 768w, https://haniwaman.com/wp-content/uploads/2018/09/noto-sans-japanese11.png 788w\" sizes=\"(max-width: 700px) 100vw, 700px\" /></p>\n<p>変換前ファイルには、先ほど「サブセットフォントメーカー」で作成したotfファイルを指定。<br />\n変換後ファイルには、同じ名前で拡張子がないものを指定すればOKです。<br />\n<img src=\"https://haniwaman.com/wp-content/uploads/2018/09/noto-sans-japanese12.png\" alt=\"\" class=\"alignnone size-full wp-image-8376\" width=\"520\" /></p>\n<p>チェックは全部はずして、「変換開始」ボタンを押しましょう。</p>\n<p>無事、変換できましたでしょうか？<br />\nサブセット化 → woff形式へ変換を行うと、計3つのフォントファイルになっていることが分かるかと思います。<br />\nNotoSansJP-Regular.otf → nsjpr.otf → nsjpr.woff<br />\n（※ わたしがファイル名をnsjprと指定しまして作りました）</p>\n<p>他のフォントに対しても同じように、woffへ変換していきましょう！<br />\n（わたしは使用する3つだけに減らしました）</p>\n<ul>\n<li>NotoSansJP-Regular.otf → nsjpr.woff</li>\n<li>NotoSansJP-Bold.otf → nsjpd.woff</li>\n<li>NotoSansJP-Black.otf → nsjpc.woff</li>\n</ul>\n<div class=\"box\"><strong><span class=\"font-l\">【余談】なぜwoff形式？</span></strong></p>\n<p>ちょっと余談になります。なぜwoff形式に変換するのでしょうか？otfでいいじゃないかと思うのが普通の感覚だとお見おます。</p>\n<p>フォントの形式にはいろいろあって、</p>\n<ul>\n<li>woff</li>\n<li>woff2</li>\n<li>otf</li>\n<li>ttf</li>\n</ul>\n<p>有名なのはこの4つです。</p>\n<p>フォントの形式を選ぶ上で問題なのは、<strong class=\"marker\">それぞれのフォント形式に応じて対応するブラウザが変わってくるということ</strong>です。woff以外のフォントだと本当に限定したブラウザにしか対応していません。</p>\n<p>一方でwoffであれば、おおよそのブラウザはカバーしてくれているので、<br />\nとりあえず、多くのブラウザに対応している<strong>woffを選んでおけば無難</strong>ということになるようです。</p>\n</div>\n<h3><span id=\"i-3\">変換前と後でファイルサイズを比較</span></h3>\n<p>サブセット化 &amp; woffコンバートする前と後でファイルサイズを比較してみます。<br />\n<img src=\"https://haniwaman.com/wp-content/uploads/2018/09/noto-sans-japanese16.png\" alt=\"\" class=\"alignnone size-full wp-image-8339\" /></p>\n<ul>\n<li>変換前・・・4,375KB</li>\n<li>変換後・・・555KB</li>\n</ul>\n<p><span class=\"font-ll\">約8分の1に！！！</span></p>\n<p>実際に更新してみると、体感でもめちゃくちゃ早くなったのが分かるはずです。</p>\n<h2><span id=\"CSS\">CSSから読み込む</span></h2>\n<p>それでは作成したwoffフォントをCSSから読み込んでみましょう。</p>\n<p>CSSフォルダと同じ階層に<span class=\"folder\">font</span>というフォルダを作ります。その中に作成したwoffファイルを入れておいてください。階層としては以下のような感じのイメージです。<br />\n<img src=\"https://haniwaman.com/wp-content/uploads/2018/09/noto-sans-japanese14.png\" alt=\"\" class=\"alignnone size-full wp-image-8331\" /></p>\n<p>CSSファイルの先頭に以下のように記述します。</p>\n<pre><span class=\"code-copy\" data-clipboard-target=\"#code-1\">コピー</span><code id=\"code-1\" class=\"css\">@font-face {\r\n\tfont-family: \"nsjpr\";\r\n\tfont-style: normal;\r\n\tfont-weight: 400;\r\n\tsrc: url(\"../font/nsjpr.woff\") format(\"woff\");\r\n}\r\n\r\n/* 他のサイズを追加する場合も同様に */\r\n@font-face {\r\n\tfont-family: \"nsjpr\";\r\n\tfont-style: normal;\r\n\tfont-weight: 700;\r\n\tsrc: url(\"../font/nsjpd.woff\") format(\"woff\");\r\n}\r\n\r\n@font-face {\r\n\tfont-family: \"nsjpr\";\r\n\tfont-style: normal;\r\n\tfont-weight: 900;\r\n\tsrc: url(\"../font/nsjpd.woff\") format(\"woff\");\r\n}</code></pre>\n<p>読み込むときは<code>font-family</code>の名前を指定してあげてください。また<code>font-weight</code>の値によって、読み込まれるwoffファイルが変わってきます。<br />\n例↓</p>\n<pre><span class=\"code-copy\" data-clipboard-target=\"#code-2\">コピー</span><code id=\"code-2\" class=\"css\">body {\r\n\tfont-family: \"nsjpr\", sans-serif;\r\n\tfont-weight: 400;\r\n}</code></pre>\n<p>これでサブセット化して軽量化された「Noto Sans Japanese」が読み込まれるようになりました。<br />\n※ フォント名は変更しています。「Noto Sans Japanese」の単語を入れなければ、任意の名前で大丈夫です。<br />\n<img src=\"https://haniwaman.com/wp-content/uploads/2018/09/noto-sans-japanese15-1.png\" alt=\"\" class=\"alignnone size-full wp-image-8347\" width=\"520\" /></p>\n<h2><span id=\"i-4\">ライセンスのお話</span></h2>\n<p>「Noto Sans Japanese」には、「SIL Open Font License 1.1」というライセンスが適応されています。</p>\n<p>下記でざっくり大事そうな部分だけ赤字にしていますが、</p>\n<ul>\n<li><span class=\"font-l\">改変を行って使用は可能</span></li>\n<li><span class=\"font-l\">ただし、改変後のフォント名は変更しないといけない</span></li>\n</ul>\n<p>というあたりがポイントかと思います。</p>\n<p>ですので、サブセット化して使用するのはOKということですね（フォント名を変えれば）</p>\n<blockquote><p><strong>気にしなくても良いこと</strong></p>\n<ul>\n<li>単純にフォントとして使用するなら、M+ FONT LICENSE と同様に、個人利用・商用利用にかかわらず、無償で使用することができます。</li>\n<li><strong style=\"color: #EF5350\">改変を行い派生版を作成</strong>したり、ゲームやスマホアプリなどのソフトウェアへの組み込みや、Web フォントとしての利用も<strong style=\"color: #EF5350\">可能です</strong>。</li>\n<li>このフォントを利用して制作したあらゆる成果物 (フォントデータとしての派生を除く) が、このライセンスに縛られることは一切ありません。たとえば、PDF文書にフォントを埋め込むと、その文書はこのライセンスにしなければならない、といった制約は一切ありません。</li>\n</ul>\n<p><strong>できないこと</strong></p>\n<ul>\n<li>フォントを単体で販売することはできません。</li>\n<li>著作権者の許可を得ず、改変した派生版フォントに、<strong style=\"color: #EF5350\">元のフォント名と同じ名前を含めることはできません</strong></li>\n<li>元のフォントデータ、および改変した派生フォントデータに、他のライセンスを適用することはできず、必ずこのライセンスを適用する必要があります。</li>\n</ul>\n<p>引用：<a href=\"http://jikasei.me/info/license.html\" rel=\"noopener\" target=\"_blank\">フォントのライセンスについて</a></p></blockquote>\n<h2><span id=\"i-5\">おわり</span></h2><div class=\"matome\"><div class=\"matome-img\"><img src=\"https://haniwaman.com/wp-content/themes/hpcode/img/haniwa.png\" alt=\"\"></div><div class=\"matome-twitter\"><a href=\"https://twitter.com/haniwa008?ref_src=twsrc%5Etfw\" class=\"twitter-follow-button\" data-show-screen-name=\"false\" data-size=\"large\" data-lang=\"ja\" data-show-count=\"true\">Follow @haniwa008</a><script async src=\"https://platform.twitter.com/widgets.js\" charset=\"utf-8\"></script></div></div><!-- /matome -->\n<p>「Noto Sans Japanese」の不要なものは削除して必要なものだけ読み込む方法でした。</p>\n<p>おさらいすると、以下のような流れです。</p>\n<ol>\n<li>Webフォント（otf形式）をダウンロード</li>\n<li>フォントファイルをサブセット化</li>\n<li>otf形式をwoff形式に変換</li>\n</ol>\n<p>はじめての方は苦労すると思いますが、多くのユーザーが読み込み時に味わう苦労（ストレス）に比べたら対応しておく方が無難だと思います&#8230;。10秒とか読み込みにかかったら、待ってくれるユーザーは少ないですからね。</p>\n<p>Webフォントを使用する際は、高速化 &amp; 軽量化できる！って覚えておくと、選べる選択肢も増えてくるかもしれません。</p>\n","date":"September 01, 2018","categories":[{"name":"環境","slug":"setting"}],"tags":null,"author":{"name":"はにわまん","slug":"haniwaman"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"id":"697035b0-d101-5ef5-b269-18587ff08608"}}}