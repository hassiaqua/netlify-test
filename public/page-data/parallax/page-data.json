{"componentChunkName":"component---src-templates-post-js","path":"/parallax/","result":{"data":{"wordpressPost":{"id":"3a0d6fec-efd9-5c9d-b246-fc562660ca35","title":"パララックスには色んな種類がある！3パターンの実装例を紹介","slug":"parallax","content":"<p>パララックスって言葉は聞いたことあるけど、<strong class=\"marker\">具体的にどういう動きすればパララックスなのか分からない</strong>って方は意外といるかもしれません。</p>\n<p>ちょっとの前のわたしはセクションが重なる紙芝居風の動きをするのがパララックスの表現だと思っていました。これもパララックスですが、もっと広義にパララックスは色んな表現が含まれています。</p>\n<p>簡単にパララックスを表現すると、<span class=\"font-l\"><strong class=\"marker\">スクロールと連動したアニメーション</strong></span>のことです。紙芝居風もパララックスだし、スクロールに応じて要素が動いて登場するのもパララックス。</p>\n<p>この記事では、パララックスのパターンと表現方法（と実現するためのライブラリーやコードなど）を紹介していきます！</p>\n<div class=\"chat\"><figure class=\"chat-img\"><img src=\"https://haniwaman.com/wp-content/themes/hpcode/img/haniwa.png\" alt=\"\"><figcaption>はにわまん</figcaption></figure><div class=\"chat-content\">パララックスって言葉の響きは、なんかカッコイイですね。</div></div>\n<div id=\"toc_container\" class=\"no_bullets\"><p class=\"toc_title\">目次</p><ul class=\"toc_list\"><li><a href=\"#3\"><span class=\"toc_number toc_depth_1\">1</span> パララックスの3パターンと実装例</a><ul><li><a href=\"#i\"><span class=\"toc_number toc_depth_2\">1.1</span> スクロールに応じて要素が動く</a></li><li><a href=\"#i-2\"><span class=\"toc_number toc_depth_2\">1.2</span> スクロールとズレて要素がスクロール</a></li><li><a href=\"#i-3\"><span class=\"toc_number toc_depth_2\">1.3</span> セクションが重なるようにスクロール</a></li></ul></li><li><a href=\"#i-4\"><span class=\"toc_number toc_depth_1\">2</span> おわり</a></li></ul></div>\n<h2><span id=\"3\">パララックスの3パターンと実装例</span></h2>\n<p>パララックスとして表現されることの多い3パターンと実装例を紹介していきます。</p>\n<h3 id=\"move\"><span id=\"i\">スクロールに応じて要素が動く</span></h3>\n<p>最も簡単なパターンから。LPサイトとか見ていると、スクロールに応じて要素がフワッと登場したりするアニメーションをよく見ると思います。<br />\n<img src=\"https://haniwaman.com/wp-content/uploads/2018/12/parallax.gif\" alt=\"\" class=\"alignnone size-medium wp-image-11851\" /></p>\n<p>他にも左右から登場とかバウンドしながら登場とか、要するに<strong class=\"marker\">スクロールに応じて各要素にアニメーションを発動させること</strong>をこの項目としています。</p>\n<p>実現方法としては、「<a href=\"https://github.com/matthieua/WOW\" rel=\"noopener\" target=\"_blank\"><strong>WOW</strong></a>」や「<a href=\"https://github.com/protonet/jquery.inview\" rel=\"noopener\" target=\"_blank\"><strong>inview</strong></a>」などのライブラリを使うことで実装が可能です。使い方については以下の記事を参考にしていただければと思います！</p>\n<blockquote class=\"wp-embedded-content\" data-secret=\"uWQ58k1Kh3\"><p><a href=\"https://haniwaman.com/wow/\">スクロールの登場に合わせてアニメーションさせる決定版！「wow」の紹介</a></p></blockquote>\n<p><iframe title=\"&#8220;スクロールの登場に合わせてアニメーションさせる決定版！「wow」の紹介&#8221; &#8212; HPcode\" class=\"wp-embedded-content\" sandbox=\"allow-scripts\" security=\"restricted\" style=\"position: absolute; clip: rect(1px, 1px, 1px, 1px);\" src=\"https://haniwaman.com/wow/embed/#?secret=uWQ58k1Kh3\" data-secret=\"uWQ58k1Kh3\" width=\"500\" height=\"282\" frameborder=\"0\" marginwidth=\"0\" marginheight=\"0\" scrolling=\"no\"></iframe></p>\n<blockquote class=\"wp-embedded-content\" data-secret=\"Y4k2k76exr\"><p><a href=\"https://haniwaman.com/inview/\">スクロールして出現したタイミングで発火させるjQueryプラグイン「inview」</a></p></blockquote>\n<p><iframe title=\"&#8220;スクロールして出現したタイミングで発火させるjQueryプラグイン「inview」&#8221; &#8212; HPcode\" class=\"wp-embedded-content\" sandbox=\"allow-scripts\" security=\"restricted\" style=\"position: absolute; clip: rect(1px, 1px, 1px, 1px);\" src=\"https://haniwaman.com/inview/embed/#?secret=Y4k2k76exr\" data-secret=\"Y4k2k76exr\" width=\"500\" height=\"282\" frameborder=\"0\" marginwidth=\"0\" marginheight=\"0\" scrolling=\"no\"></iframe></p>\n<h3><span id=\"i-2\">スクロールとズレて要素がスクロール</span></h3>\n<p>通常はWebサイトだとスクロールと一緒に要素も動きます。この基本の動きと反するような形で、<strong class=\"marker\">一部の要素だけスクロール速度とズラして表現する</strong>こともパララックの表現としてやったりします。</p>\n<p>パララックスの直接的な意味である<strong class=\"marker\">「視差」という表現が最も合いそう</strong>な表現方法です。</p>\n<p><img src=\"https://haniwaman.com/wp-content/uploads/2018/12/parallax2.gif\" alt=\"\" class=\"alignnone size-medium wp-image-11854\" /></p>\n<p>上記の例だと、月やロケットがスクロールとは完全には連動せずに<strong>独自の速度でスクロール</strong>されていることが分かると思います。</p>\n<p>実現方法としては、スクロール位置に応じて配置場所を変更するといった処理を行います。具体的には以下のような感じです。</p>\n<p>コンテンツはスクロールできる分だけ増やしておくと確認しやすいかもしれません。</p>\n<pre><span class=\"code-copy\" data-clipboard-target=\"#code-0\">コピー</span><code id=\"code-0\" class=\"html\">&lt;img class=\"parallax1\" src=\"img/parallax1.png\" alt=\"\"&gt;\r\n&lt;img class=\"parallax2\" src=\"img/parallax2.png\" alt=\"\"&gt;\r\n&lt;!-- section1 --&gt;\r\n&lt;section id=\"section1\" class=\"section\"&gt;\r\n&lt;div class=\"inner\"&gt;\r\n&lt;h2&gt;セクション1&lt;/h2&gt;\r\n&lt;p&gt;コンテンツです。コンテンツです。コンテンツです。コンテンツです。コンテンツです。コンテンツです。コンテンツです。コンテンツです。コンテンツです。&lt;/p&gt;\r\n&lt;/div&gt;&lt;!-- /inner --&gt;\r\n&lt;/section&gt;&lt;!-- /section1 --&gt;</code></pre>\n<p>パララックス対象となる要素は<code>position: fixed;</code>や<code>position: absolute;</code>で浮かせるか、<code>background-position</code>で配置して、JavaScriptから位置を操作できるようにしておく必要があります！</p>\n<pre><span class=\"code-copy\" data-clipboard-target=\"#code-1\">コピー</span><code id=\"code-1\" class=\"css\">.parallax1 {\r\n\tleft: 200px;\r\n\tposition: fixed;\r\n\ttop: 300px;\r\n\twidth: 300px;\r\n\theight: auto;\r\n\tz-index: -1;\r\n}\r\n\r\n.parallax2 {\r\n\tposition: fixed;\r\n\tright: 200px;\r\n\ttop: 100px;\r\n\twidth: 300px;\r\n\theight: auto;\r\n\tz-index: -1;\r\n}</code></pre>\n<p>weight1やweight2で重み付けをしています。ロケットと月では動きの速さが異なっていましたが、ここの重みを調整することで実現しています。また、300とか100はCSSで指定した最初の位置を示しています。</p>\n<pre><span class=\"code-copy\" data-clipboard-target=\"#code-2\">コピー</span><code id=\"code-2\" class=\"js\">jQuery( window ).bind( 'scroll', function() {\r\n\tscrolled = jQuery( window ).scrollTop();\r\n\tweight1 = 0.5;\r\n\tweight2 = 0.12;\r\n\tjQuery( '.parallax1' ).css( 'top', 300 - scrolled * weight1 + 'px' );\r\n\tjQuery( '.parallax2' ).css( 'top', 100 - scrolled * weight2 + 'px' );\r\n});</code></pre>\n<p>今回紹介したコードは、パララックスの対象となる画像がトップからの距離で指定されるケースになります。<code>fixed</code>だけでなく<code>absolute</code>のケース、<code>background-position</code>のケースなど、実現したいパターンによって手間や面倒も変わってきます&#8230;。</p>\n<p>実際にご自身で動きを確認しながら試してみてください！</p>\n<h3><span id=\"i-3\">セクションが重なるようにスクロール</span></h3>\n<p>最後は、「<strong class=\"marker\">パララックスと言えば、紙芝居っぽいやつ！</strong>」と刷り込まれていたほどのパララックス感のある、セクションが被さるようにスクロールするパターンです。</p>\n<p><img src=\"https://haniwaman.com/wp-content/uploads/2018/12/parallax3.gif\" alt=\"\" class=\"alignnone size-medium wp-image-11861\" /></p>\n<p>ここに「<a href=\"#move\">スクロールに応じて要素が動く</a>」も加えてアニメーションさせるパターンのサイトもよく見ますね。</p>\n<p>実現方法としては、「<a href=\"https://github.com/mike-zarandona/StickyStack.js/tree/master\" rel=\"noopener\" target=\"_blank\">StickyStack.js</a>」のライブラリーを使わせてもらうことで簡単に実現できます。</p>\n<p>上記の動画のコードを例として貼っておきます。</p>\n<pre><span class=\"code-copy\" data-clipboard-target=\"#code-3\">コピー</span><code id=\"code-3\" class=\"html\">&lt;!-- main-content-wrapper --&gt;\r\n&lt;div class=\"main-content-wrapper\"&gt;\r\n&lt;!-- section1 --&gt;\r\n&lt;section id=\"section1\" class=\"section\"&gt;\r\n&lt;div class=\"inner\"&gt;\r\n&lt;h2&gt;セクション1&lt;/h2&gt;\r\n&lt;p&gt;コンテンツです。コンテンツです。コンテンツです。コンテンツです。コンテンツです。コンテンツです。コンテンツです。コンテンツです。コンテンツです。&lt;/p&gt;\r\n&lt;/div&gt;&lt;!-- /inner --&gt;\r\n&lt;/section&gt;&lt;!-- /section1 --&gt;\r\n&lt;!-- section2 --&gt;\r\n&lt;section id=\"section2\" class=\"section\"&gt;\r\n&lt;div class=\"inner\"&gt;\r\n&lt;h2&gt;セクション2&lt;/h2&gt;\r\n&lt;p&gt;コンテンツです。コンテンツです。コンテンツです。コンテンツです。コンテンツです。コンテンツです。コンテンツです。コンテンツです。コンテンツです。&lt;/p&gt;\r\n&lt;/div&gt;&lt;!-- /inner --&gt;\r\n&lt;/section&gt;&lt;!-- /section2 --&gt;\r\n&lt;!-- section3 --&gt;\r\n&lt;section id=\"section3\" class=\"section\"&gt;\r\n&lt;div class=\"inner\"&gt;\r\n&lt;h2&gt;セクション3&lt;/h2&gt;\r\n&lt;p&gt;コンテンツです。コンテンツです。コンテンツです。コンテンツです。コンテンツです。コンテンツです。コンテンツです。コンテンツです。コンテンツです。&lt;/p&gt;\r\n&lt;/div&gt;&lt;!-- /inner --&gt;\r\n&lt;/section&gt;&lt;!-- /section3 --&gt;\r\n\r\n&lt;section id=\"section4\" class=\"section\"&gt;\r\n&lt;div class=\"inner\"&gt;\r\n&lt;h2&gt;セクション4&lt;/h2&gt;\r\n&lt;p&gt;コンテンツです。コンテンツです。コンテンツです。コンテンツです。コンテンツです。コンテンツです。コンテンツです。コンテンツです。コンテンツです。&lt;/p&gt;\r\n&lt;/div&gt;&lt;!-- /inner --&gt;\r\n&lt;/section&gt;&lt;!-- /section4 --&gt;\r\n\r\n&lt;section id=\"section5\" class=\"section\"&gt;\r\n&lt;div class=\"inner\"&gt;\r\n&lt;h2&gt;セクション5&lt;/h2&gt;\r\n&lt;p&gt;コンテンツです。コンテンツです。コンテンツです。コンテンツです。コンテンツです。コンテンツです。コンテンツです。コンテンツです。コンテンツです。&lt;/p&gt;\r\n&lt;/div&gt;&lt;!-- /inner --&gt;\r\n&lt;/section&gt;&lt;!-- /section5 --&gt;\r\n&lt;/div&gt;&lt;!-- /main-content-wrapper --&gt;\r\n\r\n</code></pre>\n<pre><span class=\"code-copy\" data-clipboard-target=\"#code-4\">コピー</span><code id=\"code-4\" class=\"css\">#section1 {\r\n\tbackground: #d32f2f;\r\n\theight: 100vh;\r\n\tcolor: #fff;\r\n}\r\n\r\n#section2 {\r\n\tbackground: #c2185b;\r\n\tcolor: #fff;\r\n\theight: 100vh;\r\n}\r\n\r\n#section3 {\r\n\tbackground: #7b1fa2;\r\n\tcolor: #fff;\r\n\theight: 100vh;\r\n}\r\n\r\n#section4 {\r\n\tbackground: #512da8;\r\n\tcolor: #fff;\r\n\theight: 100vh;\r\n}\r\n\r\n#section5 {\r\n\tbackground: #303f9f;\r\n\tcolor: #fff;\r\n\theight: 100vh;\r\n}</code></pre>\n<pre><span class=\"code-copy\" data-clipboard-target=\"#code-5\">コピー</span><code id=\"code-5\" class=\"js\">jQuery( '.main-content-wrapper' ).stickyStack();</code></pre>\n<p>jQueryとライブラリーを読み込むこともお忘れなく！！！</p>\n<pre><span class=\"code-copy\" data-clipboard-target=\"#code-6\">コピー</span><code id=\"code-6\" class=\"html\">&lt;script src=\"https://code.jquery.com/jquery-3.3.1.min.js\"&gt;&lt;/script&gt;\r\n&lt;script src=\"js/jquery.stickystack.min.js\"&gt;&lt;/script&gt;\r\n</code></pre>\n<h2><span id=\"i-4\">おわり</span></h2><div class=\"matome\"><div class=\"matome-img\"><img src=\"https://haniwaman.com/wp-content/themes/hpcode/img/haniwa.png\" alt=\"\"></div><div class=\"matome-twitter\"><a href=\"https://twitter.com/haniwa008?ref_src=twsrc%5Etfw\" class=\"twitter-follow-button\" data-show-screen-name=\"false\" data-size=\"large\" data-lang=\"ja\" data-show-count=\"true\">Follow @haniwa008</a><script async src=\"https://platform.twitter.com/widgets.js\" charset=\"utf-8\"></script></div></div><!-- /matome -->\n<p>パララックスの3パターンと実装例を紹介しました！</p>\n<ul class=\"check\">\n<li>スクロールに応じて要素が動く</li>\n<li>スクロールとズレて要素がスクロール</li>\n<li>セクションが重なるようにスクロール</li>\n</ul>\n<p>パララックスは<span class=\"font-l\"><strong class=\"marker\">スクロールと連動したアニメーション</strong></span>のことです。</p>\n<p>この中だと、「<a href=\"#move\">スクロールに応じて要素が動く</a>」だけはめちゃくちゃ使われる表現になるので、確実に押さえておきましょう！！！</p>\n<p><!-- 「パララックスできますか？」と聞かれた時は「どういった表現をイメージしていますか？」とちゃんと聞かないと、自分が思っていた表現と違う・・・、みたいな事態にもなりかねません笑 --></p>\n","date":"December 28, 2018","categories":[{"name":"JavaScript","slug":"javascript"}],"tags":null,"author":{"name":"はにわまん","slug":"haniwaman"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"id":"3a0d6fec-efd9-5c9d-b246-fc562660ca35"}}}