{"componentChunkName":"component---src-templates-post-js","path":"/vscode-diff/","result":{"data":{"wordpressPost":{"id":"4f4b53cb-854c-5eb2-b63b-70841861c071","title":"VSCode内でテキスト比較（diff）する3つの方法","slug":"vscode-diff","content":"<p>VScodeのテキスト比較（diff）する3つの方法の紹介を紹介します。</p>\n<p>1つ目はVSCodeで標準に備わっているテキスト比較の使い方で実用的ではないかもしれませんが、操作方法だけでも覚えておくと後から役立つかもしれません。</p>\n<p>2つ目と3つ目は<strong class=\"marker\">実際の仕事でも使えそうな実用的な方法</strong>です。ぜひ、実際に導入してみて使い勝手を試してもらえたらと思います！</p>\n<div class=\"chat\"><figure class=\"chat-img\"><img src=\"https://haniwaman.com/wp-content/themes/hpcode/img/haniwa.png\" alt=\"\"><figcaption>はにわまん</figcaption></figure><div class=\"chat-content\">コーダーは割とテキスト比較を行うので、ここの効率化も課題だったりします＞＜</div></div>\n<div id=\"toc_container\" class=\"no_bullets\"><p class=\"toc_title\">目次</p><ul class=\"toc_list\"><li><a href=\"#VSCode3\"><span class=\"toc_number toc_depth_1\">1</span> VSCodeのテキスト比較する3つの方法</a><ul><li><a href=\"#2\"><span class=\"toc_number toc_depth_2\">1.1</span> 2つのファイルを単純に比較</a></li><li><a href=\"#i\"><span class=\"toc_number toc_depth_2\">1.2</span> 前の保存時のファイルと今を比較</a></li><li><a href=\"#i-2\"><span class=\"toc_number toc_depth_2\">1.3</span> 前回のコミット時のファイルと比較</a></li></ul></li><li><a href=\"#i-3\"><span class=\"toc_number toc_depth_1\">2</span> おわり</a></li></ul></div>\n<h2><span id=\"VSCode3\">VSCodeのテキスト比較する3つの方法</span></h2>\n<p>VSCodeのテキスト比較する3つの方法です。VSCodeの標準機能として備わっているテキスト比較から紹介して、それらを応用して作られた（であろう）拡張機能を使った比較を紹介していきます。</p>\n<h3><span id=\"2\">2つのファイルを単純に比較</span></h3>\n<p>存在するファイルを2つ比較するには「選択項目の比較」というVSCodeの標準機能を使うことで実現できます。</p>\n<p>ファイルを<span class=\"key\">Ctrl</span>を押しながら2つ選択して、右クリックから「選択項目の比較」を選択します。</p>\n<p>エクスプローラーからファイルを複数選択します。<br />\n<img src=\"https://haniwaman.com/wp-content/uploads/2019/02/vscode-diff.png\" alt=\"\" class=\"alignnone size-full wp-image-13573\" /></p>\n<p>右クリックして、「選択項目の比較」を選びます。<br />\n<img width=\"520\" src=\"https://haniwaman.com/wp-content/uploads/2019/02/vscode-diff2-700x554.png\" alt=\"\" class=\"alignnone size-medium wp-image-13574\" srcset=\"https://haniwaman.com/wp-content/uploads/2019/02/vscode-diff2-700x554.png 700w, https://haniwaman.com/wp-content/uploads/2019/02/vscode-diff2-768x607.png 768w, https://haniwaman.com/wp-content/uploads/2019/02/vscode-diff2.png 794w\" sizes=\"(max-width: 700px) 100vw, 700px\" /></p>\n<p>2画面となって異なる箇所が強調されているのが分かります。<br />\n<img src=\"https://haniwaman.com/wp-content/uploads/2019/02/vscode-diff3-700x320.png\" alt=\"\" class=\"alignnone size-medium wp-image-13575\" srcset=\"https://haniwaman.com/wp-content/uploads/2019/02/vscode-diff3-700x320.png 700w, https://haniwaman.com/wp-content/uploads/2019/02/vscode-diff3-768x352.png 768w, https://haniwaman.com/wp-content/uploads/2019/02/vscode-diff3.png 1125w\" sizes=\"(max-width: 700px) 100vw, 700px\" /></p>\n<p>VSCodeには、こんな感じで標準的にdiffの機能が備わっています。</p>\n<h3><span id=\"i\">前の保存時のファイルと今を比較</span></h3>\n<p><a href=\"https://marketplace.visualstudio.com/items?itemName=xyz.local-history\" rel=\"noopener\" target=\"_blank\"><img src=\"https://haniwaman.com/wp-content/uploads/2019/02/vscode-diff10-700x198.png\" alt=\"\" class=\"alignnone size-medium wp-image-13592\" srcset=\"https://haniwaman.com/wp-content/uploads/2019/02/vscode-diff10-700x198.png 700w, https://haniwaman.com/wp-content/uploads/2019/02/vscode-diff10-768x217.png 768w, https://haniwaman.com/wp-content/uploads/2019/02/vscode-diff10.png 1073w\" sizes=\"(max-width: 700px) 100vw, 700px\" /></a></p>\n<p>「Local History」という拡張機能を使えば、保存時のファイルを残しておけます。バージョン管理の簡易版みたいなイメージの拡張機能です。</p>\n<p>ダンロード先 → <a href=\"https://marketplace.visualstudio.com/items?itemName=xyz.local-history\" rel=\"noopener\" target=\"_blank\">Local History &#8211; Visual Studio Marketplace</a></p>\n<p>保存すると、同じプロジェクトフォルダ内の<span class=\"folder\">.hitstory</span>フォルダにどんどんバックアップファイルが追加されていきます。</p>\n<p>比較方法は2つあって、<span class=\"folder\">.hitstory</span>の中のファイルと今のフィイルを比較して先ほど紹介した「選択項目の比較」を行う方法。もう1つは、「Local History」の管理メニューを新たに追加して比較の操作をする方法です。</p>\n<h4>「選択項目の比較」のパターン</h4>\n<p>これは、最初に紹介したやり方と全く同じです。</p>\n<p>「Local History」を使っている間は<span class=\"folder\">.hitstory</span>フォルダに物理的に保存時のファイルがバックアップとして追加されていくので、今のファイルと<span class=\"folder\">.hitstory</span>内のフィアルを選択して「選択項目の比較」を行うだけです。<br />\n<img width=\"520\" src=\"https://haniwaman.com/wp-content/uploads/2019/02/vscode-diff4-700x648.png\" alt=\"\" class=\"alignnone size-medium wp-image-13577\" srcset=\"https://haniwaman.com/wp-content/uploads/2019/02/vscode-diff4-700x648.png 700w, https://haniwaman.com/wp-content/uploads/2019/02/vscode-diff4.png 761w\" sizes=\"(max-width: 700px) 100vw, 700px\" /></p>\n<h4>専用のメニューを追加するパターン</h4>\n<p>設定を変更することで、サイドメニューのエリアに専用のメニューを追加することができます。</p>\n<p>ファイル → 基本設定 → 設定 から「Local History」で検索。「Tree Location」を「localHistory」に変更して保存します。<br />\n<img src=\"https://haniwaman.com/wp-content/uploads/2019/02/vscode-diff5-700x608.png\" alt=\"\" class=\"alignnone size-medium wp-image-13578\" srcset=\"https://haniwaman.com/wp-content/uploads/2019/02/vscode-diff5-700x608.png 700w, https://haniwaman.com/wp-content/uploads/2019/02/vscode-diff5-768x667.png 768w, https://haniwaman.com/wp-content/uploads/2019/02/vscode-diff5.png 1181w\" sizes=\"(max-width: 700px) 100vw, 700px\" /></p>\n<p>対象のフィアルを開いた状態でサイドメニューの「Local History」を開くと、選択したバックアップファイルとのテキスト比較ができるようになっています。<br />\n<img src=\"https://haniwaman.com/wp-content/uploads/2019/02/vscode-diff6-700x282.png\" alt=\"\" class=\"alignnone size-medium wp-image-13579\" srcset=\"https://haniwaman.com/wp-content/uploads/2019/02/vscode-diff6-700x282.png 700w, https://haniwaman.com/wp-content/uploads/2019/02/vscode-diff6-768x309.png 768w, https://haniwaman.com/wp-content/uploads/2019/02/vscode-diff6-1200x483.png 1200w, https://haniwaman.com/wp-content/uploads/2019/02/vscode-diff6.png 1901w\" sizes=\"(max-width: 700px) 100vw, 700px\" /></p>\n<p><strong class=\"marker\">バックアップしつつ比較もできるので、普通に作業するよりは安心感をもって作業できる</strong>かもしれません。</p>\n<h3><span id=\"i-2\">前回のコミット時のファイルと比較</span></h3>\n<p><a href=\"https://marketplace.visualstudio.com/items?itemName=eamodio.gitlens\" rel=\"noopener\" target=\"_blank\"><img src=\"https://haniwaman.com/wp-content/uploads/2019/02/vscode-diff11-700x191.png\" alt=\"\" class=\"alignnone size-medium wp-image-13594\" srcset=\"https://haniwaman.com/wp-content/uploads/2019/02/vscode-diff11-700x191.png 700w, https://haniwaman.com/wp-content/uploads/2019/02/vscode-diff11-768x209.png 768w, https://haniwaman.com/wp-content/uploads/2019/02/vscode-diff11-1200x327.png 1200w, https://haniwaman.com/wp-content/uploads/2019/02/vscode-diff11.png 1245w\" sizes=\"(max-width: 700px) 100vw, 700px\" /></a></p>\n<p>「Local History」は保存するたびに強制的にバックアップフィアルが作られます。そこまでの頻度は必要ないなって思う方もいるかもしれません。</p>\n<p>Gitで最低限の管理がされていることが前提になってしまいますが、、、「GitLens」という拡張機能を使えば、簡単に前回コミットした状態と今の状態を比較することができるようになります。</p>\n<p>ダウンロード先 → <a href=\"https://marketplace.visualstudio.com/items?itemName=eamodio.gitlens\" rel=\"noopener\" target=\"_blank\">GitLens — Git supercharged &#8211; Visual Studio Marketplace</a></p>\n<p>対象フィアルを右クリック → 「Open Changes with Previous Revision」を選択するだけで、差分を確認することができます。<br />\n<img width=\"520\" src=\"https://haniwaman.com/wp-content/uploads/2019/02/vscode-diff8-700x360.png\" alt=\"\" class=\"alignnone size-medium wp-image-13581\" srcset=\"https://haniwaman.com/wp-content/uploads/2019/02/vscode-diff8-700x360.png 700w, https://haniwaman.com/wp-content/uploads/2019/02/vscode-diff8-768x395.png 768w, https://haniwaman.com/wp-content/uploads/2019/02/vscode-diff8.png 903w\" sizes=\"(max-width: 700px) 100vw, 700px\" /></p>\n<p>左側に前回のコミットした同ファイルとの比較が表示されます。<br />\n<img src=\"https://haniwaman.com/wp-content/uploads/2019/02/vscode-diff9-700x237.png\" alt=\"\" class=\"alignnone size-medium wp-image-13582\" srcset=\"https://haniwaman.com/wp-content/uploads/2019/02/vscode-diff9-700x237.png 700w, https://haniwaman.com/wp-content/uploads/2019/02/vscode-diff9-768x259.png 768w, https://haniwaman.com/wp-content/uploads/2019/02/vscode-diff9-1200x405.png 1200w, https://haniwaman.com/wp-content/uploads/2019/02/vscode-diff9.png 1542w\" sizes=\"(max-width: 700px) 100vw, 700px\" /></p>\n<p>ファイルをGitで管理している方は「GitLens」を使い、特に管理していない方（物理的なバックアップで管理している方）は「Local History」が使いやすいのかなと思います。</p>\n<h2><span id=\"i-3\">おわり</span></h2><div class=\"matome\"><div class=\"matome-img\"><img src=\"https://haniwaman.com/wp-content/themes/hpcode/img/haniwa.png\" alt=\"\"></div><div class=\"matome-twitter\"><a href=\"https://twitter.com/haniwa008?ref_src=twsrc%5Etfw\" class=\"twitter-follow-button\" data-show-screen-name=\"false\" data-size=\"large\" data-lang=\"ja\" data-show-count=\"true\">Follow @haniwa008</a><script async src=\"https://platform.twitter.com/widgets.js\" charset=\"utf-8\"></script></div></div><!-- /matome -->\n<p>VSCodeのテキスト比較（diff）する3つの方法の紹介でした！</p>\n<p>「Local History」や「GitLens」など、素敵な拡張機能も豊富でVSCodeからますます離れられませんね&#8230;。標準でdiff機能が備わっているので、<strong class=\"marker\">テキスト比較も基本的にはVSCode内で完結</strong>できてしまいます。</p>\n<p>使えそうな拡張機能があったら、実際に導入してみてポチポチ触って試してみてください！</p>\n","date":"February 11, 2019","categories":[{"name":"環境","slug":"setting"}],"tags":[{"name":"VSCode","slug":"vscode"}],"author":{"name":"はにわまん","slug":"haniwaman"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"id":"4f4b53cb-854c-5eb2-b63b-70841861c071"}}}