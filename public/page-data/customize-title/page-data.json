{"componentChunkName":"component---src-templates-post-js","path":"/customize-title/","result":{"data":{"wordpressPost":{"id":"b3ec5e22-3290-5b8f-b076-e0f578fd15c4","title":"WordPressで自動出力されるタイトル系のカスタマイズ方法まとめ","slug":"customize-title","content":"<p>WordPressが自動で出力するタイトルタグやアーカイブタイトルは「カテゴリー：〇〇」や「アーカイブ：〇〇」など、<strong class=\"marker\">ダサくなりがち</strong>です。</p>\n<p>WordPressが出力するタイトルをカスタマイズする方法をまとめましたので、変更したい方は参考にしてください！</p>\n<div class=\"chat\"><figure class=\"chat-img\"><img src=\"https://haniwaman.com/wp-content/themes/hpcode/img/haniwa.png\" alt=\"\"><figcaption>はにわまん</figcaption></figure><div class=\"chat-content\">WordPressが出力する各種タイトルのカスタマイズ方法をまとめました！</div></div>\n<div id=\"toc_container\" class=\"no_bullets\"><p class=\"toc_title\">目次</p><ul class=\"toc_list\"><li><a href=\"#title-tag\"><span class=\"toc_number toc_depth_1\">1</span> タイトルタグ：title-tag</a></li><li><a href=\"#wp_title\"><span class=\"toc_number toc_depth_1\">2</span> タイトルタグ（旧）：wp_title</a></li><li><a href=\"#All_in_One_SEO\"><span class=\"toc_number toc_depth_1\">3</span> タイトルタグ（All in One SEO）</a><ul><li><a href=\"#All_in_One_SEO-2\"><span class=\"toc_number toc_depth_2\">3.1</span> ディスクリプション（All in One SEO）</a></li></ul></li><li><a href=\"#the_archive_title\"><span class=\"toc_number toc_depth_1\">4</span> アーカイブのタイトル：the_archive_title</a></li><li><a href=\"#the_title\"><span class=\"toc_number toc_depth_1\">5</span> 個別記事：the_title</a></li></ul></div>\n<h2><span id=\"title-tag\">タイトルタグ：title-tag</span></h2>\n<p>WordPress4.4からタイトルタグは<code>&lt;head&gt;</code>タグ内に記載しなくても、<span class=\"filename\">functions.php</span>に以下の記述をすれば、WordPressが標準で表示してくれるようになりました。<br />\nf</p>\n<pre><span class=\"filename\">functions.php</span><span class=\"code-copy\" data-clipboard-target=\"#code-0\">コピー</span><code id=\"code-0\" class=\"php\">add_theme_support( 'title-tag' );</code></pre>\n<p>カスタマイズする方法は以下のとおりです。</p>\n<pre><span class=\"filename\">functions.php</span><span class=\"code-copy\" data-clipboard-target=\"#code-1\">コピー</span><code id=\"code-1\" class=\"php\">function change_title_tag( $title ) {\r\n\r\n\tif ( is_category() ) { /* カテゴリーアーカイブの場合 */\r\n\t\t$title = single_cat_title( '', false );\r\n\t} elseif ( is_tag() ) { /* タグアーカイブの場合 */\r\n\t\t$title = single_tag_title( '', false );\r\n\t} elseif ( is_post_type_archive( 'parts' ) ) { /* parts投稿タイプのアーカイブの場合 */\r\n\t\t$title = '任意のタイトル';\r\n\t}\r\n  return $title;\r\n}\r\nadd_filter( 'pre_get_document_title', 'change_title_tag' );</code></pre>\n<p>Codex:<a href=\"https://developer.wordpress.org/reference/hooks/pre_get_document_title/\" target=\"_blank\" rel=\"noopener noreferrer\">pre_get_document_title | Hook | WordPress Developer Resources</a></p>\n<h2><span id=\"wp_title\">タイトルタグ（旧）：wp_title</span></h2>\n<p>WordPress4.4以降から<code>wp_title()</code>によるタイトルタグの出力は非推奨になっているのですが、古いテーマでは未だに使われています。</p>\n<p>そういったテーマをカスタマイズする機会もまだ多くあると思うので、<code>wp_title()</code>のカスタマイズ方法も見ておきましょう。</p>\n<pre><span class=\"filename\">functions.php</span><span class=\"code-copy\" data-clipboard-target=\"#code-2\">コピー</span><code id=\"code-2\" class=\"php\">function change_old_title_tag( $title, $sep ) {\r\n\r\n\tif ( is_category() ) { /* カテゴリーアーカイブの場合 */\r\n\t\t$title = single_cat_title( '', false );\r\n\t} elseif ( is_tag() ) { /* タグアーカイブの場合 */\r\n\t\t$title = single_tag_title( '', false );\r\n\t} elseif ( is_post_type_archive( 'parts' ) ) { /* parts投稿タイプのアーカイブの場合 */\r\n\t\t$title = '任意のタイトル';\r\n\t}\r\n  return $title;\r\n}\r\nadd_filter( 'wp_title', 'change_old_title_tag' );</code></pre>\n<p>Codex:<a href=\"https://wpdocs.osdn.jp/%E3%83%86%E3%83%B3%E3%83%97%E3%83%AC%E3%83%BC%E3%83%88%E3%82%BF%E3%82%B0/wp_title\" target=\"_blank\" rel=\"noopener noreferrer\">テンプレートタグ/wp title &#8211; WordPress Codex 日本語版</a></p>\n<h2><span id=\"All_in_One_SEO\">タイトルタグ（All in One SEO）</span></h2>\n<p>ちょっとハマったので、こちらも共有です。<br />\nプラグイン「All in One SEO」を使用している場合は、<code>pre_get_document_title()</code>が<strong class=\"marker\">効きません</strong>！（詳しくは調べてないですが、たぶんAll in One SEOの処理で上書きされてる）</p>\n<p>「All in One SEO」のフィルターフックを使って書き換えてあげる必要があります。</p>\n<pre><span class=\"filename\">functions.php</span><span class=\"code-copy\" data-clipboard-target=\"#code-3\">コピー</span><code id=\"code-3\" class=\"php\">function change_aioseop_title( $title ) {\r\n\r\n  if ( is_category() ) { /* カテゴリーアーカイブの場合 */\r\n    $title = single_cat_title( '', false );\r\n  } elseif ( is_tag() ) { /* タグアーカイブの場合 */\r\n    $title = single_tag_title( '', false );\r\n  } elseif ( is_post_type_archive( 'parts' ) ) { /* parts投稿タイプのアーカイブの場合 */\r\n    $title = '任意のタイトル';\r\n  }\r\n\treturn $title;\r\n}\r\nadd_filter( 'aioseop_title', 'change_aioseop_title' );</code></pre>\n<h3><span id=\"All_in_One_SEO-2\">ディスクリプション（All in One SEO）</span></h3>\n<p>ちょっとおまけで「All in One SEO」でディスクリプションを書き換える場合です。</p>\n<pre><span class=\"filename\">functions.php</span><span class=\"code-copy\" data-clipboard-target=\"#code-4\">コピー</span><code id=\"code-4\" class=\"php\">function change_aioseop_description( $description ) {\r\n\r\n  if ( is_post_type_archive( 'parts' ) ) { /* parts投稿タイプのアーカイブの場合 */\r\n    $description = '任意のディスクリプション';\r\n\t}\r\n\treturn $description;\r\n}\r\nadd_filter( 'aioseop_description', 'change_aioseop_description' );</code></pre>\n<h2><span id=\"the_archive_title\">アーカイブのタイトル：the_archive_title</span></h2>\n<p><code>the_archive_title</code>はWordPressの一覧ページでh1に相当するようなタイトルを取得する際に使用される関数です。<br />\nCodex：<a href=\"https://wpdocs.osdn.jp/%E9%96%A2%E6%95%B0%E3%83%AA%E3%83%95%E3%82%A1%E3%83%AC%E3%83%B3%E3%82%B9/the_archive_title\" target=\"_blank\" rel=\"noopener noreferrer\">関数リファレンス/the archive title &#8211; WordPress Codex 日本語版</a></p>\n<p>「カテゴリー：〇〇」や「アーカイブ：〇〇」という出力結果になるので、カスタマイズしたくなりがちです。</p>\n<pre><span class=\"filename\">functions.php</span><span class=\"code-copy\" data-clipboard-target=\"#code-5\">コピー</span><code id=\"code-5\" class=\"php\">function change_archive_title( $title ) {\r\n\r\n\tif ( is_category() ) { /* カテゴリーアーカイブの場合 */\r\n\t\t$title = single_cat_title( '', false );\r\n\t} elseif ( is_tag() ) { /* タグアーカイブの場合 */\r\n\t\t$title = single_tag_title( '', false );\r\n\t} elseif ( is_tax( 'event', 'hover' ) ) { /* タームアーカイブの場合（eventタクソノミー、hoverターム） */\r\n\t\t$title = single_term_title( \"\", false );\r\n\t} elseif ( is_post_type_archive( 'parts' ) ) {\r\n\t\t$title = post_type_archive_title( \"\", false ); /* parts投稿タイプのアーカイブの場合 */\r\n\t}\r\n\treturn $title;\r\n};\r\nadd_filter( 'get_the_archive_title', 'change_archive_title' );\r\n</code></pre>\n<h2><span id=\"the_title\">個別記事：the_title</span></h2>\n<p>個別記事のタイトルを出力する<code>the_title()</code>。あまりカスマイズする機会はないかもしれませんが、以下のような感じでカスタマイズすることは可能です。</p>\n<pre><span class=\"filename\">functions.php</span><span class=\"code-copy\" data-clipboard-target=\"#code-6\">コピー</span><code id=\"code-6\" class=\"php\">function change_page_title( $title ) {\r\n\tglobal $post;\r\n\tif ( $post-&gt;ID == 10 ) {\r\n\t\t$title = '任意のタイトル';\r\n\t}\r\n\treturn $title;\r\n}\r\nadd_filter( 'the_title','change_page_title' );</code></pre>\n<p><a href=\"https://wpdocs.osdn.jp/%E3%83%86%E3%83%B3%E3%83%97%E3%83%AC%E3%83%BC%E3%83%88%E3%82%BF%E3%82%B0/the_title\" target=\"_blank\" rel=\"noopener noreferrer\">テンプレートタグ/the title &#8211; WordPress Codex 日本語版</a></p>\n","date":"March 08, 2018","categories":[{"name":"WordPress","slug":"wordpress"}],"tags":null,"author":{"name":"はにわまん","slug":"haniwaman"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"id":"b3ec5e22-3290-5b8f-b076-e0f578fd15c4"}}}