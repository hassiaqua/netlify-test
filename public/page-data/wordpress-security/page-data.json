{"componentChunkName":"component---src-templates-post-js","path":"/wordpress-security/","result":{"data":{"wordpressPost":{"id":"ee431252-2937-54ac-b160-32e98cfd5bb7","title":"すぐ導入可能！WordPressでできるセキュリティ対策７選","slug":"wordpress-security","content":"<p>WordPressでできるセキュリティ対策まとめです。わたし自身はセキュリティに関する知識が高いわけではないですが、WordPressのイベントは定期的に出ていて、WordPress有識者から共有してもらった知識だけはあるって感じです笑</p>\n<p>WordPressのセキュリティ対策としては、<strong class=\"marker\">とにもかくにも「最新のバージョンにしておく」</strong>ってところは共通してみんな言っていると思うので、サイト管理者はとりあえずここだけは最低限意識するといいかもしれません。</p>\n<div class=\"chat\"><figure class=\"chat-img\"><img src=\"https://haniwaman.com/wp-content/themes/hpcode/img/haniwa.png\" alt=\"\"><figcaption>はにわまん</figcaption></figure><div class=\"chat-content\">誰でもできる対策がほとんどです！</div></div>\n<div id=\"toc_container\" class=\"no_bullets\"><p class=\"toc_title\">目次</p><ul class=\"toc_list\"><li><a href=\"#WordPress\"><span class=\"toc_number toc_depth_1\">1</span> WordPressでできるセキュリティ対策</a><ul><li><a href=\"#i\"><span class=\"toc_number toc_depth_2\">1.1</span> 最新のバージョンにアップデート</a></li><li><a href=\"#i-2\"><span class=\"toc_number toc_depth_2\">1.2</span> パスワードは推測されにくい複雑なものに</a></li><li><a href=\"#SiteGuard_WP_PluginURL\"><span class=\"toc_number toc_depth_2\">1.3</span> 「SiteGuard WP Plugin」でログインURL変更と画像認証</a></li><li><a href=\"#i-3\"><span class=\"toc_number toc_depth_2\">1.4</span> 野良テーマ、野良プラグインを使わない</a></li><li><a href=\"#i-4\"><span class=\"toc_number toc_depth_2\">1.5</span> サイトヘルスでチェック！</a></li><li><a href=\"#i-5\"><span class=\"toc_number toc_depth_2\">1.6</span> ピンバックを無効</a></li><li><a href=\"#IP\"><span class=\"toc_number toc_depth_2\">1.7</span> 海外IPのアクセス制限</a></li></ul></li><li><a href=\"#i-6\"><span class=\"toc_number toc_depth_1\">2</span> 定期的にバックアップを取っておこう</a></li><li><a href=\"#i-7\"><span class=\"toc_number toc_depth_1\">3</span> サイトの異変を検知する方法</a><ul><li><a href=\"#Search_Console\"><span class=\"toc_number toc_depth_2\">3.1</span> 「Search Console」に登録</a></li><li><a href=\"#SiteGuard_WP_Plugin\"><span class=\"toc_number toc_depth_2\">3.2</span> 「SiteGuard WP Plugin」プラグインの導入</a></li></ul></li><li><a href=\"#i-8\"><span class=\"toc_number toc_depth_1\">4</span> おわり</a></li></ul></div>\n<h2><span id=\"WordPress\">WordPressでできるセキュリティ対策</span></h2>\n<p>WordPressでできるセキュリティ対策のまとめです。上から順番に重要度が高め（とわたしが思っている）なものを並べました。</p>\n<h3><span id=\"i\">最新のバージョンにアップデート</span></h3>\n<p><strong class=\"marker\">なにはともあれWordPressは常に最新の状態に</strong>しておきましょう。どのWordPressの有識者もほぼこれしか言っていません。</p>\n<p>WordPress本体やプラグインに更新があると、管理画面に更新メニューが登場するので、気づいたらアップデートしてあげてください。<br />\n<img src=\"https://haniwaman.com/wp-content/uploads/2019/06/wordpress-security1.png\" alt=\"\" width=\"250\"  class=\"alignnone size-full wp-image-15332\" /></p>\n<p>更新には２種類あって、マイナーアップデートとメジャーアップデート。</p>\n<p>マイナーは軽微なパッチを当てるような更新で自動で更新が走ります。メジャーアップデートは、テキストエディタがグーテンベルグに変わる！みたいな大きめのアップデートで管理者が手動で行うものです。</p>\n<p>たまに<strong class=\"marker\">マイナーアップデートを停止させているテーマがありますが、セキィリティ的な観点から言うと論外とのこと</strong>です。</p>\n<p>ということで、WordPress本体とプラグインは常に最新の状態に保つようにしましょう。</p>\n<h3><span id=\"i-2\">パスワードは推測されにくい複雑なものに</span></h3>\n<p>WordPressに限らずですが、、、<strong class=\"marker\">パスワードは推測されずらい複雑なもの</strong>にしましょう。WordPress管理画面のパスワードは自動で生成してくれるので、これをそのまま使えばいいかと思います。<br />\n<img src=\"https://haniwaman.com/wp-content/uploads/2019/06/wordpress-security2-700x134.png\" alt=\"\" width=\"500\" class=\"alignnone size-medium wp-image-15335\" srcset=\"https://haniwaman.com/wp-content/uploads/2019/06/wordpress-security2-700x134.png 700w, https://haniwaman.com/wp-content/uploads/2019/06/wordpress-security2-768x147.png 768w, https://haniwaman.com/wp-content/uploads/2019/06/wordpress-security2-1200x229.png 1200w, https://haniwaman.com/wp-content/uploads/2019/06/wordpress-security2.png 1528w\" sizes=\"(max-width: 700px) 100vw, 700px\" /></p>\n<p><a href=\"https://1password.com/jp/\" rel=\"noopener nofollow\" target=\"_blank\">1password</a>などのツールを使えばパスワードをわざわざ覚える必要もないので、自分で暗記するって観点でパスワードを決めずにツールに依存させることを個人的にはおすすめします。</p>\n<h3><span id=\"SiteGuard_WP_PluginURL\">「SiteGuard WP Plugin」でログインURL変更と画像認証</span></h3>\n<blockquote class=\"wp-embedded-content\" data-secret=\"nJTptAUi7f\"><p><a href=\"https://ja.wordpress.org/plugins/siteguard/\">SiteGuard WP Plugin</a></p></blockquote>\n<p><iframe title=\"&#8220;SiteGuard WP Plugin&#8221; &#8212; Plugin Directory\" class=\"wp-embedded-content\" sandbox=\"allow-scripts\" security=\"restricted\" style=\"position: absolute; clip: rect(1px, 1px, 1px, 1px);\" src=\"https://ja.wordpress.org/plugins/siteguard/embed/#?secret=nJTptAUi7f\" data-secret=\"nJTptAUi7f\" width=\"500\" height=\"282\" frameborder=\"0\" marginwidth=\"0\" marginheight=\"0\" scrolling=\"no\"></iframe></p>\n<p>WordPress管理画面の管理画面は常にインターネット上にさらされているわけですね。基本的には、<code>ドメイン名/wp-login.php</code>でアクセスできてしまうわけですが、これを変更することでログインURLが見つかるリスクが軽減されます。</p>\n<p>また、ログイン時にユーザ名、パスワードに加えて画像認証も加えることができます。こんな感じ。<br />\n<img src=\"https://haniwaman.com/wp-content/uploads/2019/06/wordpress-security3.png\" alt=\"\" width=\"360\"  class=\"alignnone size-full wp-image-15334\" /></p>\n<p>これによって機械的なログインを防ぐことが可能です。その他に管理画面へのログイン履歴とか、不正なログインがあったときにアラートをメールしてくれたりします。</p>\n<p>とりあえず<strong class=\"marker\">「SiteGuard WP Plugin」を導入しておくだけで安心感が半端ない</strong>です。</p>\n<h3><span id=\"i-3\">野良テーマ、野良プラグインを使わない</span></h3>\n<p>WordPressに関連する製品は誰でも開発が可能ですし、提供することに制限をかけていません（GPLライセンス）。なので、世の中には良い製品も悪い製品も混ざって存在してしまっているわけです。</p>\n<p>世の中に出回っているWordPress製品を大きく2つに分けると、公式の審査を通っているものとそうでないものに分けられます。そして<strong class=\"marker\">公式の審査に通っていなものを「野良テーマ」や「野良プラグイン」</strong>と呼ばれていたりします。</p>\n<p>公式のレビューではセキュリティ的に問題ありそうなところのチェック（代表的なところだとエスケープやサニタイズ）などを行った上での提供となりますが、野良テーマは作った人のスキルやセキュリティ意識に依存します（有料、無料問わず）。</p>\n<p>使うのはいいですが、自己責任で&#8230;といった具合ですね。</p>\n<p>特に理由がなければ公式から提供されているものから選ぶといいかと思います。</p>\n<ul>\n<li>公式のテーマ → <a href=\"https://ja.wordpress.org/themes/browse/popular/\" rel=\"noopener nofollow\" target=\"_blank\">https://ja.wordpress.org/themes/browse/popular/</a></li>\n<li>公式のプラグイン → <a href=\"https://ja.wordpress.org/plugins/\" rel=\"noopener nofollow\" target=\"_blank\">https://ja.wordpress.org/plugins/</a></li>\n</ul>\n<h3><span id=\"i-4\">サイトヘルスでチェック！</span></h3>\n<p>WordPress5.1から導入された機能で、セキュリティやパフォーマンスに関する問題がないか診断してくれる公式のツールです。<strong class=\"marker\">点数によるUIが今風でめっちゃいい</strong>なって思います。なんか100を目指したくなりますよね。</p>\n<p>ツール → サイトヘルス からアクセスできて、アクセスすれば診断して問題があれば指摘してくれます。表示としては以下のような感じでシンプルでめっちゃいいです。<br />\n<img src=\"https://haniwaman.com/wp-content/uploads/2019/06/wordpress-security4-700x436.png\" alt=\"\" width=\"700\" class=\"alignnone size-medium wp-image-15333\" srcset=\"https://haniwaman.com/wp-content/uploads/2019/06/wordpress-security4-700x436.png 700w, https://haniwaman.com/wp-content/uploads/2019/06/wordpress-security4-768x479.png 768w, https://haniwaman.com/wp-content/uploads/2019/06/wordpress-security4-1200x748.png 1200w\" sizes=\"(max-width: 700px) 100vw, 700px\" /></p>\n<h3><span id=\"i-5\">ピンバックを無効</span></h3>\n<p>WordPressに古くから備わっているピンバックと呼ばれる機能があります。内部リンクを設置した時に自分のサイトに通知するというものです。トラックバックは知らない相手に通知するからまだ意味があるように思いますが、ピンバックって未だに必要性が分かりません&#8230;</p>\n<p>ピンバックで使われる<span class=\"filename\">xmlrpc.php</span>は攻撃の踏み台にされがちで、かつ普段使うことのない機能なので無効化しておいた方がいいです。</p>\n<p>設定 → ディスカッション から「新しい記事に対し他のブログからの通知 (ピンバック・トラックバック) を受け付ける」のチェックを外す<br />\n<img src=\"https://haniwaman.com/wp-content/uploads/2019/06/wordpress-security5-700x170.png\" alt=\"\" width=\"500\" class=\"alignnone size-medium wp-image-15356\" srcset=\"https://haniwaman.com/wp-content/uploads/2019/06/wordpress-security5-700x170.png 700w, https://haniwaman.com/wp-content/uploads/2019/06/wordpress-security5-768x187.png 768w, https://haniwaman.com/wp-content/uploads/2019/06/wordpress-security5-1200x292.png 1200w, https://haniwaman.com/wp-content/uploads/2019/06/wordpress-security5.png 1630w\" sizes=\"(max-width: 700px) 100vw, 700px\" /></p>\n<p>また、もしチェックした状態で更新した投稿がある場合は、個別にチェックを外す必要があります&#8230;（ちょっと面倒ですが&#8230;）<br />\n<img src=\"https://haniwaman.com/wp-content/uploads/2019/06/wordpress-security6-700x140.png\" alt=\"\" width=\"620\" class=\"alignnone size-medium wp-image-15357\" srcset=\"https://haniwaman.com/wp-content/uploads/2019/06/wordpress-security6-700x140.png 700w, https://haniwaman.com/wp-content/uploads/2019/06/wordpress-security6-768x154.png 768w, https://haniwaman.com/wp-content/uploads/2019/06/wordpress-security6-1200x240.png 1200w\" sizes=\"(max-width: 700px) 100vw, 700px\" /></p>\n<h3><span id=\"IP\">海外IPのアクセス制限</span></h3>\n<p>基本的にレンタルサーバー会社はセキュリティ的にリスクがありそうな場所に対して、海外IPからのアクセス制限をしていることが多いです。先ほど紹介したピンバックの<span class=\"filename\">xmlrpc.php</span>とかですね。</p>\n<p>サーバー会社があえて設定している設定なので、よほどの理由がない限りは変更しないほうが安全です。</p>\n<p>もし<strong class=\"marker\">海外でWordPressサイトを管理するときは、日本の固定IPが使えるサービスを使うことをおすす</strong>めします。（海外IPでのトラブル事例は割とよく耳にする&#8230;）</p>\n<p>わたしが海外にいた時はマイIPというサービスを使ってました。1ヶ月お試しで使えるので、ちょっとした旅行や出張なら実質無料です。<br />\n→ <a href=\"https://px.a8.net/svt/ejp?a8mat=35HONI+8G8YC2+7QW+1HUFYA\" target=\"_blank\" rel=\"nofollow\">マイIPの公式サイトはこちら</a><img border=\"0\" width=\"1\" height=\"1\" src=\"https://www10.a8.net/0.gif?a8mat=35HONI+8G8YC2+7QW+1HUFYA\" alt=\"\"></p>\n<h2><span id=\"i-6\">定期的にバックアップを取っておこう</span></h2>\n<p>セキュリティ対策を意識していても万が一はあります&#8230;。</p>\n<p>そんな時に、例えば「管理画面に入られて記事を全部削除された&#8230;」ってなってもバックアップば手元にあれば、一瞬で元に戻すことが可能です。</p>\n<p>なので<strong class=\"marker\">定期的にバックアップをとっておくことをおすすめ</strong>します。最低でも1ヶ月に1回くらいは取っておくと安心できるかもしれません。</p>\n<p>何をバックアップするかという所ですが、完全に手動でバックアップする場合は、以下の項目を意識してポチポチしたりコピペしたりする感じになります。</p>\n<ul>\n<li>MySQLのデータ</li>\n<li>テーマのフィアル郡</li>\n<li>プラグインファイル郡</li>\n<li>画像のファイル郡</li>\n<li>記事のエクスポート</li>\n<li>管理画面での設定をメモ</li>\n</ul>\n<p>詳しくは以下の記事にまとめているので参考にしていただければと思います。</p>\n<blockquote class=\"wp-embedded-content\" data-secret=\"A57dTY38dM\"><p><a href=\"https://haniwaman.com/wordpress-backup/\">WordPressのバックアップ方法と復元するまでの流れ（プラグインなし）</a></p></blockquote>\n<p><iframe title=\"&#8220;WordPressのバックアップ方法と復元するまでの流れ（プラグインなし）&#8221; &#8212; HPcode\" class=\"wp-embedded-content\" sandbox=\"allow-scripts\" security=\"restricted\" style=\"position: absolute; clip: rect(1px, 1px, 1px, 1px);\" src=\"https://haniwaman.com/wordpress-backup/embed/#?secret=A57dTY38dM\" data-secret=\"A57dTY38dM\" width=\"500\" height=\"282\" frameborder=\"0\" marginwidth=\"0\" marginheight=\"0\" scrolling=\"no\"></iframe></p>\n<p>上記の手順でやってもいいのですが、正直、手動でやるのは面倒くさいです。個人的なおすすめは「All-in-One WP Migration」」というプラグインを使うことです。このプラグインを使えば１回ポチッとするだけで、上記のデータを全部まとめて取得することができます。</p>\n<p>「All-in-One WP Migration」の使い方は以下にまとめているので参考にしていただければと思います。</p>\n<blockquote class=\"wp-embedded-content\" data-secret=\"G46PWCjPB1\"><p><a href=\"https://haniwaman.com/all-in-one-wp-migration/\">WordPressのバックアップは「All-in-One WP Migration」でDBもテーマもオールOK！！</a></p></blockquote>\n<p><iframe title=\"&#8220;WordPressのバックアップは「All-in-One WP Migration」でDBもテーマもオールOK！！&#8221; &#8212; HPcode\" class=\"wp-embedded-content\" sandbox=\"allow-scripts\" security=\"restricted\" style=\"position: absolute; clip: rect(1px, 1px, 1px, 1px);\" src=\"https://haniwaman.com/all-in-one-wp-migration/embed/#?secret=G46PWCjPB1\" data-secret=\"G46PWCjPB1\" width=\"500\" height=\"282\" frameborder=\"0\" marginwidth=\"0\" marginheight=\"0\" scrolling=\"no\"></iframe></p>\n<p>ちなみに<strong class=\"marker\">バックアップデータはサーバー上ではなく手元（ローカルPC上など）に置いておく</strong>ようにしましょう！（サーバー上のデータを全部削除された時に終わるので&#8230;）</p>\n<h2><span id=\"i-7\">サイトの異変を検知する方法</span></h2>\n<p>もう１歩だけ踏み込んで、サイトに異変があった時に検知するための方法です。</p>\n<h3><span id=\"Search_Console\">「Search Console」に登録</span></h3>\n<p>Search Console（サーチコンソール）は、Google公式のサイト運営者のためのツールで、サイトの運用状態を監視してくれるものです。</p>\n<p>「数日中に404ページが増加した」など、サイトでの異変をメールなどで知らせてくれるので、確実に登録しておくといいかと思います。</p>\n<p>→ <a href=\"https://www.google.com/webmasters/tools/home?hl=ja\" rel=\"noopener nofollow\" target=\"_blank\">Google Search Consoleはこちら</a></p>\n<h3><span id=\"SiteGuard_WP_Plugin\">「SiteGuard WP Plugin」プラグインの導入</span></h3>\n<p>セキュリティ対策のところでも紹介しましたが、WordPressのログインを監視してくれる役割もあります。</p>\n<p>普段と違うような怪しいログインがあれば通知してくれるので、そういった意味でも導入しておくことをおすすめします。</p>\n<p>→ <a href=\"https://ja.wordpress.org/plugins/siteguard/\" rel=\"noopener nofollow\" target=\"_blank\">SiteGuard WP Pluginはこちら</a></p>\n<h2><span id=\"i-8\">おわり</span></h2><div class=\"matome\"><div class=\"matome-img\"><img src=\"https://haniwaman.com/wp-content/themes/hpcode/img/haniwa.png\" alt=\"\"></div><div class=\"matome-twitter\"><a href=\"https://twitter.com/haniwa008?ref_src=twsrc%5Etfw\" class=\"twitter-follow-button\" data-show-screen-name=\"false\" data-size=\"large\" data-lang=\"ja\" data-show-count=\"true\">Follow @haniwa008</a><script async src=\"https://platform.twitter.com/widgets.js\" charset=\"utf-8\"></script></div></div><!-- /matome -->\n<p>WordPressでできるセキュリティ対策まとめました。特に最新のバージョンにしておくことが一番のセキュリティ対策だと、WordPressコミュニティの方々はいつも言ってます。</p>\n<p>難しすぎる対策項目はないかと思います。導入できそうなところから、順番に入れてみてください！</p>\n","date":"June 22, 2019","categories":[{"name":"WordPress","slug":"wordpress"}],"tags":null,"author":{"name":"はにわまん","slug":"haniwaman"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"id":"ee431252-2937-54ac-b160-32e98cfd5bb7"}}}