{"componentChunkName":"component---src-templates-post-js","path":"/simple-ga-ranking/","result":{"data":{"wordpressPost":{"id":"d01f6d2d-3d39-5b20-aa19-96eba2aa81d9","title":"軽量で正確！「Simple GA Ranking」でAnalyticsから人気ランキングをブログに設置しよう","slug":"simple-ga-ranking","content":"<p>Google AnalyticsのデータとWordPressを連携して記事のランキングを作成するプラグイン「Simple GA Ranking」の紹介です。</p>\n<p>Analyticsのデータなので、データの信憑性も高く、軽量でサイトが重くならないメリットがあります。デメリットとしては設定が面倒くさい！</p>\n<p>「Simple GA Ranking」を使えるようになるまでと、<strong class=\"marker\">個人的につまづいたポイント</strong>などを紹介していきます。</p>\n<div class=\"chat\"><figure class=\"chat-img\"><img src=\"https://haniwaman.com/wp-content/themes/hpcode/img/haniwa.png\" alt=\"\"><figcaption>はにわまん</figcaption></figure><div class=\"chat-content\">Google Analyticsからの方が軽くて確実です！</div></div>\n<div id=\"toc_container\" class=\"no_bullets\"><p class=\"toc_title\">目次</p><ul class=\"toc_list\"><li><a href=\"#Simple_GA_Ranking\"><span class=\"toc_number toc_depth_1\">1</span> 「Simple GA Ranking」のインストール</a></li><li><a href=\"#Analytics_APIWordPress\"><span class=\"toc_number toc_depth_1\">2</span> Analytics APIとWordPressを繋げる</a><ul><li><a href=\"#Google_APIs\"><span class=\"toc_number toc_depth_2\">2.1</span> １、Google APIsにプロジェクトの登録</a></li><li><a href=\"#Analytics_API\"><span class=\"toc_number toc_depth_2\">2.2</span> ２、Analytics APIを有効化</a></li><li><a href=\"#_ID\"><span class=\"toc_number toc_depth_2\">2.3</span> ３、「クライアント ID」と「クライアント シークレット」を取得</a></li><li><a href=\"#WordPressID\"><span class=\"toc_number toc_depth_2\">2.4</span> ４、WordPressに「クライアントID」と「シークレットキー」を登録</a></li><li><a href=\"#i\"><span class=\"toc_number toc_depth_2\">2.5</span> ５、サイトの設定</a></li></ul></li><li><a href=\"#3\"><span class=\"toc_number toc_depth_1\">3</span> 表示させる3パターン</a><ul><li><a href=\"#i-2\"><span class=\"toc_number toc_depth_2\">3.1</span> ウィジェット</a></li><li><a href=\"#i-3\"><span class=\"toc_number toc_depth_2\">3.2</span> ショートコード</a></li><li><a href=\"#i-4\"><span class=\"toc_number toc_depth_2\">3.3</span> テンプレートに関数</a></li></ul></li><li><a href=\"#i-5\"><span class=\"toc_number toc_depth_1\">4</span> デフォルトの表示設定</a><ul><li><a href=\"#Debug_Mode\"><span class=\"toc_number toc_depth_2\">4.1</span> 「Debug Mode」って何？</a></li></ul></li><li><a href=\"#8230\"><span class=\"toc_number toc_depth_1\">5</span> 「中身が表示されない&#8230;」場合のチェックポイント</a><ul><li><a href=\"#ID\"><span class=\"toc_number toc_depth_2\">5.1</span> クライアントIDを作り直す</a></li><li><a href=\"#i-6\"><span class=\"toc_number toc_depth_2\">5.2</span> メールアドレス変更</a></li><li><a href=\"#SiteGuard_WP_Plugin\"><span class=\"toc_number toc_depth_2\">5.3</span> 「SiteGuard WP Plugin」無効化</a></li><li><a href=\"#AnalyticsURL\"><span class=\"toc_number toc_depth_2\">5.4</span> AnalyticsのURLの末尾のスラッシュ削除</a></li><li><a href=\"#i-7\"><span class=\"toc_number toc_depth_2\">5.5</span> 更新！更新！更新！</a></li></ul></li><li><a href=\"#i-8\"><span class=\"toc_number toc_depth_1\">6</span> おわり</a></li></ul></div>\n<h2><span id=\"Simple_GA_Ranking\">「Simple GA Ranking」のインストール</span></h2>\n<p>プラグイン → 新規追加 → キーワード「Simple GA Ranking」 → 今すぐインストール<br />\n<img src=\"https://haniwaman.com/wp-content/uploads/2018/09/simple-ga-ranking-700x226.png\" alt=\"\" class=\"alignnone size-medium wp-image-8422\" srcset=\"https://haniwaman.com/wp-content/uploads/2018/09/simple-ga-ranking-700x226.png 700w, https://haniwaman.com/wp-content/uploads/2018/09/simple-ga-ranking-768x248.png 768w, https://haniwaman.com/wp-content/uploads/2018/09/simple-ga-ranking-1200x388.png 1200w, https://haniwaman.com/wp-content/uploads/2018/09/simple-ga-ranking.png 1955w\" sizes=\"(max-width: 700px) 100vw, 700px\" /></p>\n<p>有効化してください。<br />\n<img src=\"https://haniwaman.com/wp-content/uploads/2018/09/simple-ga-ranking2-700x274.png\" alt=\"\" class=\"alignnone size-medium wp-image-8423\" width=\"520\" srcset=\"https://haniwaman.com/wp-content/uploads/2018/09/simple-ga-ranking2-700x274.png 700w, https://haniwaman.com/wp-content/uploads/2018/09/simple-ga-ranking2-768x300.png 768w, https://haniwaman.com/wp-content/uploads/2018/09/simple-ga-ranking2.png 982w\" sizes=\"(max-width: 700px) 100vw, 700px\" /></p>\n<h2><span id=\"Analytics_APIWordPress\">Analytics APIとWordPressを繋げる</span></h2>\n<p>「Simple GA Ranking」を有効化すると、上部に「Simple GA Ranking is available OAuth2 authorization. Please set on setting panel. ClientLogin is no longer available. Please see this link」というメッセージが表示されているはずです。</p>\n<p>「setting panel」のリンクをクリックしてください。<br />\n（※ 分からない方は、設定 → Analytics設定 を開いてください。）</p>\n<h3><span id=\"Google_APIs\">１、Google APIsにプロジェクトの登録</span></h3>\n<p>注意：<strong class=\"marker\">必ずAnalyticsと紐付いているGoogleアカウント（メールアドレス）でログインしておいてください！</strong></p>\n<p>Google Developerのページへアクセスします。<br />\n→ <a href=\"https://console.developers.google.com/project\" rel=\"noopener\" target=\"_blank\">https://console.developers.google.com/project</a></p>\n<p>「プロジェクトの作成」をクリック<br />\n<img src=\"https://haniwaman.com/wp-content/uploads/2018/09/simple-ga-ranking2-2-700x165.png\" alt=\"\" class=\"alignnone size-medium wp-image-8425\" width=\"520\" srcset=\"https://haniwaman.com/wp-content/uploads/2018/09/simple-ga-ranking2-2-700x165.png 700w, https://haniwaman.com/wp-content/uploads/2018/09/simple-ga-ranking2-2-768x181.png 768w, https://haniwaman.com/wp-content/uploads/2018/09/simple-ga-ranking2-2.png 797w\" sizes=\"(max-width: 700px) 100vw, 700px\" /></p>\n<p>任意の名前でプロジェクト名を入力して（デフォルトでもOK）、「作成」ボタンをクリック。<br />\n<img src=\"https://haniwaman.com/wp-content/uploads/2018/09/simple-ga-ranking2-3-700x374.png\" alt=\"\" class=\"alignnone size-medium wp-image-8426\" width=\"520\" srcset=\"https://haniwaman.com/wp-content/uploads/2018/09/simple-ga-ranking2-3-700x374.png 700w, https://haniwaman.com/wp-content/uploads/2018/09/simple-ga-ranking2-3-768x410.png 768w, https://haniwaman.com/wp-content/uploads/2018/09/simple-ga-ranking2-3.png 852w\" sizes=\"(max-width: 700px) 100vw, 700px\" /></p>\n<p>右上の通知から作成されたことが分かります。<br />\n<img src=\"https://haniwaman.com/wp-content/uploads/2018/09/simple-ga-ranking2-4.png\" alt=\"\" class=\"alignnone size-full wp-image-8428\" width=\"520\" /></p>\n<p>通知の作成したプロジェクトをクリックして、そのプロジェクトを操作できるようにしておいてください。Google APIsのロゴの横に作成したプロジェクト名が表示されていればOKです。<br />\n<img src=\"https://haniwaman.com/wp-content/uploads/2018/09/simple-ga-ranking2-5.png\" alt=\"\" class=\"alignnone size-full wp-image-8429\" width=\"520\" /></p>\n<h3><span id=\"Analytics_API\">２、Analytics APIを有効化</span></h3>\n<p>右上のメニューから「APIとサービス」→ ライブラリと移動します。<br />\n<img src=\"https://haniwaman.com/wp-content/uploads/2018/09/simple-ga-ranking3.png\" alt=\"\" class=\"alignnone size-full wp-image-8431\" width=\"520\" /></p>\n<p>「analytics」と検索して、「Analytics API」を開き「有効にする」ボタンをクリックして有効化してください。<br />\n※ <strong class=\"marker\">隣の「Google Analytics Reporting API」は関係ない</strong>のでご注意を！<br />\n<img src=\"https://haniwaman.com/wp-content/uploads/2018/09/simple-ga-ranking4-700x476.png\" alt=\"\" class=\"alignnone size-medium wp-image-8432\" srcset=\"https://haniwaman.com/wp-content/uploads/2018/09/simple-ga-ranking4-700x476.png 700w, https://haniwaman.com/wp-content/uploads/2018/09/simple-ga-ranking4-768x522.png 768w, https://haniwaman.com/wp-content/uploads/2018/09/simple-ga-ranking4-1200x816.png 1200w, https://haniwaman.com/wp-content/uploads/2018/09/simple-ga-ranking4.png 1244w\" sizes=\"(max-width: 700px) 100vw, 700px\" /></p>\n<p>有効化しておきます。<br />\n<img src=\"https://haniwaman.com/wp-content/uploads/2018/09/simple-ga-ranking5-700x258.png\" alt=\"\" class=\"alignnone size-medium wp-image-8434\" width=\"520\" srcset=\"https://haniwaman.com/wp-content/uploads/2018/09/simple-ga-ranking5-700x258.png 700w, https://haniwaman.com/wp-content/uploads/2018/09/simple-ga-ranking5-768x283.png 768w, https://haniwaman.com/wp-content/uploads/2018/09/simple-ga-ranking5.png 981w\" sizes=\"(max-width: 700px) 100vw, 700px\" /></p>\n<h3><span id=\"_ID\">３、「クライアント ID」と「クライアント シークレット」を取得</span></h3>\n<p>右上のメニューから「APIとサービス」→ 認証情報と移動します。<br />\n<img src=\"https://haniwaman.com/wp-content/uploads/2018/09/simple-ga-ranking5-2.png\" alt=\"\" class=\"alignnone size-full wp-image-8436\" width=\"520\" /></p>\n<p>真ん中のタブ「OAuth 同意画面」を開いてください。<br />\n「ユーザーに表示するサービス名」に任意の名前を入力して「保存」します。<br />\n<img src=\"https://haniwaman.com/wp-content/uploads/2018/09/simple-ga-ranking5-3-700x721.png\" alt=\"\" class=\"alignnone size-medium wp-image-8437\" srcset=\"https://haniwaman.com/wp-content/uploads/2018/09/simple-ga-ranking5-3-700x721.png 700w, https://haniwaman.com/wp-content/uploads/2018/09/simple-ga-ranking5-3-768x791.png 768w, https://haniwaman.com/wp-content/uploads/2018/09/simple-ga-ranking5-3.png 916w\" sizes=\"(max-width: 700px) 100vw, 700px\" /></p>\n<p>ちなみに、「ユーザーに表示するサービス名」は、<strong>Googleアカウントの「アカウントにアクセスできるアプリ」にて表示されるもの</strong>になります。<br />\n<img src=\"https://haniwaman.com/wp-content/uploads/2018/09/simple-ga-ranking5-4-700x440.png\" alt=\"\" class=\"alignnone size-medium wp-image-8438\" width=\"520\" srcset=\"https://haniwaman.com/wp-content/uploads/2018/09/simple-ga-ranking5-4-700x440.png 700w, https://haniwaman.com/wp-content/uploads/2018/09/simple-ga-ranking5-4-768x483.png 768w, https://haniwaman.com/wp-content/uploads/2018/09/simple-ga-ranking5-4.png 1130w\" sizes=\"(max-width: 700px) 100vw, 700px\" /></p>\n<p>保存すると「OAuth クライアント ID の作成」のページに遷移しているかと思います。</p>\n<ul>\n<li>名前 → 任意の名前</li>\n<li>アプリケーションの種類 → アプリケーションの種類</li>\n<li>アプリケーションの種類 → ドメイン</li>\n<li>承認済みのリダイレクト URI → 「WordPress管理画面の 設定 → Analytics設定」に記載されている「コールバックURL」の値</li>\n</ul>\n<p>https://haniwaman.com だとこんな感じになります。<br />\n<img src=\"https://haniwaman.com/wp-content/uploads/2018/09/simple-ga-ranking5-5-700x670.png\" alt=\"\" class=\"alignnone size-medium wp-image-8441\" srcset=\"https://haniwaman.com/wp-content/uploads/2018/09/simple-ga-ranking5-5-700x670.png 700w, https://haniwaman.com/wp-content/uploads/2018/09/simple-ga-ranking5-5-768x735.png 768w, https://haniwaman.com/wp-content/uploads/2018/09/simple-ga-ranking5-5.png 991w\" sizes=\"(max-width: 700px) 100vw, 700px\" /></p>\n<p>設定 → Analytics設定 の「コールバックURL」はこれです。これが上記の「承認済みのリダイレクト URI」に対応します。<br />\n<img src=\"https://haniwaman.com/wp-content/uploads/2018/09/simple-ga-ranking5-6-700x305.png\" alt=\"\" class=\"alignnone size-medium wp-image-8442\" width=\"520\" srcset=\"https://haniwaman.com/wp-content/uploads/2018/09/simple-ga-ranking5-6-700x305.png 700w, https://haniwaman.com/wp-content/uploads/2018/09/simple-ga-ranking5-6-768x334.png 768w, https://haniwaman.com/wp-content/uploads/2018/09/simple-ga-ranking5-6.png 901w\" sizes=\"(max-width: 700px) 100vw, 700px\" /></p>\n<p>「作成」ボタンを押して、問題がなければ「クライアント ID」と「クライアント シークレット」を取得できます！<br />\n<img src=\"https://haniwaman.com/wp-content/uploads/2018/09/simple-ga-ranking11-700x317.png\" alt=\"\" class=\"alignnone size-medium wp-image-8443\" width=\"520\" srcset=\"https://haniwaman.com/wp-content/uploads/2018/09/simple-ga-ranking11-700x317.png 700w, https://haniwaman.com/wp-content/uploads/2018/09/simple-ga-ranking11-768x347.png 768w, https://haniwaman.com/wp-content/uploads/2018/09/simple-ga-ranking11.png 807w\" sizes=\"(max-width: 700px) 100vw, 700px\" /></p>\n<h3><span id=\"WordPressID\">４、WordPressに「クライアントID」と「シークレットキー」を登録</span></h3>\n<p>取得できた「クライアント ID」と「クライアント シークレット」を、WordPressに登録していきます。</p>\n<p>設定 → Analytics設定 から</p>\n<ul>\n<li>クライアントID → クライアント ID</li>\n<li>コンシューマーシークレット → クライアント シークレット</li>\n</ul>\n<p>をそれぞれ入力して、「トークンを取得」ボタンをクリックします。<br />\n<img src=\"https://haniwaman.com/wp-content/uploads/2018/09/simple-ga-ranking12-700x520.png\" alt=\"\" class=\"alignnone size-medium wp-image-8444\" srcset=\"https://haniwaman.com/wp-content/uploads/2018/09/simple-ga-ranking12-700x520.png 700w, https://haniwaman.com/wp-content/uploads/2018/09/simple-ga-ranking12-768x571.png 768w, https://haniwaman.com/wp-content/uploads/2018/09/simple-ga-ranking12.png 899w\" sizes=\"(max-width: 700px) 100vw, 700px\" /></p>\n<p>Googleアカウントに承認が求められるので、手順に進んで「許可」してください。<br />\n<img src=\"https://haniwaman.com/wp-content/uploads/2018/09/simple-ga-ranking14-700x966.png\" alt=\"\" class=\"alignnone size-medium wp-image-8446\" width=\"520\" /></p>\n<p>連携が完了すればトークンが取得され、紐付いているGoogle Analyticsのプロパティとビューが表示されます。<br />\n<img src=\"https://haniwaman.com/wp-content/uploads/2018/09/simple-ga-ranking16-2-700x723.png\" alt=\"\" class=\"alignnone size-medium wp-image-8447\" srcset=\"https://haniwaman.com/wp-content/uploads/2018/09/simple-ga-ranking16-2-700x723.png 700w, https://haniwaman.com/wp-content/uploads/2018/09/simple-ga-ranking16-2-768x793.png 768w, https://haniwaman.com/wp-content/uploads/2018/09/simple-ga-ranking16-2.png 1179w\" sizes=\"(max-width: 700px) 100vw, 700px\" /></p>\n<h3><span id=\"i\">５、サイトの設定</span></h3>\n<p>最後に、Google Analyticsと紐付いているビューの中から、<strong class=\"marker\"><span class=\"font-ll\">プラグインを導入したサイトと同じビューを選択</span></strong>して「保存」しておいてください。</p>\n<p>複数のサイトを運営している方は要注意ですが、必ず同じサイトと同じビューじゃないとダメです。異なるビューを選んだり、選択しなかったりするとうまく動きません。<br />\n（わたしはこれで半日くらい途方にくれました&#8230;）<br />\n<img src=\"https://haniwaman.com/wp-content/uploads/2018/09/simple-ga-ranking16-3.png\" alt=\"\" class=\"alignnone size-full wp-image-8448\" width=\"520\" /></p>\n<p><span class=\"font-ll\">設定は以上です！</span></p>\n<h2><span id=\"3\">表示させる3パターン</span></h2>\n<p>それでは、Analyticsのデータを元に表示させてみましょう。表示方法は3パターンあります。こちらは、公式サイトのマニュアル見た方が早いです。日本語もあるので、使い方はこちらから参考にしてください。<br />\n→ <a href=\"http://simple-ga-ranking.org/ja/\" rel=\"noopener\" target=\"_blank\">Simple GA Rankingの公式ページ</a></p>\n<h3><span id=\"i-2\">ウィジェット</span></h3>\n<p>外観 → ウィジェット<br />\n利用できるウィジェットに「Simple GA Ranking」が追加されています。<br />\n<img src=\"https://haniwaman.com/wp-content/uploads/2018/09/simple-ga-ranking17-700x420.png\" alt=\"\" class=\"alignnone size-medium wp-image-8495\" width=\"520\" srcset=\"https://haniwaman.com/wp-content/uploads/2018/09/simple-ga-ranking17-700x420.png 700w, https://haniwaman.com/wp-content/uploads/2018/09/simple-ga-ranking17-768x461.png 768w, https://haniwaman.com/wp-content/uploads/2018/09/simple-ga-ranking17.png 771w\" sizes=\"(max-width: 700px) 100vw, 700px\" /></p>\n<p>こちらを導入することで簡単に表示されるようになります。<br />\n<img src=\"https://haniwaman.com/wp-content/uploads/2018/09/simple-ga-ranking18-700x309.png\" alt=\"\" class=\"alignnone size-medium wp-image-8451\" srcset=\"https://haniwaman.com/wp-content/uploads/2018/09/simple-ga-ranking18-700x309.png 700w, https://haniwaman.com/wp-content/uploads/2018/09/simple-ga-ranking18-768x339.png 768w, https://haniwaman.com/wp-content/uploads/2018/09/simple-ga-ranking18.png 1182w\" sizes=\"(max-width: 700px) 100vw, 700px\" /></p>\n<h3><span id=\"i-3\">ショートコード</span></h3>\n<p><code>[[sga_ranking]]</code>のショートコードにて表示させることも可能です。</p>\n<p>また、引数を指定することで、表示内容を細かくカスタマイズすることができます。</p>\n<p><code>[[sga_ranking post_type=\"post\" period=\"7\" display_count=\"5\"]]</code><br />\n上記は、投稿タイプを「post」、今から7日前までのデータを集計して、表示件数は5件、という意味になります。</p>\n<h3><span id=\"i-4\">テンプレートに関数</span></h3>\n<p>テンプレートに記載するための関数も用意されています。<br />\n<code>sga_ranking_get_date()</code></p>\n<p>以下は、公式ページに掲載されている使用例です。</p>\n<blockquote>\n<pre><span class=\"code-copy\" data-clipboard-target=\"#code-0\">コピー</span><code id=\"code-0\" class=\"php\">if (function_exists('sga_ranking_get_date')) {\r\n    $ranking_data = sga_ranking_get_date();\r\n    if ( !empty( $ranking_data ) ) {\r\n        echo '&lt;ol&gt;';\r\n        foreach ( $ranking_data as $post_id ) {\r\n            echo '&lt;li&gt;&lt;a href=\"' . esc_attr(get_permalink($post_id)) . '\"&gt;' . esc_html(get_the_title($post_id)) . '&lt;/a&gt;&lt;/li&gt;';\r\n        }\r\n        echo '&lt;/ol&gt;';\r\n    }\r\n}</code></pre>\n</blockquote>\n<p>公式ページでは、絞り込みの方法など掲載されているので、詳しい使い方はこちらを参考にカスタマイズしてください。<br />\n→ <a href=\"http://simple-ga-ranking.org/ja/\" rel=\"noopener\" target=\"_blank\">Simple GA Rankingの公式ページ</a></p>\n<h2><span id=\"i-5\">デフォルトの表示設定</span></h2>\n<p><img src=\"https://haniwaman.com/wp-content/uploads/2018/09/simple-ga-ranking19.png\" alt=\"\" class=\"alignnone size-full wp-image-8464\" width=\"400\" /></p>\n<p>「Simple GA Ranking」で、<strong class=\"marker\">何日分のデータを何件表示するか</strong>は、<br />\n設定 → Simple GA Ranking にて設定しておくことができます。</p>\n<p>ショートコードを利用するにしてもテンプレートから関数で使用するにしても基本的にはカスタマイズして使うと思うので、あまり使われることがないかもしれませんが、頭の片隅にでも&#8230;。</p>\n<h3><span id=\"Debug_Mode\">「Debug Mode」って何？</span></h3>\n<p>Debug Modeというチェックボックスがあります。何のために使うのかあまり分かりませんでしたが、、とりあえずで表示を確認したいときなどに使う感じでしょうか。</p>\n<p>Analyticsのデータから、<strong class=\"marker\">アクセス順ではなくランダム</strong>で取得されているような動きをします。<br />\n（Analyticsから取得しているかも微妙ですが&#8230;）</p>\n<h2><span id=\"8230\">「中身が表示されない&#8230;」場合のチェックポイント</span></h2>\n<p>個人的な本題はここです。<strong class=\"marker\">連携したにも関わらず表示されなかった</strong>時にわたしが試したことを共有します。半日くらい費やした気がします&#8230;。</p>\n<h3><span id=\"ID\">クライアントIDを作り直す</span></h3>\n<p><span class=\"font-l\">意味なし。</span></p>\n<p>WordPressの「Google Analytics設定」画面からトークンが取得できていて、「サイトの設定」から自身のサイトがちゃんと表示されているのなら、問題ないかと思われます。</p>\n<h3><span id=\"i-6\">メールアドレス変更</span></h3>\n<p><span class=\"font-l\">意味なし。</span></p>\n<p>Google Analyticsで登録しているメールアドレスと、WordPressの管理画面で登録しているメールアドレスが異なっていることに気づきました。もしかしたら、ここの情報も使っているではないかと思い変更して試しましたが、関係ありませんでした。</p>\n<h3><span id=\"SiteGuard_WP_Plugin\">「SiteGuard WP Plugin」無効化</span></h3>\n<p><span class=\"font-l\">意味なし。</span></p>\n<p>Google APIsに登録した「承認済みのリダイレクト URI」はWordPressの管理画面を指し示すURLです。</p>\n<p>ここへのアクセスに関して何かしらの攻防が起こっているのではないかと思い、一番関連ありそうな「SiteGuard WP Plugin」を無効化してみましたが、関係ありませんでした。<br />\n(そもそも、「Simple GA Ranking」が正常に動いている他サイトには、「SiteGuard WP Plugin」入っていたので全く関係ないですね&#8230;)</p>\n<p>その他、プラグインも色々無効化してみましたが、変わりませんでした。</p>\n<h3><span id=\"AnalyticsURL\">AnalyticsのURLの末尾のスラッシュ削除</span></h3>\n<p>Analyticsのプロパティとビューに指定してあるURLの末尾のスラッシュを削除しました。というのは、Google APIsでクライアントIDを登録するときに指定する「承認済みの JavaScript 生成元」が末尾のスラッシュ禁止にされていからですね。</p>\n<p>一応真似してみようと&#8230;</p>\n<p><img src=\"https://haniwaman.com/wp-content/uploads/2018/09/simple-ga-ranking21.png\" alt=\"\" class=\"alignnone size-full wp-image-8468\" width=\"520\" /><br />\n<img src=\"https://haniwaman.com/wp-content/uploads/2018/09/simple-ga-ranking22.png\" alt=\"\" class=\"alignnone size-full wp-image-8469\" width=\"520\" /></p>\n<p>変更したことによって、表示されるようにはなりませんでしたが、間接的には効いている可能性はあるかもしれなせん&#8230;</p>\n<h3><span id=\"i-7\">更新！更新！更新！</span></h3>\n<p><span class=\"font-l\">お待たせしました。解決方法です。</span>果たしてこれが正解かは分かりませんが、、、</p>\n<p>設定 → Analytics設定 → サイト設定 から、<br />\nプラグインを導入したサイトのビューを指定 → 保存</p>\n<p>設定 → Simple GA Ranking<br />\nの「本日から何日前までのランキングを表示させるか」「表示数」の値を空にして更新。更新後は「0」という数字が残ります。<br />\n<img src=\"https://haniwaman.com/wp-content/uploads/2018/09/simple-ga-ranking20.png\" alt=\"\" class=\"alignnone size-full wp-image-8466\" width=\"520\" /></p>\n<p>「ウィジェットを付けたり外したりしたらできた」みたいな人もいましたね。<br />\n→ <a href=\"https://textfield.net/blog/simple-ga-ranking-error#toc_id_2\" rel=\"noopener\" target=\"_blank\">Simple GA Rankingの中身が表示されない！</a></p>\n<ol>\n<li><span class=\"font-l\">サイト設定でサイトと同じビューが指定されているか確認</span>して</li>\n<li><span class=\"font-l\">Simple GA Rankingの値を変えたりしながら更新しまくる</span></li>\n</ol>\n<p>という、合っているのかどうが微妙な解決方法でした～・・・。<br />\n（結局は時間が解決？）</p>\n<h2><span id=\"i-8\">おわり</span></h2><div class=\"matome\"><div class=\"matome-img\"><img src=\"https://haniwaman.com/wp-content/themes/hpcode/img/haniwa.png\" alt=\"\"></div><div class=\"matome-twitter\"><a href=\"https://twitter.com/haniwa008?ref_src=twsrc%5Etfw\" class=\"twitter-follow-button\" data-show-screen-name=\"false\" data-size=\"large\" data-lang=\"ja\" data-show-count=\"true\">Follow @haniwa008</a><script async src=\"https://platform.twitter.com/widgets.js\" charset=\"utf-8\"></script></div></div><!-- /matome -->\n<p>Analyticsからデータを取得して人気記事ランキングを設置できる「Simple GA Ranking」の紹介でした！わたしは表示されない現象でめっちゃ苦労しましたが、表示までできていればカスタマイズ性も高いし軽いので快適にブログ運営ができるようになります。</p>\n<p>人気記事系のプラグインでは断トツでおすすめです。Google Analyticsを利用している方はぜひお試しを！<br />\n→ <a href=\"https://wordpress.org/plugins/simple-ga-ranking/\" rel=\"noopener\" target=\"_blank\">「Simple GA Ranking」の公式ページ</a></p>\n","date":"September 06, 2018","categories":[{"name":"WordPress","slug":"wordpress"}],"tags":[{"name":"WordPressプラグイン","slug":"plugin"}],"author":{"name":"はにわまん","slug":"haniwaman"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"id":"d01f6d2d-3d39-5b20-aa19-96eba2aa81d9"}}}