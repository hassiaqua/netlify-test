{"componentChunkName":"component---src-templates-post-js","path":"/table/","result":{"data":{"wordpressPost":{"id":"db2e2a0c-1148-5fde-ad87-6373e46fda7e","title":"CSSでテーブルを作る上で実践的に覚えておきたいこと","slug":"table","content":"<p>CSSのテーブルは癖が強いというか、どういう風な仕組みで動いているか分かりにくいCSSにプロパティだと思います。</p>\n<p>よくあるのは、レスポンシブ時にはみ出る、、、というやつですね。もともとテーブルとスマホは相性が悪いですが、PCのテーブルをスマホ化する時の方法なども紹介していこうと思います。</p>\n<p>CSSのテーブルを使う時に少し思い出してもらえたら嬉しく思います。</p>\n<div id=\"toc_container\" class=\"no_bullets\"><p class=\"toc_title\">目次</p><ul class=\"toc_list\"><li><a href=\"#i\"><span class=\"toc_number toc_depth_1\">1</span> 基本は勝手に幅を決める</a><ul><li><a href=\"#i-2\"><span class=\"toc_number toc_depth_2\">1.1</span> テーブルの列を全て均等にする</a></li><li><a href=\"#i-3\"><span class=\"toc_number toc_depth_2\">1.2</span> ボーダーを統一する</a></li><li><a href=\"#i-4\"><span class=\"toc_number toc_depth_2\">1.3</span> テーブル内の高さの関係</a></li></ul></li><li><a href=\"#i-5\"><span class=\"toc_number toc_depth_1\">2</span> テーブルがはみ出る時の条件と解決策</a><ul><li><a href=\"#i-6\"><span class=\"toc_number toc_depth_2\">2.1</span> テーブルに幅が指定されている場合</a></li><li><a href=\"#i-7\"><span class=\"toc_number toc_depth_2\">2.2</span> セルに改行禁止処理が入っている場合</a></li><li><a href=\"#i-8\"><span class=\"toc_number toc_depth_2\">2.3</span> テーブルがはみ出る場合の解決策</a></li></ul></li><li><a href=\"#i-9\"><span class=\"toc_number toc_depth_1\">3</span> 列が多いテーブルはスマホでどう表現するか？</a><ul><li><a href=\"#i-10\"><span class=\"toc_number toc_depth_2\">3.1</span> 水平スクロール</a></li><li><a href=\"#i-11\"><span class=\"toc_number toc_depth_2\">3.2</span> 列を削る</a></li><li><a href=\"#i-12\"><span class=\"toc_number toc_depth_2\">3.3</span> 組み直す</a></li></ul></li><li><a href=\"#i-13\"><span class=\"toc_number toc_depth_1\">4</span> おわり</a></li></ul></div>\n<h2><span id=\"i\">基本は勝手に幅を決める</span></h2>\n<p>テーブルに複数の列がある場合は、勝手に幅が調整されるというのがデフォルトの仕組みです。中の文字の量によって、勝手に列の幅が決まっているのが分かるかと思います。※ 分かりやすくするためにボーダーと見出しの色だけ入れました。<br />\n<img src=\"https://haniwaman.com/wp-content/uploads/2019/01/table-700x224.png\" alt=\"\" class=\"alignnone size-medium wp-image-12733\" srcset=\"https://haniwaman.com/wp-content/uploads/2019/01/table-700x224.png 700w, https://haniwaman.com/wp-content/uploads/2019/01/table-768x246.png 768w, https://haniwaman.com/wp-content/uploads/2019/01/table.png 1174w\" sizes=\"(max-width: 700px) 100vw, 700px\" /></p>\n<pre><span class=\"code-copy\" data-clipboard-target=\"#code-0\">コピー</span><code id=\"code-0\" class=\"html\">&lt;table class=\"tabletest\"&gt;\r\n  &lt;tr&gt;&lt;th&gt;見出し&lt;/th&gt;&lt;th&gt;見出し&lt;/th&gt;&lt;th&gt;見出し&lt;/th&gt;&lt;/tr&gt;\r\n  &lt;tr&gt;&lt;td&gt;データ1&lt;/td&gt;&lt;td&gt;データ2&lt;/td&gt;&lt;td&gt;データ3&lt;/td&gt;&lt;/tr&gt;\r\n  &lt;tr&gt;&lt;td&gt;データ1&lt;/td&gt;&lt;td&gt;長い文字長い文字長い文字長い文字長い文字長い文字長い文字長い文字&lt;/td&gt;&lt;td&gt;データ3&lt;/td&gt;&lt;/tr&gt;\r\n  &lt;tr&gt;&lt;td&gt;データ1&lt;/td&gt;&lt;td&gt;データ2&lt;/td&gt;&lt;td&gt;データ3&lt;/td&gt;&lt;/tr&gt;\r\n  &lt;tr&gt;&lt;td&gt;データ1&lt;/td&gt;&lt;td&gt;データ2&lt;/td&gt;&lt;td&gt;短い文字短い文字短い文字&lt;/td&gt;&lt;/tr&gt;\r\n&lt;/table&gt;</code></pre>\n<h3><span id=\"i-2\">テーブルの列を全て均等にする</span></h3>\n<p>テーブルの列を均等にするのは実はとても簡単です。すべての列に<code>width</code>を指定することなく、一発で揃う方法をテーブルは提供してくれています。それが、<code>table-layout: fixed;</code>になります。</p>\n<p>以下のように、<code>table</code>に指定してあげることで、自動的に均等の列に調整してくれる優れものです。幅（<code>width</code>）を指定しないと機能しませんので、そこだけ注意してください！</p>\n<pre><span class=\"code-copy\" data-clipboard-target=\"#code-1\">コピー</span><code id=\"code-1\" class=\"css\">table.tabletest {\r\n\tborder: 1px solid #333;\r\n\tborder-collapse: collapse;\r\n\ttable-layout: fixed;\r\n\twidth: 100%;\r\n}\r\n\r\ntable.tabletest th,\r\ntable.tabletest td {\r\n\tborder: 1px solid #333;\r\n}</code></pre>\n<p>テーブルの中のコンテンツに関わらず、すべての列が均等になったことが分かります。<br />\n<img src=\"https://haniwaman.com/wp-content/uploads/2019/01/table2-700x187.png\" alt=\"\" class=\"alignnone size-medium wp-image-12734\" srcset=\"https://haniwaman.com/wp-content/uploads/2019/01/table2-700x187.png 700w, https://haniwaman.com/wp-content/uploads/2019/01/table2-768x205.png 768w, https://haniwaman.com/wp-content/uploads/2019/01/table2.png 1185w\" sizes=\"(max-width: 700px) 100vw, 700px\" /></p>\n<h4>一部は固定で後は均等</h4>\n<p>さらに、<code>table-layout: fixed;</code>の素晴らしいところは、幅を指定した列だけに<code>width</code>が反映されるけど、他は均等を保つという性質です。</p>\n<p>例えば、以下のように指定することで、最初の列だけ<code>80px</code>になって、残りの幅（100% &#8211; 80px）は他の２つの列で均等に分けられるようになります。</p>\n<pre><span class=\"code-copy\" data-clipboard-target=\"#code-2\">コピー</span><code id=\"code-2\" class=\"css\">th:first-child {\r\n\twidth: 80px;\r\n}</code></pre>\n<p><img src=\"https://haniwaman.com/wp-content/uploads/2019/01/table4-700x156.png\" alt=\"\" class=\"alignnone size-medium wp-image-12736\" srcset=\"https://haniwaman.com/wp-content/uploads/2019/01/table4-700x156.png 700w, https://haniwaman.com/wp-content/uploads/2019/01/table4-768x172.png 768w, https://haniwaman.com/wp-content/uploads/2019/01/table4.png 1186w\" sizes=\"(max-width: 700px) 100vw, 700px\" /></p>\n<p>注意しないといけないのは、<strong class=\"marker\">幅を指定するのは最初の行</strong>だという点です。先ほどのように、CSSで指定してもいいですし、HTMLで直接<code>&lt;th width=\"80\"&gt;</code>書いても機能します。</p>\n<p>テーブルの図でいうと、以下の行のどこかに幅を指定する感じになります。<br />\n<img src=\"https://haniwaman.com/wp-content/uploads/2019/01/table5-700x189.png\" alt=\"\" class=\"alignnone size-medium wp-image-12737\" srcset=\"https://haniwaman.com/wp-content/uploads/2019/01/table5-700x189.png 700w, https://haniwaman.com/wp-content/uploads/2019/01/table5-768x208.png 768w, https://haniwaman.com/wp-content/uploads/2019/01/table5-1200x325.png 1200w, https://haniwaman.com/wp-content/uploads/2019/01/table5.png 1219w\" sizes=\"(max-width: 700px) 100vw, 700px\" /></p>\n<h3><span id=\"i-3\">ボーダーを統一する</span></h3>\n<p>さっきから、当たり前のように線を１本で出していますが、実はここもデフォルトでは思ったとおりの動作をしてくれない部分になります。何も処理を加えないままにボーダーを入れると以下のようになります。<br />\n<img src=\"https://haniwaman.com/wp-content/uploads/2019/01/table3-700x210.png\" alt=\"\" class=\"alignnone size-medium wp-image-12735\" srcset=\"https://haniwaman.com/wp-content/uploads/2019/01/table3-700x210.png 700w, https://haniwaman.com/wp-content/uploads/2019/01/table3-768x230.png 768w, https://haniwaman.com/wp-content/uploads/2019/01/table3.png 1176w\" sizes=\"(max-width: 700px) 100vw, 700px\" /></p>\n<p>今の時代にこのタイプのテーブルが使われることはほぼないかと思います。<code>border-collapse: collapse;</code>という指定をすることで、<code>table</code>と<code>th</code>、<code>td</code>の重なったボーダーを１本としてみなしてるようになるので確実に指定しておきましょう。<br />\n<img src=\"https://haniwaman.com/wp-content/uploads/2019/01/table2-700x187.png\" alt=\"\" class=\"alignnone size-medium wp-image-12734\" srcset=\"https://haniwaman.com/wp-content/uploads/2019/01/table2-700x187.png 700w, https://haniwaman.com/wp-content/uploads/2019/01/table2-768x205.png 768w, https://haniwaman.com/wp-content/uploads/2019/01/table2.png 1185w\" sizes=\"(max-width: 700px) 100vw, 700px\" /></p>\n<h4>ボーダーは3つの要素に付ける</h4>\n<p>罫線のようにテーブルの全てにボーダーを引きたい場合は、<code>table</code>と<code>th</code>、<code>td</code>に<code>border</code>のプロパティを指定してあげます。</p>\n<pre><span class=\"code-copy\" data-clipboard-target=\"#code-3\">コピー</span><code id=\"code-3\" class=\"css\">table.tabletest {\r\n\tborder: 1px solid #333;\r\n}\r\n\r\ntable.tabletest th,\r\ntable.tabletest td {\r\n\tborder: 1px solid #333;\r\n}</code></pre>\n<h3><span id=\"i-4\">テーブル内の高さの関係</span></h3>\n<p>テーブルのセルの中に配置された要素や文字は、<code>vertical-align</code>の指定に従って配置されます。よく使うのは<code>middle</code>の中央寄せ、<code>top</code>の上寄せですね。</p>\n<p>あまりないと思いますが、全体的に「下寄せ」にしたい場合は、以下のように指定することで対応できます。</p>\n<pre><span class=\"code-copy\" data-clipboard-target=\"#code-4\">コピー</span><code id=\"code-4\" class=\"css\">table.tabletest th,\r\ntable.tabletest td {\r\n\tvertical-align: bottom;\r\n}</code></pre>\n<p>テーブル内の上限の関係を指定できる<code>vertical-align</code>も覚えておきましょう！<br />\n<img src=\"https://haniwaman.com/wp-content/uploads/2019/01/table6-700x191.png\" alt=\"\" class=\"alignnone size-medium wp-image-12741\" srcset=\"https://haniwaman.com/wp-content/uploads/2019/01/table6-700x191.png 700w, https://haniwaman.com/wp-content/uploads/2019/01/table6-768x209.png 768w, https://haniwaman.com/wp-content/uploads/2019/01/table6.png 1186w\" sizes=\"(max-width: 700px) 100vw, 700px\" /></p>\n<h2><span id=\"i-5\">テーブルがはみ出る時の条件と解決策</span></h2>\n<p>テーブルを使うと悩まされがちな、ウインドウ幅が小さくなるとはみ出るという問題についてです。まずはどういった時にはみ出るかをおさらいしておきましょう。</p>\n<p>おそらく以下のどちらかが原因になっているかと思われます。</p>\n<h3><span id=\"i-6\">テーブルに幅が指定されている場合</span></h3>\n<p>分かりやすいのだと、以下のように幅が固定値で指定されている場合ですね。これは、WordPressがTinyMCEのころによく水平スクロールされる事案がありました。</p>\n<pre><span class=\"code-copy\" data-clipboard-target=\"#code-5\">コピー</span><code id=\"code-5\" class=\"css\">table.tabletest {\r\n\twidth: 768px;\r\n}</code></pre>\n<p><img width=\"420\" src=\"https://haniwaman.com/wp-content/uploads/2019/01/table.gif\" alt=\"\" class=\"alignnone size-full wp-image-12743\" /></p>\n<h3><span id=\"i-7\">セルに改行禁止処理が入っている場合</span></h3>\n<p>セルに改行禁止の処理が入っている場合も、ズラーッと水平スクロールされてしまいます。具体的には<code>th</code>や<code>td</code>に<code>white-space: nowrap;</code>が入っているケースですね。</p>\n<pre><span class=\"code-copy\" data-clipboard-target=\"#code-6\">コピー</span><code id=\"code-6\" class=\"css\">table.tabletest th,\r\ntable.tabletest td {\r\n\twhite-space: nowrap;\r\n}</code></pre>\n<p><img width=\"420\" src=\"https://haniwaman.com/wp-content/uploads/2019/01/table2.gif\" alt=\"\" class=\"alignnone size-full wp-image-12744\" /></p>\n<h3><span id=\"i-8\">テーブルがはみ出る場合の解決策</span></h3>\n<p>わたしがよく使うのは、テーブルの部分だけ水平スクロールを許可しちゃうバターンです。まずテーブルの外をクラスを付けた<code>div</code>で囲みます。</p>\n<pre><span class=\"code-copy\" data-clipboard-target=\"#code-7\">コピー</span><code id=\"code-7\" class=\"html\">&lt;div class=\"tabletest-wrap\"&gt;\r\n&lt;table class=\"tabletest\"&gt;\r\n  &lt;tr&gt;&lt;th&gt;見出し&lt;/th&gt;&lt;th&gt;見出し&lt;/th&gt;&lt;th&gt;見出し&lt;/th&gt;&lt;/tr&gt;\r\n  &lt;tr&gt;&lt;td&gt;短い文字短い文字短い文字&lt;/td&gt;&lt;td&gt;データ2&lt;/td&gt;&lt;td&gt;データ3&lt;/td&gt;&lt;/tr&gt;\r\n  &lt;tr&gt;&lt;td&gt;データ1&lt;/td&gt;&lt;td&gt;短い文字短い文字短い文字&lt;/td&gt;&lt;td&gt;データ3&lt;/td&gt;&lt;/tr&gt;\r\n  &lt;tr&gt;&lt;td&gt;データ1&lt;/td&gt;&lt;td&gt;データ2&lt;/td&gt;&lt;td&gt;データ3&lt;/td&gt;&lt;/tr&gt;\r\n  &lt;tr&gt;&lt;td&gt;データ1&lt;/td&gt;&lt;td&gt;データ2&lt;/td&gt;&lt;td&gt;短い文字短い文字短い文字&lt;/td&gt;&lt;/tr&gt;\r\n&lt;/table&gt;\r\n&lt;/div&gt;</code></pre>\n<p>そして、囲った<code>div</code>だけは<code>overflow-x: auto;</code>として、水平スクロールを許可してあげます。</p>\n<pre><span class=\"code-copy\" data-clipboard-target=\"#code-8\">コピー</span><code id=\"code-8\" class=\"css\">.tabletest-wrap {\r\n\toverflow-x: auto;\r\n}</code></pre>\n<p>テーブルの部分だけ水平スクロールとなっていることが分かります。<br />\n<img width=\"420\" src=\"https://haniwaman.com/wp-content/uploads/2019/01/table3.gif\" alt=\"\" class=\"alignnone size-full wp-image-12747\" /></p>\n<h2><span id=\"i-9\">列が多いテーブルはスマホでどう表現するか？</span></h2>\n<p>スマホのことが考えられていないPC用のテーブルがあった時に、スマホでどう表現するかはとても悩ましい問題だと思います。解決策と呼べるかは微妙ですが、対応方法としては以下の３つがあります。</p>\n<h3><span id=\"i-10\">水平スクロール</span></h3>\n<p>これは先ほど紹介したテーブルが崩れない程度の幅を持たせて、テーブルの部分だけあえて水平スクロールさせる方法です。そんなに考えることがないので、実装する側としてはとても楽です。<br />\n<img width=\"420\" src=\"https://haniwaman.com/wp-content/uploads/2019/01/table3.gif\" alt=\"\" class=\"alignnone size-full wp-image-12747\" /></p>\n<h3><span id=\"i-11\">列を削る</span></h3>\n<p>「スマホにはどうやっても収まらないので、削れる列があったりしませんか？」みたいな確認もしたりします。実はPCの幅の収まりのよさのためだけに入っている列もあったりします。</p>\n<p>スマホで入る列は多くても３列だと思うので、この辺まで削れそうならこの方法もありではないでしょうか。</p>\n<p>PCをベースで考えると、CSSの書き方としては以下のような感じになるかと思います。</p>\n<pre><span class=\"code-copy\" data-clipboard-target=\"#code-9\">コピー</span><code id=\"code-9\" class=\"css\">@media screen and (max-width: 767px) {\r\n\ttable.tabletest th:nth-child(2),\r\n\ttable.tabletest td:nth-child(2) {\r\n\t\tdisplay: none;\r\n\t}\r\n}</code></pre>\n<h3><span id=\"i-12\">組み直す</span></h3>\n<p>最後は超無理やりな方法です。スマホとPCが完全に別ソースだったころは一般的だったかもしれません。PCの横長のテーブルをスマホの縦に合うようなテーブルに組み直すというものですね。</p>\n<p>これはHTMLが2ソースになるので、保守性には欠けますが、デザインは確実にいい感じに作り直すことができます（わたしの例がいい感じ化はさておき&#8230;）<br />\n<img src=\"https://haniwaman.com/wp-content/uploads/2019/01/table4-700x223.gif\" alt=\"\" class=\"alignnone size-medium wp-image-12750\" srcset=\"https://haniwaman.com/wp-content/uploads/2019/01/table4-700x223.gif 700w, https://haniwaman.com/wp-content/uploads/2019/01/table4-767x244.gif 767w, https://haniwaman.com/wp-content/uploads/2019/01/table4-1200x382.gif 1200w\" sizes=\"(max-width: 700px) 100vw, 700px\" /></p>\n<p>HTMLにスマホ用とPC用を書いて、メディアクエリでゴソッと入れ替えるということですね。</p>\n<h2><span id=\"i-13\">おわり</span></h2><div class=\"matome\"><div class=\"matome-img\"><img src=\"https://haniwaman.com/wp-content/themes/hpcode/img/haniwa.png\" alt=\"\"></div><div class=\"matome-twitter\"><a href=\"https://twitter.com/haniwa008?ref_src=twsrc%5Etfw\" class=\"twitter-follow-button\" data-show-screen-name=\"false\" data-size=\"large\" data-lang=\"ja\" data-show-count=\"true\">Follow @haniwa008</a><script async src=\"https://platform.twitter.com/widgets.js\" charset=\"utf-8\"></script></div></div><!-- /matome -->\n<p>実践的に使う部分に絞ってCSSのテーブルの使い方を紹介してみました。</p>\n<p><code>table-layout: fixed;</code>での均一の幅であったり、テーブルの外を<code>div</code>で囲んではみ出た時に水平スクロールさせる技など、使えるものがあったら、実際に使ってみてください！</p>\n","date":"January 20, 2019","categories":[{"name":"CSS","slug":"css"}],"tags":null,"author":{"name":"はにわまん","slug":"haniwaman"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"id":"db2e2a0c-1148-5fde-ad87-6373e46fda7e"}}}