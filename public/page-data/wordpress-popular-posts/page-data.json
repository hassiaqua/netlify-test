{"componentChunkName":"component---src-templates-post-js","path":"/wordpress-popular-posts/","result":{"data":{"wordpressPost":{"id":"83ce028e-b563-5926-bf39-02d63e14e33c","title":"「WordPress Popular Posts」をカスタマイズして任意のランキングを表示させよう！","slug":"wordpress-popular-posts","content":"<p>WordPress Popular PostsはWordPressのプラグインで、投稿記事や固定記事のアクセス数を集計して表示させることができるすぐれものです。</p>\n<p>サイト内での「人気記事」の表示を色々なカスタマイズで行えるので、ぜひ導入してみてください！</p>\n<div class=\"chat\"><figure class=\"chat-img\"><img src=\"https://haniwaman.com/wp-content/themes/hpcode/img/haniwa.png\" alt=\"\"><figcaption>はにわまん</figcaption></figure><div class=\"chat-content\">WordPressの人気記事を表示されるための一番有名なプラグインです</div></div>\n<div id=\"toc_container\" class=\"no_bullets\"><p class=\"toc_title\">目次</p><ul class=\"toc_list\"><li><a href=\"#WordPress_Popular_Posts\"><span class=\"toc_number toc_depth_1\">1</span> 「WordPress Popular Posts」ってなに？</a></li><li><a href=\"#i\"><span class=\"toc_number toc_depth_1\">2</span> ダウンロード &amp; インストール</a></li><li><a href=\"#i-2\"><span class=\"toc_number toc_depth_1\">3</span> 設定</a></li><li><a href=\"#i-3\"><span class=\"toc_number toc_depth_1\">4</span> 人気記事を表示させる</a><ul><li><a href=\"#i-4\"><span class=\"toc_number toc_depth_2\">4.1</span> カテゴリー毎の人気一覧を表示するソースコード</a></li></ul></li><li><a href=\"#i-5\"><span class=\"toc_number toc_depth_1\">5</span> おわり</a></li></ul></div>\n<h2><span id=\"WordPress_Popular_Posts\">「WordPress Popular Posts」ってなに？</span></h2>\n<p>人気記事を取得 &amp; 表示させることができるWordPressのプラグインです。導入するとウィジェットから人気記事を表示できるようになります。<br />\n<img src=\"https://haniwaman.com/wp-content/uploads/2017/08/wordpress-populer-posts2.png\" alt=\"\" width=\"296\" height=\"87\" class=\"alignnone size-full wp-image-10176\" /></p>\n<p>また、ウィジェットだけでなく、直接テンプレートに書き込んで任意にカスタマイズして表示させることも可能なので、初心者から上級者の方まで色々な層の人が利用しています。</p>\n<p>今回はウィジェットではなく、カスタマイズの方を重点的にお話します。</p>\n<h2><span id=\"i\">ダウンロード &amp; インストール</span></h2>\n<p>WordPress管理画面 &gt; プラグイン &gt; 新規追加 &gt; 検索「WordPress Popular Posts」 &gt; 有効化<br />\n<img src=\"https://haniwaman.com/wp-content/uploads/2017/08/wordpress-populer-posts.png\" alt=\"\" width=\"511\" height=\"283\" class=\"alignnone size-full wp-image-10177\" /></p>\n<h2><span id=\"i-2\">設定</span></h2>\n<p>設定すべきことは特にありません。</p>\n<p>一応、設定場所としては、以下になります。</p>\n<p>WordPress管理画面 &gt; 設定 &gt; WordPress Popular Posts</p>\n<h2><span id=\"i-3\">人気記事を表示させる</span></h2>\n<p>人気記事を表示させるためのコードを書いていきましょう。サイドメニューに追尾したり、固定ページにランキング個別ページを作ったりと応用次第で色々な場面で活躍しますので、記載方法だけ覚えておきましょう。</p>\n<h3><span id=\"i-4\">カテゴリー毎の人気一覧を表示するソースコード</span></h3>\n<p>以下を任意のテンプレートに挿入すると現在のカテゴリーに対応した人気一覧を取得できます。</p>\n<pre><span class=\"code-copy\" data-clipboard-target=\"#code-0\">コピー</span><code id=\"code-0\" class=\"php\">&lt;?php $cat = get_the_category(); ?&gt;\r\n&lt;?php $cat_id = isset( $cat[0] ) ? $cat[0]-&gt;term_id : &#039;&#039;; ?&gt;\r\n&lt;?php if ( function_exists( &#039;wpp_get_mostpopular&#039; ) ) : ?&gt;\r\n&lt;?php $args = array( \r\n  &#039;limit&#039; =&gt; 12,\r\n  &#039;range&#039; =&gt; &#039;all&#039;,\r\n  &#039;order_by&#039; =&gt; &#039;views&#039;,\r\n  &#039;thumbnail_width&#039; =&gt; 100,\r\n  &#039;thumbnail_height&#039; =&gt; 100,\r\n  &#039;cat&#039; =&gt; $cat_id,\r\n  &#039;wpp_start&#039; =&gt; &#039;&lt;ul&gt;&#039;,\r\n  &#039;wpp_end&#039; =&gt; &#039;&lt;/ul&gt;&#039;,\r\n  &#039;stats_views&#039; =&gt; 1,\r\n  &#039;post_html&#039; =&gt; &#039;&lt;li&gt;&lt;a href=&quot;{url}&quot;&gt;{thumb}&lt;/a&gt;&lt;a href=&quot;{url}&quot;&gt;{text_title}&lt;/a&gt;&lt;span&gt;{stats}&lt;/span&gt;&lt;/li&gt;&#039; ); ?&gt;\r\n&lt;?php wpp_get_mostpopular( $args ); ?&gt;\r\n&lt;?php endif; ?&gt;</code></pre>\n<table class=\"table table-bordered\">\n<tbody>\n<tr>\n<th width=\"150\">limit</th>\n<td>表示させる記事数</td>\n</tr>\n<tr>\n<th>range</th>\n<td>集計期間：all（全期間）、daily（1日）、weekly（1週間）、monthly（1ヶ月）</td>\n</tr>\n<tr>\n<th>order_by</th>\n<td>ソート順：views（閲覧数）、comments（コメント数）</td>\n</tr>\n<tr>\n<th>post_type</th>\n<td>投稿タイプ：post、page</td>\n</tr>\n<tr>\n<th>cat</th>\n<td>カテゴリーID</td>\n</tr>\n<tr>\n<th>thumbnail_width</th>\n<td>サムネイルの横幅</td>\n</tr>\n<tr>\n<th>thumbnail_height</th>\n<td>サムネイルの縦幅</td>\n</tr>\n<tr>\n<th>wpp_start</th>\n<td>出力される値の先頭につける文字列</td>\n</tr>\n<tr>\n<th>wpp_end</th>\n<td>出力される値の末尾につける文字列</td>\n</tr>\n<tr>\n<th>stats_views</th>\n<td>閲覧数を取得できるようにする：1(true)、0(false)</td>\n</tr>\n<tr>\n<th>post_html</th>\n<td>出力されるHTMLを指定する文字列</td>\n</tr>\n</tbody>\n</table>\n<p>これらの値を配列として用意して、<code>wpp_get_mostpopular()</code>関数に引数として与えてあげると表示される仕組みとなっています。</p>\n<h4><code>post_html</code>のパラメーター</h4>\n<p>WordPress Popular Postsでは、出力するための様々な値を用意してくれています。<code>post_html</code>を指定する際に以下の項目を見ながら、表示させたい値を組み合わせながら作っていくといいでしょう。</p>\n<table class=\"table table-bordered\">\n<tbody>\n<tr>\n<th width=\"150\">{thumb}</th>\n<td>サムネイル（リンクあり）</td>\n</tr>\n<tr>\n<th>{thumb_img}</th>\n<td>サムネイル（リンクなし）</td>\n</tr>\n<tr>\n<th>{title}</th>\n<td>記事タイトル</td>\n</tr>\n<tr>\n<th>{summary}</th>\n<td>抜粋</td>\n</tr>\n<tr>\n<th>{stats}</th>\n<td></td>\n</tr>\n<tr>\n<th>{rating}</th>\n<td></td>\n</tr>\n<tr>\n<th>{score}</th>\n<td></td>\n</tr>\n<tr>\n<th>{url}</th>\n<td>記事URL</td>\n</tr>\n<tr>\n<th>{text_title}</th>\n<td>記事タイトル（リンクなし）</td>\n</tr>\n<tr>\n<th>{author}</th>\n<td>著者名（※<code>stats_author=1</code>の場合に利用可）</td>\n</tr>\n<tr>\n<th>{category}</th>\n<td>カテゴリー名（※<code>stats_category=1</code>の場合に利用可）</td>\n</tr>\n<tr>\n<th>{views}</th>\n<td>閲覧数（※<code>stats_views=1</code>の場合に利用可）</td>\n</tr>\n<tr>\n<th>{comments}</th>\n<td>コメント数（※<code>stats_comments=1</code>の場合に利用可）</td>\n</tr>\n<tr>\n<th>{date}</th>\n<td>日付（※<code>stats_date=1</code>の場合に利用可）</td>\n</tr>\n</tbody>\n</table>\n<h2><span id=\"i-5\">おわり</span></h2><div class=\"matome\"><div class=\"matome-img\"><img src=\"https://haniwaman.com/wp-content/themes/hpcode/img/haniwa.png\" alt=\"\"></div><div class=\"matome-twitter\"><a href=\"https://twitter.com/haniwa008?ref_src=twsrc%5Etfw\" class=\"twitter-follow-button\" data-show-screen-name=\"false\" data-size=\"large\" data-lang=\"ja\" data-show-count=\"true\">Follow @haniwa008</a><script async src=\"https://platform.twitter.com/widgets.js\" charset=\"utf-8\"></script></div></div><!-- /matome -->\n<p>人気記事を表示するためのプラグイン「WordPress Popular Posts」の紹介でした。</p>\n<p>サイトに合わせてカスタマイズして任意の人記事を表示させてみてください！</p>\n","date":"December 24, 2017","categories":[{"name":"WordPress","slug":"wordpress"}],"tags":[{"name":"WordPressプラグイン","slug":"plugin"}],"author":{"name":"はにわまん","slug":"haniwaman"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"id":"83ce028e-b563-5926-bf39-02d63e14e33c"}}}