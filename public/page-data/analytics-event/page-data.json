{"componentChunkName":"component---src-templates-post-js","path":"/analytics-event/","result":{"data":{"wordpressPost":{"id":"1fcd9521-8e81-50ca-a2cf-68b4136386db","title":"Analyticsでクリックイベントを取得する方法！目標を設定して改善していこう","slug":"analytics-event","content":"<p>Analyticsでクリックイベントを取得する方法です。</p>\n<p>サイトを運営するにあたって大事な概念として、どれだけアクセスされているかの「ページビュー（PV）」と、遷移させたい対象リンクをどれだけクリックされているかのコンバージョン率（CVR）があります。</p>\n<p>コンバージョン率という言葉が難しいと感じ方は、「クリック率」と捉えていただいても良いかと思います。</p>\n<p>Analyticsを設置すると標準でPVは計測してくれますが、<strong class=\"marker\">クリック率はこちらでタグを埋め込む必要があります</strong>。この記事では、Analyticsでクリックイベントを取得する方法と、コンバージョン率を視覚的に分かりやすく表示できる「目標の設定」について紹介していきます。</p>\n<div class=\"chat\"><figure class=\"chat-img\"><img src=\"https://haniwaman.com/wp-content/themes/hpcode/img/haniwa.png\" alt=\"\"><figcaption>はにわまん</figcaption></figure><div class=\"chat-content\">各記事のCVRを眺めながらサイトの改善案を考えましょう！</div></div>\n<div id=\"toc_container\" class=\"no_bullets\"><p class=\"toc_title\">目次</p><ul class=\"toc_list\"><li><a href=\"#Analytics\"><span class=\"toc_number toc_depth_1\">1</span> Analyticsでリンクのクリック数を調べる方法</a></li><li><a href=\"#i\"><span class=\"toc_number toc_depth_1\">2</span> イベントを取得するための前提</a><ul><li><a href=\"#i-2\"><span class=\"toc_number toc_depth_2\">2.1</span> 各要素の意味</a></li></ul></li><li><a href=\"#i-3\"><span class=\"toc_number toc_depth_1\">3</span> 【おすすめ】イベント発生の目標を設定してみる</a><ul><li><a href=\"#i-4\"><span class=\"toc_number toc_depth_2\">3.1</span> 目標の設定方法</a></li><li><a href=\"#i-5\"><span class=\"toc_number toc_depth_2\">3.2</span> 目標の確認</a></li></ul></li><li><a href=\"#i-6\"><span class=\"toc_number toc_depth_1\">4</span> おわり</a></li></ul></div>\n<h2><span id=\"Analytics\">Analyticsでリンクのクリック数を調べる方法</span></h2>\n<p>基本的には<code>a</code>タグのクリックを計測する場合に使われます。平たくは<strong class=\"marker\">要素のクリックを計測するための計測タグ</strong>です。</p>\n<p>Analyticsの場所としては、行動 → イベント から確認できるところですね。</p>\n<p>以下のような<code>onClick()</code>をHTMLの中に仕込むだけでAnalyticsに反映されるようになります。</p>\n<pre><span class=\"code-copy\" data-clipboard-target=\"#code-0\">コピー</span><code id=\"code-0\" class=\"html\">&lt;a href=\"\" onclick=\"gtag('event', 'link', {'event_category': 'click', 'event_label': 'hogehoge'});\"&gt;クリック！&lt;/a&gt;\r\n</code></pre>\n<p>具体的に仕込んだソースを見てみるとこんな感じですね。<br />\n<img src=\"https://haniwaman.com/wp-content/uploads/2019/06/analytics-event1-700x96.png\" alt=\"\" width=\"600\"  class=\"alignnone size-medium wp-image-15439\" srcset=\"https://haniwaman.com/wp-content/uploads/2019/06/analytics-event1-700x96.png 700w, https://haniwaman.com/wp-content/uploads/2019/06/analytics-event1-768x106.png 768w, https://haniwaman.com/wp-content/uploads/2019/06/analytics-event1-1200x165.png 1200w, https://haniwaman.com/wp-content/uploads/2019/06/analytics-event1.png 1234w\" sizes=\"(max-width: 700px) 100vw, 700px\" /></p>\n<p>イベントについて公式の解説はこちらです。<br />\n→ <a href=\"https://developers.google.com/analytics/devguides/collection/gtagjs/events?hl=ja\" rel=\"noopener nofollow\" target=\"_blank\">Google アナリティクスのイベントを測定する  |  ウェブ向けアナリティクス（gtag.js）</a></p>\n<h2><span id=\"i\">イベントを取得するための前提</span></h2>\n<p>このgtagでイベントを取得するための前提として、<strong class=\"marker\">「グローバル サイトタグ」である必要があります</strong>。古いAnalyticsとかだと別のタグだったりするので注意してください&#8230;。</p>\n<blockquote>\n<pre><span class=\"code-copy\" data-clipboard-target=\"#code-1\">コピー</span><code id=\"code-1\" class=\"html\">&lt;!-- Global site tag (gtag.js) - Google Analytics --&gt;\r\n&lt;script async src=\"https://www.googletagmanager.com/gtag/js?id=GA_MEASUREMENT_ID\"&gt;&lt;/script&gt;\r\n&lt;script&gt;\r\n  window.dataLayer = window.dataLayer || [];\r\n  function gtag(){dataLayer.push(arguments);}\r\n  gtag('js', new Date());\r\n\r\n  gtag('config', 'GA_MEASUREMENT_ID');\r\n&lt;/script&gt;</code></pre>\n<p>→ <a href=\"https://developers.google.com/analytics/devguides/collection/gtagjs/?hl=ja\" rel=\"noopener nofollow\" target=\"_blank\">サイトに gtag.js を追加する  |  ウェブ向けアナリティクス（gtag.js）</a></p></blockquote>\n<p>上記の形式のAnalyticsタグであれば、今回紹介しているgtagのイベント取得ができます。この形式ではない場合は、gaタグとかの場合は、この記事では紹介しませんが、<code>onclick=\"ga('send', 'event', 'link', 'click', 'hogehoge');\"</code>といった感じのイベントタグとなります。</p>\n<p><strong class=\"marker\">まずは、ご自身のAnalyticsがgtagに対応しているタグかどうか</strong>をご確認いただければと思います。</p>\n<h3><span id=\"i-2\">各要素の意味</span></h3>\n<p>改めてイベントを計測するためのタグを掲載します。</p>\n<pre><span class=\"code-copy\" data-clipboard-target=\"#code-0\">コピー</span><code id=\"code-0\" class=\"html\">&lt;a href=\"\" onclick=\"gtag('event', 'link', {'event_category': 'click', 'event_label': 'hogehoge'});\"&gt;クリック！&lt;/a&gt;\r\n</code></pre>\n<p>この<code>gtag()</code>関数の各引数には以下のような意味となります。</p>\n<table class=\"table\" style=\"table-layout:auto;\">\n<tr>\n<th width=\"220\"><code>'event'</code></th>\n<td>「event」で固定</td>\n</tr>\n<tr>\n<th><code>'link'</code></th>\n<td>イベントアクション</td>\n</tr>\n<tr>\n<th><code>'event_category'</code></th>\n<td>イベントカテゴリー</td>\n</tr>\n<tr>\n<th><code>'event_label'</code></th>\n<td>イベントラベル</td>\n</tr>\n</table>\n<p>それぞのれ値がAnalyticsに反映されて確認できるようになるのですが、イベントアクションとカテゴリーはグループ分けのようなイメージです。わたしは基本的に使いまわしています。</p>\n<p><strong class=\"marker\">重要なのは「イベントラベル」の値</strong>です。ここを被らないように各クリック要素に仕込んであげることで、どの要素がクリックされたかを判別することができるようになります。<br />\n<img src=\"https://haniwaman.com/wp-content/uploads/2019/06/analytics-event2-700x397.png\" alt=\"\" width=\"500\"  class=\"alignnone size-medium wp-image-15441\" srcset=\"https://haniwaman.com/wp-content/uploads/2019/06/analytics-event2-700x397.png 700w, https://haniwaman.com/wp-content/uploads/2019/06/analytics-event2-768x436.png 768w, https://haniwaman.com/wp-content/uploads/2019/06/analytics-event2-1200x681.png 1200w, https://haniwaman.com/wp-content/uploads/2019/06/analytics-event2.png 1280w\" sizes=\"(max-width: 700px) 100vw, 700px\" /></p>\n<p>上の画像のイベントラベルの左にイベントカテゴリーやイベントアクションがあるのも分かります。こんな感じで<code>gtag()</code>の各値はAnalyticsで管理されるということになります。</p>\n<h2><span id=\"i-3\">【おすすめ】イベント発生の目標を設定してみる</span></h2>\n<p>目標を設定すると<strong>コンバージョン率</strong>みたいな測り方ができるようになります。目的のクリック対象や商材があった時に効果的です。</p>\n<h3><span id=\"i-4\">目標の設定方法</span></h3>\n<p>Analyticsの管理 → ビューの列の「目標」 → 新しい目標 から設定できます。</p>\n<ul class=\"check\">\n<li>目標設定・・・カスタム</li>\n<li>目標の説明・・・目標名は「任意」、目標タイプは「イベント」</li>\n<li>目標の詳細・・・対象のカテゴリー名、アクション名、ラベル名</li>\n</ul>\n<p>大事なのは目標の詳細のラベル名かと思います。こちらは正規表現がおすすめです。ラベルに特定のキーワードを含めるルールで運用するか、カテゴリー名で商材を分けるなどの運用にすると、目標を設定しやすいかと思いす。</p>\n<p>例えば、ラベル名に自分の商品には「hpcode」と必ず入れる運用にしておけば、ラベル名のところは正規表現を選択して「<code>.*hpcode.*</code>」といった指定をしてhpcodeが含まれた全クリックをコンバージョンとするという感じにできます。<br />\n<img src=\"https://haniwaman.com/wp-content/uploads/2019/06/analytics-event5-700x426.png\" alt=\"\" width=\"500\" class=\"alignnone size-medium wp-image-15452\" srcset=\"https://haniwaman.com/wp-content/uploads/2019/06/analytics-event5-700x426.png 700w, https://haniwaman.com/wp-content/uploads/2019/06/analytics-event5-768x468.png 768w, https://haniwaman.com/wp-content/uploads/2019/06/analytics-event5.png 772w\" sizes=\"(max-width: 700px) 100vw, 700px\" /></p>\n<h3><span id=\"i-5\">目標の確認</span></h3>\n<p>目標の結果は、コンバージョン → 目標 から確認することができます。<br />\n<img src=\"https://haniwaman.com/wp-content/uploads/2019/06/analytics-event6.png\" alt=\"\" width=\"320\"  class=\"alignnone size-full wp-image-15453\" /></p>\n<p>「目標パスの解析」とか面白いですよ。どういうルートで目標のリンクがクリックされたかが分かります。</p>\n<p>また、ランディングページからのコンバージョンも表示されるようになります。<br />\n<img src=\"https://haniwaman.com/wp-content/uploads/2019/06/analytics-event7-1-700x326.png\" alt=\"\" width=\"700\" class=\"alignnone size-medium wp-image-15460\" srcset=\"https://haniwaman.com/wp-content/uploads/2019/06/analytics-event7-1-700x326.png 700w, https://haniwaman.com/wp-content/uploads/2019/06/analytics-event7-1-768x358.png 768w, https://haniwaman.com/wp-content/uploads/2019/06/analytics-event7-1-1200x559.png 1200w\" sizes=\"(max-width: 700px) 100vw, 700px\" /></p>\n<p><strong class=\"marker\">コンバージョン率が一覧で見れるようになるので、どこのページを改善すればいいかが把握しやすい</strong>ですね。こういうのを見ていると、PVの大事ですがCVR（コンバージョン率）がどれだけ大事かが分かります。</p>\n<p>また、こういう数字を追いかけていたら、クリックされやすい記事の傾向も分かってくるはずです。</p>\n<h2><span id=\"i-6\">おわり</span></h2><div class=\"matome\"><div class=\"matome-img\"><img src=\"https://haniwaman.com/wp-content/themes/hpcode/img/haniwa.png\" alt=\"\"></div><div class=\"matome-twitter\"><a href=\"https://twitter.com/haniwa008?ref_src=twsrc%5Etfw\" class=\"twitter-follow-button\" data-show-screen-name=\"false\" data-size=\"large\" data-lang=\"ja\" data-show-count=\"true\">Follow @haniwa008</a><script async src=\"https://platform.twitter.com/widgets.js\" charset=\"utf-8\"></script></div></div><!-- /matome -->\n<p>Analyticsでクリックイベントを取得する方法でした。</p>\n<p>イベントはgtagを使って、アクション、カテゴリー、ラベルを設定するだけです。一度、<strong class=\"marker\">使い方が分かればあとはコピペするだけなので手間に感じるのは最初だけ</strong>だと思います。</p>\n<p>イベントを取得できるようになれば、目標を設定できるようになって、コンバージョンを意識するサイトであれば、とてもパワフルなデータとなります。ぜひ無料で使えるAnalyticのイベントと目標を使って、サイトをどんどん改善していきましょう！</p>\n","date":"June 25, 2019","categories":[{"name":"SEO","slug":"seo"}],"tags":null,"author":{"name":"はにわまん","slug":"haniwaman"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"id":"1fcd9521-8e81-50ca-a2cf-68b4136386db"}}}