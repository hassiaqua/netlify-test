{"componentChunkName":"component---src-templates-post-js","path":"/loading/","result":{"data":{"wordpressPost":{"id":"7c8a35a3-6f6c-51dc-bf7b-26964b4ea0ea","title":"ページ読み込み中のローディング画面を表示するJavaScript","slug":"loading","content":"<p>ページが読み込まれるまで待機するローディング画面の表示方法について紹介します。</p>\n<div class=\"chat\"><figure class=\"chat-img\"><img src=\"https://haniwaman.com/wp-content/themes/hpcode/img/haniwa.png\" alt=\"\"><figcaption>はにわまん</figcaption></figure><div class=\"chat-content\">この仕組はいろんな場面で使えますし、いろいろと応用できると思います！</div></div>\n<div id=\"toc_container\" class=\"no_bullets\"><p class=\"toc_title\">目次</p><ul class=\"toc_list\"><li><a href=\"#i\"><span class=\"toc_number toc_depth_1\">1</span> コード全体像</a><ul><li><a href=\"#HTML\"><span class=\"toc_number toc_depth_2\">1.1</span> HTML</a></li><li><a href=\"#CSS\"><span class=\"toc_number toc_depth_2\">1.2</span> CSS</a></li><li><a href=\"#JavaScript\"><span class=\"toc_number toc_depth_2\">1.3</span> JavaScript</a></li></ul></li><li><a href=\"#i-2\"><span class=\"toc_number toc_depth_1\">2</span> おわり</a></li></ul></div>\n<h2><span id=\"i\">コード全体像</span></h2>\n<pre><span class=\"code-copy\" data-clipboard-target=\"#code-0\">コピー</span><code id=\"code-0\" class=\"html\">&lt;style&gt;\r\n#loader-bg {\r\n\t\tbackground: #fff;\r\n\t\theight: 100%;\r\n\t\twidth: 100%;\r\n\t\tposition: fixed;\r\n\t\ttop: 0px;\r\n\t\tleft: 0px;\r\n\t\tz-index: 10;\r\n}\r\n#loader-bg img {\t\r\n\t\tbackground: #fff;\r\n\t\tposition: fixed;\r\n\t\ttop: 50%;\r\n\t\tleft: 50%;\r\n\t\t-webkit-transform: translate(-50%, -50%);\r\n\t\t-ms-transform: translate(-50%, -50%);\r\n\t\ttransform: translate(-50%, -50%);\r\n\t\tz-index: 10;\r\n}\r\n&lt;/style&gt;\r\n\r\n&lt;div id=\"loader-bg\"&gt;\r\n\t&lt;img src=\"img/load.gif\"&gt;\r\n&lt;/div&gt;\r\n\r\n&lt;script src=\"https://code.jquery.com/jquery-3.2.1.min.js\"&gt;&lt;/script&gt;\r\n&lt;script&gt;\r\njQuery(window).on('load', function() {\r\n\tjQuery('#loader-bg').hide();\r\n});\r\n&lt;/script&gt;\r\n</code></pre>\n<p>HTML、CSS、JavaScript、それぞれに分けて解説していきます。</p>\n<h3><span id=\"HTML\">HTML</span></h3>\n<pre><span class=\"code-copy\" data-clipboard-target=\"#code-1\">コピー</span><code id=\"code-1\" class=\"html\">&lt;div id=\"loader-bg\"&gt;\r\n\t&lt;img src=\"img/load.gif\"&gt;\r\n&lt;/div&gt;</code></pre>\n<p>ロード中に表示させる画像を指定します。外側にクラスを指定してあげてください。</p>\n<p>ちなみに画像は、以下のサイトから簡単に作ることができます。<br />\n→ <a href=\"http://loadergenerator.com/\" rel=\"noopener\" target=\"_blank\">Loader Generator</a></p>\n<h3><span id=\"CSS\">CSS</span></h3>\n<pre><span class=\"code-copy\" data-clipboard-target=\"#code-2\">コピー</span><code id=\"code-2\" class=\"css\">#loader-bg {\r\n\t\tbackground: #fff;\r\n\t\theight: 100%;\r\n\t\twidth: 100%;\r\n\t\tposition: fixed;\r\n\t\ttop: 0px;\r\n\t\tleft: 0px;\r\n\t\tz-index: 10;\r\n}\r\n#loader-bg img {\t\r\n\t\tbackground: #fff;\r\n\t\tposition: fixed;\r\n\t\ttop: 50%;\r\n\t\tleft: 50%;\r\n\t\t-webkit-transform: translate(-50%, -50%);\r\n\t\t-ms-transform: translate(-50%, -50%);\r\n\t\ttransform: translate(-50%, -50%);\r\n\t\tz-index: 10;\r\n}\r\n</code></pre>\n<p><code>position: fixed;</code>と、<code>z-index: 10;</code>として、ページに被せられるように指定しています。<br />\n幅や高さも100%として、完全の覆うようにしましょう。（<code>z-index</code>は他の要素の値に応じて調整してください。）</p>\n<p>画像については、上下左右が中央にくるように指定しています。</p>\n<h3><span id=\"JavaScript\">JavaScript</span></h3>\n<pre><span class=\"code-copy\" data-clipboard-target=\"#code-3\">コピー</span><code id=\"code-3\" class=\"js\">&lt;script src=\"https://code.jquery.com/jquery-3.2.1.min.js\"&gt;&lt;/script&gt;\r\n&lt;script&gt;\r\njQuery(window).on('load', function() {\r\n\tjQuery('#loader-bg').hide();\r\n});\r\n&lt;/script&gt;\r\n</code></pre>\n<p><code>jQuery(window).on('load')</code>がページが読み込まれた後に発動する関数となります。</p>\n<p>CSSで画面全体覆う指定をしていた要素に対して、ページが読み込まれた後は、<code>hide()</code>で消すという処理をしています。</p>\n<h2><span id=\"i-2\">おわり</span></h2><div class=\"matome\"><div class=\"matome-img\"><img src=\"https://haniwaman.com/wp-content/themes/hpcode/img/haniwa.png\" alt=\"\"></div><div class=\"matome-twitter\"><a href=\"https://twitter.com/haniwa008?ref_src=twsrc%5Etfw\" class=\"twitter-follow-button\" data-show-screen-name=\"false\" data-size=\"large\" data-lang=\"ja\" data-show-count=\"true\">Follow @haniwa008</a><script async src=\"https://platform.twitter.com/widgets.js\" charset=\"utf-8\"></script></div></div><!-- /matome -->\n<p>ページ読み込み中のローディング画面を表示するJavaScriptについて紹介しました。</p>\n<p>アニメーションなどのタイミングが重要な処理をしている場合は、ローディング画面を入れて確実な表現をさせるのが良いかと思います。</p>\n","date":"January 01, 2018","categories":[{"name":"JavaScript","slug":"javascript"}],"tags":null,"author":{"name":"はにわまん","slug":"haniwaman"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"id":"7c8a35a3-6f6c-51dc-bf7b-26964b4ea0ea"}}}