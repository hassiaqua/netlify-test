{"componentChunkName":"component---src-templates-post-js","path":"/pseudo-window/","result":{"data":{"wordpressPost":{"id":"c774a383-a4a1-5641-9422-64727ba8b581","title":"サイト内に擬似ウインドウを作る方法","slug":"pseudo-window","content":"<p>サイト内で擬似的なウインドウを作る方法です。1つの要素をドラッグで可変にするのですが、凝ったことしなくてもcssに<code>risize</code>というプロパティが用意されているので簡単にできます！</p>\n<div class=\"demo\">DEMO（デモ）</div>\n<div id=\"my-window\">\n右下に三角をドラッグすると要素が可変します。\n</div>\n<p>では早速つくり方を見ていきましょう！</p>\n<div class=\"chat\"><figure class=\"chat-img\"><img src=\"https://haniwaman.com/wp-content/themes/hpcode/img/haniwa.png\" alt=\"\"><figcaption>はにわまん</figcaption></figure><div class=\"chat-content\">サイト内でのウインドウは個人的に好きで、当ブログ内にも随所に作成しています笑</div></div>\n<div id=\"toc_container\" class=\"no_bullets\"><p class=\"toc_title\">目次</p><ul class=\"toc_list\"><li><a href=\"#i\"><span class=\"toc_number toc_depth_1\">1</span> 可変する要素の作り方</a></li><li><a href=\"#i-2\"><span class=\"toc_number toc_depth_1\">2</span> 疑似ウインドウの変化を検知したい</a><ul><li><a href=\"#exResize\"><span class=\"toc_number toc_depth_2\">2.1</span> 「exResize」のダウンロード</a></li><li><a href=\"#exResize-2\"><span class=\"toc_number toc_depth_2\">2.2</span> 「exResize」の書き方</a></li><li><a href=\"#i-3\"><span class=\"toc_number toc_depth_2\">2.3</span> 可変中に擬似ウインドウの縦横の値を表示させる</a></li></ul></li><li><a href=\"#i-4\"><span class=\"toc_number toc_depth_1\">3</span> おわり</a></li></ul></div>\n<h2><span id=\"i\">可変する要素の作り方</span></h2>\n<p>DEMOでは、ドラッグによって要素の横幅、縦幅が可変できるようになっていたかと思います。</p>\n<p>作り方はとても簡単で、可変させたい要素に対して、cssの<code>risize</code>と<code>overflow</code>を指定するだけです。</p>\n<p>デモのソースをそのまま紹介すると、</p>\n<pre><span class=\"code-copy\" data-clipboard-target=\"#code-0\">コピー</span><code id=\"code-0\" class=\"html\">&lt;div id=\"my-window\"&gt;右下に三角をドラッグすると要素が可変します。&lt;/div&gt;\r\n</code></pre>\n<pre><span class=\"code-copy\" data-clipboard-target=\"#code-1\">コピー</span><code id=\"code-1\" class=\"css\">#my-window {\r\n\tresize: both;\r\n\toverflow: auto;\r\n\twidth: 100%;\r\n\tborder-top: 1.4em solid #eee;\r\n\tborder-radius: 4px;\r\n\tbox-shadow: 0 0 2px 1px rgba(0,0,0,.1);\r\n\tbackground: #fff;\r\n\tpadding: 1.2em .8em;\r\n\tmargin-bottom: 1.5em;\r\n}</code></pre>\n<p>cssで定義している、<code>resize: both;</code>と<code>overflow: auto;</code>によって可変の処理が加えられているわけですね。</p>\n<p>ちなみに、<code>resize</code>には4つの指定方法がありますが、疑似ウインドウとして使うには縦も横も動かせたほうが好ましいので、<code>resize: both;</code>がいいのかなと思います。</p>\n<ul>\n<li><code>resize: none;</code>・・・可変禁止（初期値）</li>\n<li><code>resize: both;</code>・・・縦、横ともに可変可能</li>\n<li><code>resize: horizontal;</code>・・・横だけ可変可能</li>\n<li><code>resize: vertical;</code>・・・縦だけ可変可能</li>\n</ul>\n<h2><span id=\"i-2\">疑似ウインドウの変化を検知したい</span></h2>\n<p>cssの<code>resize</code>の紹介でほぼ終わりなのですが、<code>$(windows).on('risize', function() {});</code>といったような、ウインドウの動きで処理していたイベント系の確認ができません（実際のウインドウサイズが変わるわけではないので。）</p>\n<p>risizeで変化した値を検知するには自分でコードをゴリゴリ書いてもいいのですが、jQueryプラグインの「exResize」がとても便利です。<br />\nライセンスは、作成者のブログのコメント欄にありましたが、「MIT and GPL」とのことです。</p>\n<blockquote><p>トーリス・ガリートーリス・ガリー 2011/08/15 15:06<br />\nいいですね、これ。</p>\n<p>そのまま仕事で使わせて頂きたいのですが、<br />\nライセンス的にはどんなもんでしょう？</p>\n<p> cyokodogcyokodog 2011/08/19 01:22<br />\n<strong class=\"marker\">jQuery 同様、MIT and GPL　ということでお願いします</strong></p>\n<p><a href=\"http://d.hatena.ne.jp/cyokodog/20101101/exresize01\" rel=\"noopener noreferrer\" target=\"_blank\">http://d.hatena.ne.jp/cyokodog/20101101/exresize01</a></p></blockquote>\n<h3><span id=\"exResize\">「exResize」のダウンロード</span></h3>\n<p>Githubでソースを公開してくれています。<br />\n→ <a href=\"https://github.com/cyokodog/jquery.ex-resize\" rel=\"noopener noreferrer\" target=\"_blank\">https://github.com/cyokodog/jquery.ex-resize</a></p>\n<p>右上の「Download zip」からダウンロードしてください。読み込むjsファイルは「jquery.exresize-latest.js」です。</p>\n<p>読み込む際はjQueryを先に読み込んであげてください。</p>\n<pre><span class=\"code-copy\" data-clipboard-target=\"#code-2\">コピー</span><code id=\"code-2\" class=\"html\">&lt;script src=\"https://code.jquery.com/jquery-3.2.1.min.js\"&gt;&lt;/script&gt;\r\n&lt;script src=\".jquery.exresize-latest.js\"&gt;&lt;/script&gt;</code></pre>\n<p>準備はこれでOK。</p>\n<h3><span id=\"exResize-2\">「exResize」の書き方</span></h3>\n<p>「exResize」イベントを使ってウインドウの縦横の大きさを取得してみます。ちなみに<code>innerWidth</code>はコンテンツとpaddingまでを含めた幅（borderは含まない）のことです。</p>\n<pre><span class=\"code-copy\" data-clipboard-target=\"#code-3\">コピー</span><code id=\"code-3\" class=\"js\">$('#my-window').exResize( function() {\r\n\tconsole.log('width:' + $(this).innerWidth());\r\n\tconsole.log('height:' + $(this).innerHeight());\r\n});</code></pre>\n<p><code>console.log</code>に出力していますので、デベロッパーツールのconsoleを開いてドラッグしてみてください！</p>\n<h3><span id=\"i-3\">可変中に擬似ウインドウの縦横の値を表示させる</span></h3>\n<pre><span class=\"code-copy\" data-clipboard-target=\"#code-4\">コピー</span><code id=\"code-4\" class=\"html\">&lt;div id=\"my-window2\"&gt;\r\n右下に三角をドラッグすると要素が可変します。\r\n&lt;span class=\"vh\"&gt;&lt;/span&gt;\r\n&lt;/div&gt;</code></pre>\n<pre><span class=\"code-copy\" data-clipboard-target=\"#code-5\">コピー</span><code id=\"code-5\" class=\"css\">#my-window2 {\r\n\tresize: both;\r\n\toverflow: auto;\r\n\twidth: 100%;\r\n\tborder-top: 1.4em solid #eee;\r\n\tborder-radius: 4px;\r\n\tbox-shadow: 0 0 2px 1px rgba(0,0,0,.1);\r\n\tbackground: #fff;\r\n\tpadding: 1.2em .8em;\r\n\tmargin-bottom: 1.5em;\r\n\tposition: relative;\r\n}\r\n#my-window2 &gt; .vh {\r\n\tposition: absolute;\r\n\tbottom: .2em;\r\n\tright: .2em;\r\n\tfont-size: .8em;\r\n}</code></pre>\n<pre><span class=\"code-copy\" data-clipboard-target=\"#code-6\">コピー</span><code id=\"code-6\" class=\"js\">jQuery('#my-window2').exResize( function() {\r\n  var vh = $(this).innerWidth() + ' × ' + jQuery(this).innerHeight();\r\n  jQuery('.vh').text(vh);\r\n});</code></pre>\n<div class=\"demo\">DEMO（デモ）</div>\n<div id=\"my-window2\">\n右下に三角をドラッグすると要素が可変します。<br />\n<span class=\"vh\"></span>\n</div>\n<p>右下に縦横の値が表示されるようになりました！</p>\n<h2><span id=\"i-4\">おわり</span></h2><div class=\"matome\"><div class=\"matome-img\"><img src=\"https://haniwaman.com/wp-content/themes/hpcode/img/haniwa.png\" alt=\"\"></div><div class=\"matome-twitter\"><a href=\"https://twitter.com/haniwa008?ref_src=twsrc%5Etfw\" class=\"twitter-follow-button\" data-show-screen-name=\"false\" data-size=\"large\" data-lang=\"ja\" data-show-count=\"true\">Follow @haniwa008</a><script async src=\"https://platform.twitter.com/widgets.js\" charset=\"utf-8\"></script></div></div><!-- /matome -->\n<p>サイト内に擬似ウインドウを作る方法でした。個人で気にはレスポンシブ系のデモを設置する際はこいった表示にしてあげるとユーザー体験も向上するのかなと思ったりします。</p>\n","date":"February 17, 2018","categories":[{"name":"CSS","slug":"css"}],"tags":[{"name":"jQueryライブラリ","slug":"jquery"}],"author":{"name":"はにわまん","slug":"haniwaman"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"id":"c774a383-a4a1-5641-9422-64727ba8b581"}}}