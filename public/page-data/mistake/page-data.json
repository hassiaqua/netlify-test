{"componentChunkName":"component---src-templates-post-js","path":"/mistake/","result":{"data":{"wordpressPost":{"id":"eb4feabc-c6f5-5177-90da-1d41b5be775c","title":"WordPressカスタマイズ案件での失敗3つと配慮したいこと1つ","slug":"mistake","content":"<p>これまで約300件のWordPress案件を対応してきました。そのほとんどが既存テーマを書き換える「カスタマイズ」案件です。ビビリなので石橋を叩きつつ対応するのですが、失敗がゼロというわけにはいきませんでした。</p>\n<p>数多くのWordPress案件を対応しているわたしが「やってしまった」失敗を共有するので、読んだ方は同じような失敗をしないように気をつけてください（泣）</p>\n<div class=\"chat\"><figure class=\"chat-img\"><img src=\"https://haniwaman.com/wp-content/themes/hpcode/img/haniwa.png\" alt=\"\"><figcaption>はにわまん</figcaption></figure><div class=\"chat-content\">WordPressは世間で言われているほど「誰でも簡単に扱える」ってシステムではない気がします...</div></div>\n<div id=\"toc_container\" class=\"no_bullets\"><p class=\"toc_title\">目次</p><ul class=\"toc_list\"><li><a href=\"#WordPress\"><span class=\"toc_number toc_depth_1\">1</span> WordPress案件での失敗</a><ul><li><a href=\"#i\"><span class=\"toc_number toc_depth_2\">1.1</span> 事例：テーマの更新でカスタマイズ箇所が消える</a></li><li><a href=\"#i-2\"><span class=\"toc_number toc_depth_2\">1.2</span> 事例：管理画面からのテーマ更新で中身が消える</a></li><li><a href=\"#i-3\"><span class=\"toc_number toc_depth_2\">1.3</span> 事例：テーマによってはカスタマイズが大変すぎる</a></li></ul></li><li><a href=\"#i-4\"><span class=\"toc_number toc_depth_1\">2</span> 気をつけたいこと</a><ul><li><a href=\"#i-5\"><span class=\"toc_number toc_depth_2\">2.1</span> キャッシュ削除の手間を減らす</a></li></ul></li><li><a href=\"#i-6\"><span class=\"toc_number toc_depth_1\">3</span> おわり</a></li></ul></div>\n<h2><span id=\"WordPress\">WordPress案件での失敗</span></h2>\n<p>WordPress案件で実際にわたしが失敗してきたことです&#8230;。対処方法も書いているので、同様の失敗をしないようにご注意ください&#8230;</p>\n<h3><span id=\"i\">事例：テーマの更新でカスタマイズ箇所が消える</span></h3>\n<p>WordPressのテーマに、更新通知が入るような仕組みのテーマが使われてる場合は、安易にテーマを直接修正してはいけません。なぜなら、更新ボタンをポチッと押した瞬間に、<strong class=\"marker\">対応したカスタマイズ内容が上書きされて消えてしまう</strong>からですね。</p>\n<p>カスタマイズの知識はあったけど、まだこういった仕事としてのやり方を知らなかったわたしは、とりあえず使われているテーマに直接書きまくっていました。</p>\n<p>すると、数カ月後に「<strong>以前にカスタマイズしてもらった箇所が元に戻りました</strong>」というメッセージが何件も届くように&#8230;、泣きながら同じ修正をするということをやっていました。</p>\n<h4>回避策：子テーマを作って書く</h4>\n<p>更新される対象となるテーマにはコードを書いてはいけません。いずれ全部消える運命にあります。</p>\n<p>WordPressには、こういったトラブルを防ぐために「子テーマ」という仕組みがあります。親テーマのデザインや仕組みを受け継ぎつつ、上乗せするために作るテーマですね。</p>\n<p><strong class=\"marker\">カスタマイズする際は更新される心配のない「子テーマ」に書くようにした方がいい</strong>かもしれません。\t</p>\n<blockquote class=\"wp-embedded-content\" data-secret=\"1J9xBir7C9\"><p><a href=\"https://haniwaman.com/theme-child/\">子テーマの作り方と親テーマのテンプレートファイルとの関係</a></p></blockquote>\n<p><iframe title=\"&#8220;子テーマの作り方と親テーマのテンプレートファイルとの関係&#8221; &#8212; HPcode\" class=\"wp-embedded-content\" sandbox=\"allow-scripts\" security=\"restricted\" style=\"position: absolute; clip: rect(1px, 1px, 1px, 1px);\" src=\"https://haniwaman.com/theme-child/embed/#?secret=1J9xBir7C9\" data-secret=\"1J9xBir7C9\" width=\"500\" height=\"282\" frameborder=\"0\" marginwidth=\"0\" marginheight=\"0\" scrolling=\"no\"></iframe></p>\n<h3><span id=\"i-2\">事例：管理画面からのテーマ更新で中身が消える</span></h3>\n<p>いつものように管理画面からテーマファイルを修正していたある日。「更新ボタン」ポチッ。リロードっぽい動きがあり画面が戻ってくると、、、<span class=\"font-l\">中身がない！</span></p>\n<p>あれ？と思ってもう一回リロードしてもやっぱり空。（この辺で血の気が引けてくる）</p>\n<p>戻るボタンで戻っても空のまま。</p>\n<p>結局、原因は分かっていませんが、、もう2度と管理画面からテーマの更新はしないでおこうと決めた瞬間でした。</p>\n<h4>回避策：FTP情報をもらう</h4>\n<p>管理画面で何かトラブルが起こった時（例えば画面が真っ白）に、管理画面にアクセスする情報しかもらっていないと、もう「詰み」です。これ以上どうすることもできません。</p>\n<p>WordPress案件は基本的にはサーバーサイドにあるPHPファイルを修正することがメインの仕事となるので、自然の流れとしてFTP情報は受け取れると思います。</p>\n<p>テーマファイルの修正を管理画面から行うのは極力はおすすめしません。<br />\n（わたしにトラウマがあるだけですが&#8230;笑）</p>\n<blockquote class=\"wp-embedded-content\" data-secret=\"8WIN6HLOEF\"><p><a href=\"https://haniwaman.com/wordpress-info/\">WordPress案件でクライアントから必要な２つの情報</a></p></blockquote>\n<p><iframe title=\"&#8220;WordPress案件でクライアントから必要な２つの情報&#8221; &#8212; HPcode\" class=\"wp-embedded-content\" sandbox=\"allow-scripts\" security=\"restricted\" style=\"position: absolute; clip: rect(1px, 1px, 1px, 1px);\" src=\"https://haniwaman.com/wordpress-info/embed/#?secret=8WIN6HLOEF\" data-secret=\"8WIN6HLOEF\" width=\"500\" height=\"282\" frameborder=\"0\" marginwidth=\"0\" marginheight=\"0\" scrolling=\"no\"></iframe></p>\n<h3><span id=\"i-3\">事例：テーマによってはカスタマイズが大変すぎる</span></h3>\n<p>カスタマイズ案件を大量に受けてきて身にしみているのは、<strong class=\"marker\">カスタマイズの大変さは基本的にはテーマに依存する</strong>ということです。過去にメインで活動していたココナラのサービス紹介ページの一部を抜粋しました。</p>\n<blockquote><p>【※できないこと】<br />\n・高度な画像の加工や作成<br />\n・WordPress.com（インストール型でないWordPress）のカスタマイズ<br />\n・functions.phpのカスタマイズが必要となる修正（※ FTP情報をご連携いただけたら可能）<br />\n・海外テーマ、AFFINGER、TCDテーマのカスタマイズ</p>\n<p><a href=\"https://coconala.com/services/161710\" rel=\"noopener\" target=\"_blank\">https://coconala.com/services/161710</a></p></blockquote>\n<p>過去の経験などから判断して、対応できないテーマとしてあらかじめ追記していきました。これらのテーマをざっくりとまとめると「<strong class=\"marker\">癖が強い</strong>」ということがあるかと思います。<br />\n※ TCDに関しては一応規約を守る意味も含まれます</p>\n<p>テーマに依存して作られているWordPressサイトだと、テンプレートをちょこちょこ直すだけでなく、テーマの仕様をまず理解しなければなりません。</p>\n<p>あとは、ページビルダーでゴリゴリ作られているWordPressサイトも見積もりを高めにした方がいいかもしれません。解読が大変かつ更新するのが怖い&#8230;っていう2面があります。</p>\n<h4>回避策：該当ページと管理画面を事前に見る</h4>\n<p>こういうのは実際に管理画面を見てみるのがいいかもしれません。対象となる該当ページがどうやって作られているかが分かれば、正確に見積もりできるはずです。</p>\n<p>例えば、トップページがテンプレートや固定ページではなく、テーマのオプション機能やカスタマイザーだけで作られていることがあったりします。</p>\n<p>テーマ独自の仕様の理解が必須になるテーマについてはそもそも断ってもいいかもしれませんし、見積もりをいつもよりも高めに設定すると、精神的な安息を得られるかと思います。</p>\n<h2><span id=\"i-4\">気をつけたいこと</span></h2>\n<p>失敗ではないですが、余計なやり取りを減らすためにも「キャッシュの削除」問題でできることはWordPress側でも行っておくとスムーズに進められるはずです。</p>\n<h3><span id=\"i-5\">キャッシュ削除の手間を減らす</span></h3>\n<p>認識違いの大きな要因となるのが、修正後の画面がキャッシュが原因で反映されていないことです。</p>\n<p>たぶんわたしの文面の中で一番多いのが「※ CSSを修正しておりますので、キャッシュを削除してご確認いただけますと幸いです」だと思います。</p>\n<p>基本的にはブラウザに残るものなので、先方にお願いすることになりますが、一応こちら側でもできることはあります。面倒なやり取りをなくすためにも、以下の対応はしておくといいかもしれません。</p>\n<blockquote class=\"wp-embedded-content\" data-secret=\"fz0qveH2tX\"><p><a href=\"https://haniwaman.com/cache-delete/\">「キャッシュの削除お願いします」をなくせ！強制的にCSSのキャッシュを無効化する２つの方法</a></p></blockquote>\n<p><iframe title=\"&#8220;「キャッシュの削除お願いします」をなくせ！強制的にCSSのキャッシュを無効化する２つの方法&#8221; &#8212; HPcode\" class=\"wp-embedded-content\" sandbox=\"allow-scripts\" security=\"restricted\" style=\"position: absolute; clip: rect(1px, 1px, 1px, 1px);\" src=\"https://haniwaman.com/cache-delete/embed/#?secret=fz0qveH2tX\" data-secret=\"fz0qveH2tX\" width=\"500\" height=\"282\" frameborder=\"0\" marginwidth=\"0\" marginheight=\"0\" scrolling=\"no\"></iframe></p>\n<h2><span id=\"i-6\">おわり</span></h2><div class=\"matome\"><div class=\"matome-img\"><img src=\"https://haniwaman.com/wp-content/themes/hpcode/img/haniwa.png\" alt=\"\"></div><div class=\"matome-twitter\"><a href=\"https://twitter.com/haniwa008?ref_src=twsrc%5Etfw\" class=\"twitter-follow-button\" data-show-screen-name=\"false\" data-size=\"large\" data-lang=\"ja\" data-show-count=\"true\">Follow @haniwa008</a><script async src=\"https://platform.twitter.com/widgets.js\" charset=\"utf-8\"></script></div></div><!-- /matome -->\n<p>WordPressカスタマイズ案件での失敗（気をつけたいこと）について、実例を交えて紹介しました。</p>\n<p>「管理画面からテーマ更新で消える」とか自分だけの事象かもしれませんが&#8230;笑</p>\n<p>キャッシュの削除については、CSSやJSファイルを修正するたびに、ぜひやってみてください！</p>\n","date":"February 14, 2019","categories":[{"name":"WordPress","slug":"wordpress"}],"tags":null,"author":{"name":"はにわまん","slug":"haniwaman"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"id":"eb4feabc-c6f5-5177-90da-1d41b5be775c"}}}