{"componentChunkName":"component---src-templates-post-js","path":"/background-skew/","result":{"data":{"wordpressPost":{"id":"dba17e9c-b3ee-5a9b-a0c0-f968d7be8e4c","title":"斜めの背景を作るためのCSSは「回転させて元に戻す」で書く！","slug":"background-skew","content":"<p>斜めの背景を作るためのCSSの書き方です。<strong class=\"marker\">要素全体を傾けて中の要素で元に戻す</strong>という無理やりぎみな方法となります。</p>\n<p>たぶん、はじめて斜めの背景を作る時に困ると思います。わたしの場合、斜めで背景を再現しようと思った時に3パターンほど思いついて試したのですが、最終的に一番扱いやすかったのが、「要素全体を傾けて中の要素で元に戻す」でした笑</p>\n<p>他に試した2つのNG例とともに紹介していきます。<br />\nもし「もっといいやり方があるよ！」って方がいたら、こっそりと教えてください。</p>\n<div class=\"chat\"><figure class=\"chat-img\"><img src=\"https://haniwaman.com/wp-content/themes/hpcode/img/haniwa.png\" alt=\"\"><figcaption>はにわまん</figcaption></figure><div class=\"chat-content\">斜めの背景ってなんかカッコいいですね。</div></div>\n<div id=\"toc_container\" class=\"no_bullets\"><p class=\"toc_title\">目次</p><ul class=\"toc_list\"><li><a href=\"#CSS\"><span class=\"toc_number toc_depth_1\">1</span> 斜めの背景を作るためのCSSの書き方</a><ul><li><a href=\"#i\"><span class=\"toc_number toc_depth_2\">1.1</span> 要素全体をガタッと傾ける</a></li><li><a href=\"#i-2\"><span class=\"toc_number toc_depth_2\">1.2</span> はみ出る部分を非表示にする</a></li></ul></li><li><a href=\"#i-3\"><span class=\"toc_number toc_depth_1\">2</span> 斜め背景の作り方でダメな例</a><ul><li><a href=\"#i-4\"><span class=\"toc_number toc_depth_2\">2.1</span> 画像で覆うと背景じゃなくなるパターン</a></li><li><a href=\"#i-5\"><span class=\"toc_number toc_depth_2\">2.2</span> 斜めがギザギザになるパターン</a></li></ul></li><li><a href=\"#i-6\"><span class=\"toc_number toc_depth_1\">3</span> おわり</a></li></ul></div>\n<h2><span id=\"CSS\">斜めの背景を作るためのCSSの書き方</span></h2>\n<p>斜めの背景を作るためのCSSの書き方です。要素全体をガタッと傾けて、中の文字を覆う要素は傾きを戻し、傾けた部分がはみ出ないように<code>overflow-x: hidden;</code>といったイメージになります。</p>\n<h3><span id=\"i\">要素全体をガタッと傾ける</span></h3>\n<p>外側を覆っている要素をガッタと傾けます。ただ、傾けると左右に空白が生まれて背景っぽくなくなってしまうので、<strong class=\"marker\">ウインドウサイズからはみ出来るくらいのサイズ</strong>を指定してあげてください。</p>\n<p>幅がはみ出ているため、水平スクロールが発生してしまいます・・・。<br />\n<img src=\"https://haniwaman.com/wp-content/uploads/2018/12/background-skew.gif\" alt=\"\" class=\"alignnone size-medium wp-image-11706\" /></p>\n<pre><span class=\"code-copy\" data-clipboard-target=\"#code-0\">コピー</span><code id=\"code-0\" class=\"html\">&lt;!-- section1 --&gt;\r\n&lt;section id=\"section1\" class=\"section\"&gt;\r\n&lt;div class=\"inner\"&gt;\r\n&lt;h2&gt;セクション1&lt;/h2&gt;\r\n&lt;p&gt;コンテンツです。コンテンツです。コンテンツです。コンテンツです。コンテンツです。コンテンツです。コンテンツです。コンテンツです。コンテンツです。&lt;/p&gt;\r\n&lt;/div&gt;&lt;!-- /inner --&gt;\r\n&lt;/section&gt;&lt;!-- /section1 --&gt;</code></pre>\n<pre><span class=\"code-copy\" data-clipboard-target=\"#code-1\">コピー</span><code id=\"code-1\" class=\"css\">.section {\r\n\t-webkit-transform: rotate(5deg) translate3d(0, 0, 0);\r\n\tbackground: #313131;\r\n\tmargin-left: -25%;\r\n\tpadding: 0 25%;\r\n\tposition: relative;\r\n\ttransform: rotate(5deg) translate3d(0, 0, 0);\r\n\twidth: 150%;\r\n}\r\n\r\n.section .inner {\r\n\t-webkit-transform: rotate(-5deg) translate3d(0, 0, 0);\r\n\tcolor: #fff;\r\n\tmargin: 0 auto;\r\n\tmax-width: 100%;\r\n\tpadding: 18px 30px 78px;\r\n\ttransform: rotate(-5deg) translate3d(0, 0, 0);\r\n\twidth: 820px;\r\n}\r\n\r\n#section1 {\r\n\tbackground: #1a237e;\r\n}</code></pre>\n<p><code>.section</code>の<code>transform: rotate(5deg);</code>で傾けて、小要素の<code>.inner</code>の<code>transform: rotate(-5deg);</code>で元に戻しています。</p>\n<p><strong class=\"marker\"><span class=\"font-l\">傾けて戻す！</span></strong>は回転系のコンテンツだとよく使う書き方です。</p>\n<h3><span id=\"i-2\">はみ出る部分を非表示にする</span></h3>\n<p>はみ出ないようにするためには、<code>.section</code>をまとめた親要素から<code>overflow-x: hidden;</code>してあげればOKです。</p>\n<p>極端な例だと<code>body</code>に<code>overflow-x: hidden;</code>でもいいのかなって気がしています。あまりカッコよくないですが、背景を斜めにするコーディングの場合はいいのかなと。</p>\n<pre><span class=\"code-copy\" data-clipboard-target=\"#code-2\">コピー</span><code id=\"code-2\" class=\"css\">body {\r\n\toverflow-x: hidden;\r\n}</code></pre>\n<p>こうして出来上がるのが以下のような背景コンテンツです！</p>\n<section id=\"section1\" class=\"section\" style=\"margin-top: 38px;\">\n<div class=\"inner\">\n<div style=\"font-weight: 700; font-size: 20px; margin-bottom: 12px;\">セクション1</div>\n<p>コンテンツです。コンテンツです。コンテンツです。コンテンツです。コンテンツです。コンテンツです。コンテンツです。コンテンツです。コンテンツです。</p>\n</div>\n</section>\n<h2><span id=\"i-3\">斜め背景の作り方でダメな例</span></h2>\n<p>斜め背景の作り方でボツにしたパターンを紹介します。この記事を読んだ方は同じ作業をして時間を無駄にしないようにしましょう笑</p>\n<h3><span id=\"i-4\">画像で覆うと背景じゃなくなるパターン</span></h3>\n<p>「斜め（三角）の白画像で覆ってしまえば楽じゃね？」って思った時がありました。実際に斜めにはなりますが、<strong class=\"marker\">斜めの部分が背景じゃなくなる</strong>という問題が起こります。</p>\n<p><img src=\"https://haniwaman.com/wp-content/uploads/2018/12/background-skew2-700x519.png\" alt=\"\" class=\"alignnone size-medium wp-image-11716\" srcset=\"https://haniwaman.com/wp-content/uploads/2018/12/background-skew2-700x519.png 700w, https://haniwaman.com/wp-content/uploads/2018/12/background-skew2-768x570.png 768w, https://haniwaman.com/wp-content/uploads/2018/12/background-skew2.png 887w\" sizes=\"(max-width: 700px) 100vw, 700px\" /></p>\n<p>この画像が<strong class=\"marker\">最背面なら問題ない</strong>ですが、もしも斜めの部分にさらに後ろの背景や要素を出したいってなった時に困ってしまいます。</p>\n<p>画像を斜めにする場合も<strong class=\"marker\">回転を使うか、斜めにトリミングした画像をあらかじめ作成しておく</strong>かの作り方になるかと思います。</p>\n<h3><span id=\"i-5\">斜めがギザギザになるパターン</span></h3>\n<p>「<code>linear-gradient</code>で斜めにできるぞ！」と思いつく方もいるかと思います。ただ、この書き方は、<strong class=\"marker\">斜め部分がギザギザ</strong>になってしまいます（泣）</p>\n<p>実際に作ったものはこんな感じです。<br />\n<img src=\"https://haniwaman.com/wp-content/uploads/2018/12/background-skew-700x251.png\" alt=\"\" class=\"alignnone size-medium wp-image-11714\" srcset=\"https://haniwaman.com/wp-content/uploads/2018/12/background-skew-700x251.png 700w, https://haniwaman.com/wp-content/uploads/2018/12/background-skew-768x275.png 768w, https://haniwaman.com/wp-content/uploads/2018/12/background-skew-1200x430.png 1200w, https://haniwaman.com/wp-content/uploads/2018/12/background-skew.png 1598w\" sizes=\"(max-width: 700px) 100vw, 700px\" /></p>\n<p>この状態でクライアントには出せませんね。。自分も回転させるより背景っぽい作りができそう！と思い、こちらを真っ先に作ってみたのですが、<code>linear-gradient</code>でのギザギザの解消法がいまいち見つからず断念しました・・・。</p>\n<p>ちなみに、以下のように記載すると上記の画像のような斜めにはできます。</p>\n<pre><span class=\"code-copy\" data-clipboard-target=\"#code-3\">コピー</span><code id=\"code-3\" class=\"css\">.section {\r\n\tbackground: #1a237e;\r\n\tposition: relative;\r\n}\r\n\r\n.section .inner {\r\n\tcolor: #fff;\r\n\tmargin: 0 auto;\r\n\tmax-width: 100%;\r\n\tpadding: 0 30px 22px;\r\n\twidth: 820px;\r\n}\r\n\r\n.section::before {\r\n\tbackground: linear-gradient(to top right, #1a237e 0%, #1a237e 50%, transparent 50%, transparent 100%);\r\n\tcontent: \"\";\r\n\tdisplay: block;\r\n\theight: 50px;\r\n\tleft: 0;\r\n\tposition: absolute;\r\n\ttop: -50px;\r\n\twidth: 100%;\r\n}\r\n\r\n.section::after {\r\n\tbackground: linear-gradient(to bottom left, #1a237e 0%, #1a237e 50%, transparent 50%, transparent 100%);\r\n\tbottom: -50px;\r\n\tcontent: \"\";\r\n\tdisplay: block;\r\n\theight: 50px;\r\n\tleft: 0;\r\n\tposition: absolute;\r\n\twidth: 100%;\r\n}</code></pre>\n<h2><span id=\"i-6\">おわり</span></h2><div class=\"matome\"><div class=\"matome-img\"><img src=\"https://haniwaman.com/wp-content/themes/hpcode/img/haniwa.png\" alt=\"\"></div><div class=\"matome-twitter\"><a href=\"https://twitter.com/haniwa008?ref_src=twsrc%5Etfw\" class=\"twitter-follow-button\" data-show-screen-name=\"false\" data-size=\"large\" data-lang=\"ja\" data-show-count=\"true\">Follow @haniwa008</a><script async src=\"https://platform.twitter.com/widgets.js\" charset=\"utf-8\"></script></div></div><!-- /matome -->\n<p>斜めの背景を作るためのCSSの書き方と、ダメな例の紹介でした。</p>\n<p><strong class=\"marker\">親要素を回転して小要素で元に戻す</strong>という書き方が自分の中では一番使いやすかったです。必ずしも最背面で使うとは限らないので、斜め部分も透過した状態で作っておきたいなと思います。</p>\n","date":"December 24, 2018","categories":[{"name":"CSS","slug":"css"}],"tags":null,"author":{"name":"はにわまん","slug":"haniwaman"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"id":"dba17e9c-b3ee-5a9b-a0c0-f968d7be8e4c"}}}