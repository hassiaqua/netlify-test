{"componentChunkName":"component---src-templates-post-js","path":"/hatena-to-wordpress/","result":{"data":{"wordpressPost":{"id":"f79e47d9-6cfb-56e3-bd35-eb9e92928f57","title":"無料はてなブログからWordPressに移行（引っ越し）する手順","slug":"hatena-to-wordpress","content":"<p>無料はてなブログからWordPressに移行（引っ越し）する手順です。画像を取得する機能がないので抜き出す必要があることと、転送機能がないのでJavaScriptで行わないといけないので、ちょっと苦労するポイントでしょうか。</p>\n<p>WordPressがはじめての方にとってはめちゃくちゃ難しいかもしれませんが、手順に進めていけばできるかと思います。</p>\n<p><strong>※ なにか不具合が生じても一切の責任を負いません。自己責任で行うようにお願いいたします。</strong></p>\n<div class=\"chat\"><figure class=\"chat-img\"><img src=\"https://haniwaman.com/wp-content/themes/hpcode/img/haniwa.png\" alt=\"\"><figcaption>はにわまん</figcaption></figure><div class=\"chat-content\">はてなブログからWordPresへ移行する方法です！</div></div>\n<div id=\"toc_container\" class=\"no_bullets\"><p class=\"toc_title\">目次</p><ul class=\"toc_list\"><li><a href=\"#i\"><span class=\"toc_number toc_depth_1\">1</span> はてなブログのデータを抽出する</a><ul><li><a href=\"#i-2\"><span class=\"toc_number toc_depth_2\">1.1</span> はてなブログの記事をエクスポート</a></li><li><a href=\"#i-3\"><span class=\"toc_number toc_depth_2\">1.2</span> はてなブログの画像を一括保存</a></li></ul></li><li><a href=\"#WordPress\"><span class=\"toc_number toc_depth_1\">2</span> WordPressへ記事をインポート</a><ul><li><a href=\"#Movable_Type\"><span class=\"toc_number toc_depth_2\">2.1</span> Movable Typeインポートツールをインストール</a></li><li><a href=\"#WordPress-2\"><span class=\"toc_number toc_depth_2\">2.2</span> はてなブログの記事をWordPressへ読み込む</a></li></ul></li><li><a href=\"#WordPress-3\"><span class=\"toc_number toc_depth_1\">3</span> はてなブログの画像をWordPressに移す</a><ul><li><a href=\"#WordPress-4\"><span class=\"toc_number toc_depth_2\">3.1</span> はてなブログの画像をWordPressのサーバーへ格納</a></li><li><a href=\"#i-4\"><span class=\"toc_number toc_depth_2\">3.2</span> 画像パスの変更</a></li><li><a href=\"#i-5\"><span class=\"toc_number toc_depth_2\">3.3</span> 内部リンクの変更</a></li><li><a href=\"#301\"><span class=\"toc_number toc_depth_2\">3.4</span> 301リダイレクト</a></li></ul></li><li><a href=\"#i-6\"><span class=\"toc_number toc_depth_1\">4</span> おわり</a></li></ul></div>\n<h2><span id=\"i\">はてなブログのデータを抽出する</span></h2>\n<p>はてなブログから「記事」と「画像」のデータを抜き出していきます。</p>\n<h3><span id=\"i-2\">はてなブログの記事をエクスポート</span></h3>\n<p>設定 → 詳細設定<br />\n<img src=\"https://haniwaman.com/wp-content/uploads/2018/06/freeblog-to-wordpress_h1-700x473.png\" alt=\"\" class=\"alignnone size-medium wp-image-7104\" srcset=\"https://haniwaman.com/wp-content/uploads/2018/06/freeblog-to-wordpress_h1-700x473.png 700w, https://haniwaman.com/wp-content/uploads/2018/06/freeblog-to-wordpress_h1-768x519.png 768w, https://haniwaman.com/wp-content/uploads/2018/06/freeblog-to-wordpress_h1.png 1116w\" sizes=\"(max-width: 700px) 100vw, 700px\" /></p>\n<p>エクスポートの「記事のバックアップと製本サービス」をクリック。<br />\n<img src=\"https://haniwaman.com/wp-content/uploads/2018/06/freeblog-to-wordpress_h2-700x464.png\" alt=\"\" class=\"alignnone size-medium wp-image-7105\" srcset=\"https://haniwaman.com/wp-content/uploads/2018/06/freeblog-to-wordpress_h2-700x464.png 700w, https://haniwaman.com/wp-content/uploads/2018/06/freeblog-to-wordpress_h2.png 711w\" sizes=\"(max-width: 700px) 100vw, 700px\" /></p>\n<p>「〇〇をエクスポートする」ボタンをクリック。<br />\n<img src=\"https://haniwaman.com/wp-content/uploads/2018/06/freeblog-to-wordpress_h3-700x192.png\" alt=\"\" class=\"alignnone size-medium wp-image-7106\" srcset=\"https://haniwaman.com/wp-content/uploads/2018/06/freeblog-to-wordpress_h3-700x192.png 700w, https://haniwaman.com/wp-content/uploads/2018/06/freeblog-to-wordpress_h3-768x210.png 768w, https://haniwaman.com/wp-content/uploads/2018/06/freeblog-to-wordpress_h3.png 781w\" sizes=\"(max-width: 700px) 100vw, 700px\" /></p>\n<p>「ダウンロードする」ボタンからテキスト（txt）ファイルダウンロードしてください。<br />\n<img src=\"https://haniwaman.com/wp-content/uploads/2018/06/freeblog-to-wordpress_h4-700x270.png\" alt=\"\" class=\"alignnone size-medium wp-image-7107\" srcset=\"https://haniwaman.com/wp-content/uploads/2018/06/freeblog-to-wordpress_h4-700x270.png 700w, https://haniwaman.com/wp-content/uploads/2018/06/freeblog-to-wordpress_h4-768x296.png 768w, https://haniwaman.com/wp-content/uploads/2018/06/freeblog-to-wordpress_h4.png 771w\" sizes=\"(max-width: 700px) 100vw, 700px\" /></p>\n<p>テキストファイルがダウンロードされました！<br />\n<img src=\"https://haniwaman.com/wp-content/uploads/2018/06/freeblog-to-wordpress_h5.png\" alt=\"\" class=\"alignnone size-full wp-image-7109\" /></p>\n<h3 id=\"hatena-img\"><span id=\"i-3\">はてなブログの画像を一括保存</span></h3>\n<p><a href=\"https://haniwaman.com/site-img-download/\"><img src=\"https://haniwaman.com/wp-content/uploads/2018/06/site-img-download-1-700x385.png\" alt=\"\" class=\"alignnone size-medium wp-image-7031\" srcset=\"https://haniwaman.com/wp-content/uploads/2018/06/site-img-download-1-700x385.png 700w, https://haniwaman.com/wp-content/uploads/2018/06/site-img-download-1-768x422.png 768w, https://haniwaman.com/wp-content/uploads/2018/06/site-img-download-1.png 1094w\" sizes=\"(max-width: 700px) 100vw, 700px\" /></a></p>\n<p>はてなブログには画像を抽出する機能はありません。1つ1つダウンロードしてくのは手間なので、スクレイピングツールなどを使って一括で抜き出すことをおすすめします。</p>\n<p>スクレイピングツールの使い方は以下で説明していますが、例がlivedoor Blogになっていますので、フィルダー部分だけはてなブログよりの解説を下記に加えてました。（ベースか以下の記事を参考にしてください。）<br />\n→ <a href=\"https://haniwaman.com/site-img-download/\">サイトで使われているすべての画像を一括でダウンロードする方法</a></p>\n<h4>Frogから抽出した画像のフィルター条件</h4>\n<p>上記の「一括でダウンロードする方法」に補足として、はてなブログでの画像を抽出するフィルター条件についてです。</p>\n<p>はてなブログで使われている画像の特徴としては、「fotolife」に格納されていることが挙げられます。条件としては「/images/fotolife/」が含まれているかどうかで絞り込むといいでしょう。<br />\n<img src=\"https://haniwaman.com/wp-content/uploads/2018/06/freeblog-to-wordpress_h6.png\" alt=\"\" class=\"alignnone size-full wp-image-7111\" /></p>\n<p><img src=\"https://haniwaman.com/wp-content/uploads/2018/06/freeblog-to-wordpress_h7-1-700x253.png\" alt=\"\" class=\"alignnone size-medium wp-image-7113\" srcset=\"https://haniwaman.com/wp-content/uploads/2018/06/freeblog-to-wordpress_h7-1-700x253.png 700w, https://haniwaman.com/wp-content/uploads/2018/06/freeblog-to-wordpress_h7-1-768x278.png 768w, https://haniwaman.com/wp-content/uploads/2018/06/freeblog-to-wordpress_h7-1.png 1077w\" sizes=\"(max-width: 700px) 100vw, 700px\" /></p>\n<h2><span id=\"WordPress\">WordPressへ記事をインポート</span></h2>\n<h3><span id=\"Movable_Type\">Movable Typeインポートツールをインストール</span></h3>\n<p>ツール → インポート → Movable Type と TypePad「今すぐインストール」<br />\n<img src=\"https://haniwaman.com/wp-content/uploads/2018/06/freeblog-to-wordpress6-700x372.png\" alt=\"\" class=\"alignnone size-medium wp-image-6866\" srcset=\"https://haniwaman.com/wp-content/uploads/2018/06/freeblog-to-wordpress6-700x372.png 700w, https://haniwaman.com/wp-content/uploads/2018/06/freeblog-to-wordpress6-768x408.png 768w, https://haniwaman.com/wp-content/uploads/2018/06/freeblog-to-wordpress6-1200x638.png 1200w, https://haniwaman.com/wp-content/uploads/2018/06/freeblog-to-wordpress6.png 1404w\" sizes=\"(max-width: 700px) 100vw, 700px\" /></p>\n<h3><span id=\"WordPress-2\">はてなブログの記事をWordPressへ読み込む</span></h3>\n<p>ツール → インポート → Movable Type と TypePad「インポーターの実行」<br />\n<img src=\"https://haniwaman.com/wp-content/uploads/2018/06/freeblog-to-wordpress11-700x369.png\" alt=\"\" class=\"alignnone size-medium wp-image-6927\" srcset=\"https://haniwaman.com/wp-content/uploads/2018/06/freeblog-to-wordpress11-700x369.png 700w, https://haniwaman.com/wp-content/uploads/2018/06/freeblog-to-wordpress11-768x405.png 768w, https://haniwaman.com/wp-content/uploads/2018/06/freeblog-to-wordpress11-1200x633.png 1200w, https://haniwaman.com/wp-content/uploads/2018/06/freeblog-to-wordpress11.png 1423w\" sizes=\"(max-width: 700px) 100vw, 700px\" /></p>\n<p>エクスポートしたファイルを選択して、「ファイルをアップロードしてインポート」<br />\n<img src=\"https://haniwaman.com/wp-content/uploads/2018/06/freeblog-to-wordpress_h8-700x221.png\" alt=\"\" class=\"alignnone size-medium wp-image-7117\" srcset=\"https://haniwaman.com/wp-content/uploads/2018/06/freeblog-to-wordpress_h8-700x221.png 700w, https://haniwaman.com/wp-content/uploads/2018/06/freeblog-to-wordpress_h8-768x242.png 768w, https://haniwaman.com/wp-content/uploads/2018/06/freeblog-to-wordpress_h8.png 1028w\" sizes=\"(max-width: 700px) 100vw, 700px\" /></p>\n<p>ユーザー管理をシンプルにするために既存のユーザーに割り当てることをおすすめします。<br />\n<img src=\"https://haniwaman.com/wp-content/uploads/2018/06/freeblog-to-wordpress9-700x406.png\" alt=\"\" class=\"alignnone size-medium wp-image-6955\" srcset=\"https://haniwaman.com/wp-content/uploads/2018/06/freeblog-to-wordpress9-700x406.png 700w, https://haniwaman.com/wp-content/uploads/2018/06/freeblog-to-wordpress9-768x445.png 768w, https://haniwaman.com/wp-content/uploads/2018/06/freeblog-to-wordpress9.png 826w\" sizes=\"(max-width: 700px) 100vw, 700px\" /></p>\n<p>投稿 → 投稿一覧 に記事が反映されていればインポート完了です！</p>\n<h2><span id=\"WordPress-3\">はてなブログの画像をWordPressに移す</span></h2>\n<h3><span id=\"WordPress-4\">はてなブログの画像をWordPressのサーバーへ格納</span></h3>\n<p>はてなブログの画のすべてを、WordPrssのサーバーに格納します。場所は、<span class=\"folder\">/wp-content/uploads/img/</span>にします。imgフォルダは存在しないので作ってください。<br />\n<img src=\"https://haniwaman.com/wp-content/uploads/2018/06/freeblog-to-wordpress16.png\" alt=\"\" class=\"alignnone size-full wp-image-6934\" /></p>\n<p>「<a href=\"#hatena-img\">はてなブログの画像を一括保存</a>」にて保存した画像をすべて上記のフォルダに格納しましょう。<br />\n<img src=\"https://haniwaman.com/wp-content/uploads/2018/06/freeblog-to-wordpress-l8-700x220.png\" alt=\"\" class=\"alignnone size-medium wp-image-7075\" srcset=\"https://haniwaman.com/wp-content/uploads/2018/06/freeblog-to-wordpress-l8-700x220.png 700w, https://haniwaman.com/wp-content/uploads/2018/06/freeblog-to-wordpress-l8-768x241.png 768w, https://haniwaman.com/wp-content/uploads/2018/06/freeblog-to-wordpress-l8-1200x377.png 1200w, https://haniwaman.com/wp-content/uploads/2018/06/freeblog-to-wordpress-l8.png 1809w\" sizes=\"(max-width: 700px) 100vw, 700px\" /></p>\n<h3><span id=\"i-4\">画像パスの変更</span></h3>\n<p>記事内の画像パスははてなブログの方を参照している状態です。これをWordPressに格納した画像を参照するように変更しないといけません。</p>\n<p>1つ1つを手で変更するのは手間なので、プラグイン「Search Regex」を使って一括置換していきます。</p>\n<h4>「Search Regex」のインストール</h4>\n<p>プラグイン → 新規追加 → キーワード「Search Regex」 → 今すぐインストール<br />\n<img src=\"https://haniwaman.com/wp-content/uploads/2018/06/freeblog-to-wordpress12-700x227.png\" alt=\"\" class=\"alignnone size-medium wp-image-6929\" srcset=\"https://haniwaman.com/wp-content/uploads/2018/06/freeblog-to-wordpress12-700x227.png 700w, https://haniwaman.com/wp-content/uploads/2018/06/freeblog-to-wordpress12-768x249.png 768w, https://haniwaman.com/wp-content/uploads/2018/06/freeblog-to-wordpress12-1200x389.png 1200w, https://haniwaman.com/wp-content/uploads/2018/06/freeblog-to-wordpress12.png 1944w\" sizes=\"(max-width: 700px) 100vw, 700px\" /></p>\n<p>有効化してください。<br />\n<img src=\"https://haniwaman.com/wp-content/uploads/2018/06/freeblog-to-wordpress13-700x299.png\" width=\"400\" alt=\"\" class=\"alignnone size-medium wp-image-6930\" srcset=\"https://haniwaman.com/wp-content/uploads/2018/06/freeblog-to-wordpress13-700x299.png 700w, https://haniwaman.com/wp-content/uploads/2018/06/freeblog-to-wordpress13-768x329.png 768w, https://haniwaman.com/wp-content/uploads/2018/06/freeblog-to-wordpress13.png 977w\" sizes=\"(max-width: 700px) 100vw, 700px\" /></p>\n<h4>「Search Regex」で置換</h4>\n<p>ツール → Search Regex から、以下のようにはてなブログのパスをWordPressのパスに書き換えます。<br />\n<img src=\"https://haniwaman.com/wp-content/uploads/2018/06/freeblog-to-wordpress_h9-700x281.png\" alt=\"\" class=\"alignnone size-medium wp-image-7119\" srcset=\"https://haniwaman.com/wp-content/uploads/2018/06/freeblog-to-wordpress_h9-700x281.png 700w, https://haniwaman.com/wp-content/uploads/2018/06/freeblog-to-wordpress_h9-768x308.png 768w, https://haniwaman.com/wp-content/uploads/2018/06/freeblog-to-wordpress_h9.png 1186w\" sizes=\"(max-width: 700px) 100vw, 700px\" /></p>\n<p><strong class=\"marker\">※ 必ず「Replace &amp; Save」する前に、「Replace」ボタンからどのように書き換わるのか確認するようにしましょう。</strong></p>\n<p>https://cdn-ak.f.st-hatena.com/images/fotolife/t/user/20180623/20180623002305.jpg<br />\n↓<br />\n/wp-content/uploads/img/20180623002305.jpg</p>\n<p>といった具合に書き換える処理になります。</p>\n<ul>\n<li>Search pattern →「<code>/http.*\\/images\\/fotolife\\/.*\\/(.*?)\\.(jpg|png|gif)/</code>」</li>\n<li>Replace pattern →「<code>/wp-content/uploads/img/$1.$2</code>」</li>\n<li>Regexにチェック</li>\n<li>「Replace」ボタンからどのように置換されるか確認</li>\n<li>「Replace &amp; Save」ボタンで置換して保存</li>\n</ul>\n<h3><span id=\"i-5\">内部リンクの変更</span></h3>\n<p>まだ記事内の内部リンクがはてなブログのままになっています。こちらも置換で書き換えていきましょう。</p>\n<p>こちらは一括置換ができません。検索して手動で地道に変更していく必要があります&#8230;。</p>\n<p>「https://[はてなID].hatenablog.com/」で検索してヒットする記事のリンクをWordPressの該当する記事URLに変更していってください。<br />\n<img src=\"https://haniwaman.com/wp-content/uploads/2018/06/freeblog-to-wordpress_h10-700x383.png\" alt=\"\" class=\"alignnone size-medium wp-image-7121\" srcset=\"https://haniwaman.com/wp-content/uploads/2018/06/freeblog-to-wordpress_h10-700x383.png 700w, https://haniwaman.com/wp-content/uploads/2018/06/freeblog-to-wordpress_h10-768x420.png 768w, https://haniwaman.com/wp-content/uploads/2018/06/freeblog-to-wordpress_h10-1200x656.png 1200w, https://haniwaman.com/wp-content/uploads/2018/06/freeblog-to-wordpress_h10.png 1383w\" sizes=\"(max-width: 700px) 100vw, 700px\" /></p>\n<h3><span id=\"301\">301リダイレクト</span></h3>\n<p>はてなブログには301リダイレクト機能がありません。ちょっと意外でした。はてなともあろう会社が。。</p>\n<p>はてなから引っ越しする方の多くはJavaScriptで無理やり転送処理をします。正規の方法ではありませんが、こちらでも大きくは問題がないようです。</p>\n<p>・・・の前にWordPressサイトのURL構造をはてなブログと合わせておきましょう。</p>\n<h4>パーマリンクの設定</h4>\n<p>パーマリンク構造をはてなブログのURL構造に合わせます。少し複雑に思うかもしれませんが、投稿日時を分解してURLにしている感じですね。</p>\n<p>設定 → パーマリンク設定 → カスタム構造 から</p>\n<p><code>/entry/%year%/%monthnum%/%day%/%hour%%minute%%second%</code></p>\n<p>と設定してあげてください。<br />\n<img src=\"https://haniwaman.com/wp-content/uploads/2018/06/freeblog-to-wordpress_h11-700x468.png\" alt=\"\" class=\"alignnone size-medium wp-image-7131\" srcset=\"https://haniwaman.com/wp-content/uploads/2018/06/freeblog-to-wordpress_h11-700x468.png 700w, https://haniwaman.com/wp-content/uploads/2018/06/freeblog-to-wordpress_h11-768x514.png 768w, https://haniwaman.com/wp-content/uploads/2018/06/freeblog-to-wordpress_h11.png 1160w\" sizes=\"(max-width: 700px) 100vw, 700px\" /></p>\n<h4>JavaScriptで転送</h4>\n<p>301リダイレクトがないので、仕方なくJavaScriptで転送させます。</p>\n<p>デザインをクリック。<br />\n<img src=\"https://haniwaman.com/wp-content/uploads/2018/06/freeblog-to-wordpress_h12.png\" alt=\"\" class=\"alignnone size-full wp-image-7134\" /></p>\n<p>「スパナ」のタブに移動し、「フッター」に転送するためのコードを記載しまｓ．<br />\n<img src=\"https://haniwaman.com/wp-content/uploads/2018/06/freeblog-to-wordpress_h14.png\" alt=\"\" class=\"alignnone size-full wp-image-7141\" /></p>\n<p>記載する内容は以下のとおり。</p>\n<pre><span class=\"code-copy\" data-clipboard-target=\"#code-0\">コピー</span><code id=\"code-0\" class=\"html\">&lt;script&gt;\r\n  var domain = \"[転送先のサイトのトップURL]\";\r\n  var path = location.pathname;\r\n  var url = domain + path;\r\n\r\n  location.href = url;\r\n&lt;/script&gt;</code></pre>\n<p>これではてなブログの全てのページが新しいサイトに転送されるようになります。はてなブログにアクセスして、正しく転送されているか確認するようにしてください。</p>\n<h2><span id=\"i-6\">おわり</span></h2><div class=\"matome\"><div class=\"matome-img\"><img src=\"https://haniwaman.com/wp-content/themes/hpcode/img/haniwa.png\" alt=\"\"></div><div class=\"matome-twitter\"><a href=\"https://twitter.com/haniwa008?ref_src=twsrc%5Etfw\" class=\"twitter-follow-button\" data-show-screen-name=\"false\" data-size=\"large\" data-lang=\"ja\" data-show-count=\"true\">Follow @haniwa008</a><script async src=\"https://platform.twitter.com/widgets.js\" charset=\"utf-8\"></script></div></div><!-- /matome -->\n<p>無料はてなブログからWordPressに移行（引っ越し）する手順でした。有料プランであらかじめ独自ドメインとして運営していれば、DNSの切り替えだけで済むので、少し手順が変わってきます（といってもJavaScriptでの転送がないくらいの差ですが&#8230;）</p>\n<p>記事書くだけなら無料ブログでもいいですが、機能を増やしたり柔軟なカスタマイズがしたくなってくるとどうしても窮屈に感じてしまいますね。WordPressは制限がありません。なにもかもが自由です。その自由を思う存分たのしんでください！</p>\n<p>※ もしご自身での引っ越しが難しいと感じた場合は、お気軽にご相談ください。代行も可能です！<br />\n→ <a href=\"https://haniwaman.com/lp/\" target=\"_blank\" onclick=\"gtag('event', 'link', {'event_category': 'click', 'event_label': 'hatena-to-wordpress_お問い合わせ_last'});\" rel=\"noopener noreferrer\">はてなブログからの引越しを相談する</a><br />\n（相談は無料です）</p>\n","date":"June 24, 2018","categories":[{"name":"サーバー","slug":"server"}],"tags":null,"author":{"name":"はにわまん","slug":"haniwaman"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"id":"f79e47d9-6cfb-56e3-bd35-eb9e92928f57"}}}