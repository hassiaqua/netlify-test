{"componentChunkName":"component---src-templates-post-js","path":"/basic-authentication/","result":{"data":{"wordpressPost":{"id":"3b874b22-f58f-52bb-aee4-0ef654b28984","title":"Basic認証の設定方法！「.htaccess」と「.htpasswd」の2ファイルを作成する","slug":"basic-authentication","content":"<p>Basic認証の設定方法の紹介です。</p>\n<p>Basic認証とは、サイトにアクセスした時に以下のようなポップアップが表示されて、閲覧できるユーザーを制限できる簡易的な仕組みなります。<br />\n<img width=\"480\" src=\"https://haniwaman.com/wp-content/uploads/2019/01/test-server.png\" alt=\"\" /></p>\n<p>公開前のサイトなどのまだ不特定多数からアクセスされたくないサイトで割と使われたりするので、扱えるようになっておくと損はないかと思います！</p>\n<div class=\"chat\"><figure class=\"chat-img\"><img src=\"https://haniwaman.com/wp-content/themes/hpcode/img/haniwa.png\" alt=\"\"><figcaption>はにわまん</figcaption></figure><div class=\"chat-content\">公開前のサイトで割とよく使われる印象です</div></div>\n<div id=\"toc_container\" class=\"no_bullets\"><p class=\"toc_title\">目次</p><ul class=\"toc_list\"><li><a href=\"#Basic\"><span class=\"toc_number toc_depth_1\">1</span> Basic認証の設定方法</a><ul><li><a href=\"#htaccess\"><span class=\"toc_number toc_depth_2\">1.1</span> .htaccessに書くこと</a></li><li><a href=\"#htpasswd\"><span class=\"toc_number toc_depth_2\">1.2</span> .htpasswdに書くこと</a></li></ul></li><li><a href=\"#i\"><span class=\"toc_number toc_depth_1\">2</span> レンタルサーバーからも設定可能</a></li><li><a href=\"#i-2\"><span class=\"toc_number toc_depth_1\">3</span> おわり</a></li></ul></div>\n<h2><span id=\"Basic\">Basic認証の設定方法</span></h2>\n<p>必要なファイルは2つあります。</p>\n<ul>\n<li><span class=\"filename\">.htaccess</span></li>\n<li><span class=\"filename\">.htpasswd</span></li>\n</ul>\n<h3><span id=\"htaccess\"><span class=\"filename\">.htaccess</span>に書くこと</span></h3>\n<p>「このフォルダ以下でBasic認証を使いますよ！」という記述を行います。該当のフォルダに<span class=\"filename\">.htaccess</span>がある場合は、その記述の続きに書いて、ない場合は新しく作成します。</p>\n<p>記載する内容は以下のとおりです。</p>\n<pre><span class=\"code-copy\" data-clipboard-target=\"#code-0\">コピー</span><code id=\"code-0\" class=\"apache\">AuthUserFile \"/home/hoge/www/.htpasswd\"\r\nAuthName \"Enter password\"\r\nAuthType BASIC\r\nrequire valid-user</code></pre>\n<p>それぞのれパラメータの意味は以下のとおりです。</p>\n<table class=\"table\">\n<tr>\n<th width=\"120\">AuthUserFile</th>\n<td>Basic認証するためのユーザーとパスワードを管理するファイルのパスを指定します。</td>\n</tr>\n<tr>\n<th>AuthName</th>\n<td>Basic認証時に表示される文字列。日本語以外が無難らしいです。</td>\n</tr>\n<tr>\n<th>AuthType</th>\n<td>「BASIC」と指定することでBasic認証となります。</td>\n</tr>\n<tr>\n<th>require</th>\n<td><code>valid-user</code>を指定すると、<strong class=\"marker\">すべてのユーザーに対して</strong>Basic認証をかけます。</td>\n</tr>\n</table>\n<h3><span id=\"htpasswd\"><span class=\"filename\">.htpasswd</span>に書くこと</span></h3>\n<p><span class=\"filename\">.htpasswd</span>にはBasic認証するための</p>\n<ul class=\"check\">\n<li>ユーザー</li>\n<li>パスワード</li>\n</ul>\n<p>の2点をシンプルに記述します。</p>\n<p>例えば以下のようなユーザーとパスワードで作るとすると、</p>\n<ul>\n<li>ユーザー → test</li>\n<li>パスワード → TjPHn3PFwkML</li>\n</ul>\n<p>シンプルに<code>:</code>を間に置いて、ユーザーとパスワードを繋ぐだけになります。</p>\n<pre><span class=\"filename\">.htpasswd</span><span class=\"code-copy\" data-clipboard-target=\"#code-1\">コピー</span><code id=\"code-1\" class=\"txt\">test:$apr1$EufaxDuq$BMiE0M5N3.qY1qrKiP0Sb1\r\n</code></pre>\n<p>ただ、<strong class=\"marker\">パスワードは暗号化して指定する</strong>ようにしましょう。</p>\n<h4>パスワードは暗号化する</h4>\n<p>パスワードは暗号化します。<br />\n（そもそも平文で作成しても認証が突破できないようになっているような気がします）</p>\n<p>「Basic認証の暗号化」の方法（ツール）は検索すれば、たくさん出てきます。例えば以下のようなツールを使ってパスワードを暗号化して使ってみてください。<br />\n→ <a href=\"http://www.cityjp.com/cript/crpt.cgi\" rel=\"noopener\" target=\"_blank\">Apacheのベーシック認証用パスワード発行フォーム</a></p>\n<p>以下のように色んなパターンで暗号化したテキストを出力してくれます。<br />\n<img width=\"580\" src=\"https://haniwaman.com/wp-content/uploads/2019/02/basic-authentication.png\" alt=\"\" class=\"alignnone size-full wp-image-13409\" /></p>\n<h2><span id=\"i\">レンタルサーバーからも設定可能</span></h2>\n<p>Basic認証はレンタルサーバーの管理画面からも設定可能です。サーバーを直接触りたくない方は、各種レンタルサーバーのマニュアル等を参考に設定してもらえたらと思います。</p>\n<p>例）Xserverだと「アクセス制限」というメニューから設定することができます。<br />\n<img src=\"https://haniwaman.com/wp-content/uploads/2019/01/test-server2-700x285.png\" alt=\"\" /></p>\n<h2><span id=\"i-2\">おわり</span></h2><div class=\"matome\"><div class=\"matome-img\"><img src=\"https://haniwaman.com/wp-content/themes/hpcode/img/haniwa.png\" alt=\"\"></div><div class=\"matome-twitter\"><a href=\"https://twitter.com/haniwa008?ref_src=twsrc%5Etfw\" class=\"twitter-follow-button\" data-show-screen-name=\"false\" data-size=\"large\" data-lang=\"ja\" data-show-count=\"true\">Follow @haniwa008</a><script async src=\"https://platform.twitter.com/widgets.js\" charset=\"utf-8\"></script></div></div><!-- /matome -->\n<p>Basic認証の設定方法でした。</p>\n<p>公開前のサイトなどのまだ不特定多数からアクセスされたくないサイトで割と使われたりするので、扱えるようになっておくと損はないかと思います！</p>\n","date":"February 06, 2019","categories":[{"name":"環境","slug":"setting"}],"tags":null,"author":{"name":"はにわまん","slug":"haniwaman"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"id":"3b874b22-f58f-52bb-aee4-0ef654b28984"}}}