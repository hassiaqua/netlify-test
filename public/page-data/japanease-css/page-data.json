{"componentChunkName":"component---src-templates-post-js","path":"/japanease-css/","result":{"data":{"wordpressPost":{"id":"ccb43f08-13e1-5d51-87ea-aa573c36c79d","title":"日本語の縦書きサイトで使うCSSプロパティと注意点","slug":"japanease-css","content":"<p>縦書きのサイトを作るときのCSSの使い方と注意点についてまとめました。</p>\n<p>癖が強いので、ブラウザ間での差異がないかのチェックは入念にしておいた方がいいかもしれません。</p>\n<div class=\"chat\"><figure class=\"chat-img\"><img src=\"https://haniwaman.com/wp-content/themes/hpcode/img/haniwa.png\" alt=\"\"><figcaption>はにわまん</figcaption></figure><div class=\"chat-content\">縦書きサイトのレスポンシブ対応が難しいです＞＜</div></div>\n<div id=\"toc_container\" class=\"no_bullets\"><p class=\"toc_title\">目次</p><ul class=\"toc_list\"><li><a href=\"#CSS\"><span class=\"toc_number toc_depth_1\">1</span> 縦書きにするCSSの指定方法</a><ul><li><a href=\"#i\"><span class=\"toc_number toc_depth_2\">1.1</span> 幅の指定で横に広がる</a></li><li><a href=\"#i-2\"><span class=\"toc_number toc_depth_2\">1.2</span> 高さの指定は必要</a></li><li><a href=\"#i-3\"><span class=\"toc_number toc_depth_2\">1.3</span> 段落を増やしたいとき</a></li></ul></li><li><a href=\"#i-4\"><span class=\"toc_number toc_depth_1\">2</span> 文字の制御方法</a><ul><li><a href=\"#i-5\"><span class=\"toc_number toc_depth_2\">2.1</span> 余白の調整</a></li><li><a href=\"#i-6\"><span class=\"toc_number toc_depth_2\">2.2</span> 文字サイズ、行間、文字間隔の使い方は同じ</a></li><li><a href=\"#i-7\"><span class=\"toc_number toc_depth_2\">2.3</span> 記号や英数字を縦にするかどうか</a></li><li><a href=\"#i-8\"><span class=\"toc_number toc_depth_2\">2.4</span> まとまった数字を横向きにする</a></li></ul></li><li><a href=\"#i-9\"><span class=\"toc_number toc_depth_1\">3</span> 縦書きの注意ポイント</a><ul><li><a href=\"#absolutepadding\"><span class=\"toc_number toc_depth_2\">3.1</span> absoluteとpaddingを一緒に使わないこと</a></li></ul></li><li><a href=\"#i-10\"><span class=\"toc_number toc_depth_1\">4</span> おわり</a></li></ul></div>\n<h2><span id=\"CSS\">縦書きにするCSSの指定方法</span></h2>\n<p>以下のHTMLを縦書きにしてみましょう。</p>\n<pre><span class=\"code-copy\" data-clipboard-target=\"#code-0\">コピー</span><code id=\"code-0\" class=\"html\">&lt;div class=\"ja-text\"&gt;\r\n\t&lt;p&gt;私は今日やはりその遠慮らに対してもののためで出るでる。とうてい絶対が仮定通りは多分その反抗なないなどをあるてならませをは堕落見えるませですて、必ずにはしんたですたら。学校に聞きだのもかく元来へ時々ありなけれで。&lt;/p&gt;\r\n\t&lt;p&gt;もう槙さんを使用弟あまり始末に思っない態度同じ国家あなたか盲従をというお下宿ありあるですありて、その当時は私か同人程度に認めで、岩崎さんののへ国家の私にとにかくご意味と思っから皆会がご専攻があるように今にご懊悩が致しんですて、もしちゃんと合点が抱いたて下さいならものを怠けたた。&lt;/p&gt;\r\n&lt;/div&gt;</code></pre>\n<p>日本語のダミーテキストはこちらから拝借しました。<br />\n→ <a href=\"https://lipsum.sugutsukaeru.jp/index.cgi\" rel=\"noopener\" target=\"_blank\">すぐ使えるダミーテキスト &#8211; 日本語 Lorem ipsum</a></p>\n<pre><span class=\"code-copy\" data-clipboard-target=\"#code-1\">コピー</span><code id=\"code-1\" class=\"css\">.ja-text {\r\n\t-ms-writing-mode: tb-rl;\r\n\t-webkit-writing-mode: vertical-rl;\r\n\twriting-mode: vertical-rl;\r\n}</code></pre>\n<p>幅は<code>inline-block</code>的にコンテンツに応じても与えられる感じになって、左寄りに表示されます。</p>\n<p>※ 位置が分かりやすいように、画面の背景と色を分けました。<br />\n<img src=\"https://haniwaman.com/wp-content/uploads/2019/01/ja-css-700x338.png\" alt=\"\" class=\"alignnone size-medium wp-image-12518\" srcset=\"https://haniwaman.com/wp-content/uploads/2019/01/ja-css-700x338.png 700w, https://haniwaman.com/wp-content/uploads/2019/01/ja-css-768x371.png 768w, https://haniwaman.com/wp-content/uploads/2019/01/ja-css.png 1188w\" sizes=\"(max-width: 700px) 100vw, 700px\" /></p>\n<h3><span id=\"i\">幅の指定で横に広がる</span></h3>\n<p>とりあえず幅を100%にすると文字が右側によってくれます。</p>\n<pre><span class=\"code-copy\" data-clipboard-target=\"#code-2\">コピー</span><code id=\"code-2\" class=\"css\">.ja-text {\r\n\t-ms-writing-mode: tb-rl;\r\n\t-webkit-writing-mode: vertical-rl;\r\n\twriting-mode: vertical-rl;\r\n\twidth: 100%;\r\n}</code></pre>\n<p><img src=\"https://haniwaman.com/wp-content/uploads/2019/01/ja-css2-700x267.png\" alt=\"\" class=\"alignnone size-medium wp-image-12519\" srcset=\"https://haniwaman.com/wp-content/uploads/2019/01/ja-css2-700x267.png 700w, https://haniwaman.com/wp-content/uploads/2019/01/ja-css2-768x293.png 768w, https://haniwaman.com/wp-content/uploads/2019/01/ja-css2-1200x459.png 1200w, https://haniwaman.com/wp-content/uploads/2019/01/ja-css2.png 1455w\" sizes=\"(max-width: 700px) 100vw, 700px\" /></p>\n<h3><span id=\"i-2\">高さの指定は必要</span></h3>\n<p>横書きだと暗黙の了解でウインドウ幅に応じて改行されると思いますが、縦書きの場合はこちらが制御しない限りブラウザによって改行する解釈がバラバラっぽいです。</p>\n<p>以下のように収まりの悪く長い文章になってしまいます。<br />\n<img src=\"https://haniwaman.com/wp-content/uploads/2019/01/ja-css4-700x552.png\" alt=\"\" class=\"alignnone size-medium wp-image-12520\" srcset=\"https://haniwaman.com/wp-content/uploads/2019/01/ja-css4-700x552.png 700w, https://haniwaman.com/wp-content/uploads/2019/01/ja-css4-768x606.png 768w, https://haniwaman.com/wp-content/uploads/2019/01/ja-css4-1200x946.png 1200w, https://haniwaman.com/wp-content/uploads/2019/01/ja-css4.png 1453w\" sizes=\"(max-width: 700px) 100vw, 700px\" /></p>\n<pre><span class=\"code-copy\" data-clipboard-target=\"#code-3\">コピー</span><code id=\"code-3\" class=\"css\">.ja-text {\r\n\t-ms-writing-mode: tb-rl;\r\n\t-webkit-writing-mode: vertical-rl;\r\n\twriting-mode: vertical-rl;\r\n\twidth: 100%;\r\n\theight: 300px;\r\n}</code></pre>\n<p>高さを明示的に書いてあげることで、縦書きの文章を収まりのいいものにできます。<br />\n<img src=\"https://haniwaman.com/wp-content/uploads/2019/01/ja-css5-700x187.png\" alt=\"\" class=\"alignnone size-medium wp-image-12521\" srcset=\"https://haniwaman.com/wp-content/uploads/2019/01/ja-css5-700x187.png 700w, https://haniwaman.com/wp-content/uploads/2019/01/ja-css5-768x205.png 768w, https://haniwaman.com/wp-content/uploads/2019/01/ja-css5-1200x321.png 1200w, https://haniwaman.com/wp-content/uploads/2019/01/ja-css5.png 1462w\" sizes=\"(max-width: 700px) 100vw, 700px\" /></p>\n<h3><span id=\"i-3\">段落を増やしたいとき</span></h3>\n<p>横文字を折り返したい場合は、あらかじめcolumn-countで行数を指定してあげる必要があります。注意すべきは、<code>height</code>の高さが段組みを含めた高さとなる点ですね。</p>\n<p>レスポンシブとか考えて作るなら、設計がめちゃくちゃ大変そうだなと思ったり・・・。</p>\n<pre><span class=\"code-copy\" data-clipboard-target=\"#code-4\">コピー</span><code id=\"code-4\" class=\"css\">.ja-text {\r\n    -ms-writing-mode: tb-rl;\r\n    -webkit-column-count: 2;\r\n    -webkit-column-fill: auto;\r\n    -webkit-column-gap: 16px;\r\n    -webkit-column-rule: 1px solid #333;\r\n    -webkit-writing-mode: vertical-rl;\r\n    column-count: 2;\r\n    column-fill: auto;\r\n    column-gap: 16px;\r\n    column-rule: 1px solid #333;\r\n\t\tbackground: #fff;\r\n    height: 300px;\r\n    margin-bottom: 300px;\r\n    width: 100%;\r\n    writing-mode: vertical-rl;\r\n}</code></pre>\n<p>こんな感じで、縦書きで段組みを作る際は<code>column</code>系のプロパティをごにょごにょイジってく感じになるかと思います。<br />\n<img src=\"https://haniwaman.com/wp-content/uploads/2019/01/ja-css13-700x188.png\" alt=\"\" class=\"alignnone size-medium wp-image-12532\" srcset=\"https://haniwaman.com/wp-content/uploads/2019/01/ja-css13-700x188.png 700w, https://haniwaman.com/wp-content/uploads/2019/01/ja-css13-768x206.png 768w, https://haniwaman.com/wp-content/uploads/2019/01/ja-css13-1200x322.png 1200w, https://haniwaman.com/wp-content/uploads/2019/01/ja-css13.png 1809w\" sizes=\"(max-width: 700px) 100vw, 700px\" /></p>\n<p>以下のような本を手元に置いておくと、はじめてのCSSプロパティやHTMLタグが出てきた時にすぐチェックできるのでおすすめです。</p>\n<div class=\"cstmreba\">\n<div class=\"booklink-box\">\n<div class=\"booklink-image\"><a href=\"https://hb.afl.rakuten.co.jp/hgc/117225c0.b43e75d1.117225c1.f4ba597a/yomereba_main_201901130250160877?pc=http%3A%2F%2Fbooks.rakuten.co.jp%2Frb%2F15534883%2F%3Fscid%3Daf_ich_link_urltxt%26m%3Dhttp%3A%2F%2Fm.rakuten.co.jp%2Fev%2Fbook%2F\" target=\"_blank\" ><img src=\"https://thumbnail.image.rakuten.co.jp/@0_mall/book/cabinet/8118/9784774198118.jpg?_ex=200x200\" style=\"border: none;\" /></a></div>\n<div class=\"booklink-info\">\n<div class=\"booklink-name\"><a href=\"https://hb.afl.rakuten.co.jp/hgc/117225c0.b43e75d1.117225c1.f4ba597a/yomereba_main_201901130250160877?pc=http%3A%2F%2Fbooks.rakuten.co.jp%2Frb%2F15534883%2F%3Fscid%3Daf_ich_link_urltxt%26m%3Dhttp%3A%2F%2Fm.rakuten.co.jp%2Fev%2Fbook%2F\" target=\"_blank\" >今すぐ使えるかんたんPLUS+　HTML5&amp;CSS3　完全大事典</a></p>\n<div class=\"booklink-powered-date\">posted with <a href=\"https://yomereba.com\" rel=\"nofollow\" target=\"_blank\">ヨメレバ</a></div>\n</div>\n<div class=\"booklink-detail\">中島真洋 技術評論社 2018年07月24日    </div>\n<div class=\"booklink-link2\">\n<div class=\"shoplinkrakuten\"><a href=\"https://hb.afl.rakuten.co.jp/hgc/117225c0.b43e75d1.117225c1.f4ba597a/yomereba_main_201901130250160877?pc=http%3A%2F%2Fbooks.rakuten.co.jp%2Frb%2F15534883%2F%3Fscid%3Daf_ich_link_urltxt%26m%3Dhttp%3A%2F%2Fm.rakuten.co.jp%2Fev%2Fbook%2F\" target=\"_blank\" >楽天ブックス</a></div>\n<div class=\"shoplinkamazon\"><a href=\"https://www.amazon.co.jp/exec/obidos/asin/4774198110/haniwaman-22/\" target=\"_blank\" >Amazon</a></div>\n<div class=\"shoplinkkindle\"><a href=\"https://www.amazon.co.jp/gp/search?keywords=&#038;__mk_ja_JP=%83J%83%5E%83J%83i&#038;url=node%3D2275256051&#038;tag=haniwaman-22\" target=\"_blank\" >Kindle</a></div>\n</p></div>\n</div>\n<div class=\"booklink-footer\"></div>\n</div>\n</div>\n<h2><span id=\"i-4\">文字の制御方法</span></h2>\n<p>続いては、縦書きの中での文字をあれこれ扱っていく方法です。</p>\n<h3><span id=\"i-5\">余白の調整</span></h3>\n<p>余白はわたしたちからブラウザを見た時の方向で制御できます。例えば<code>p</code>タグを縦書きの感覚で<code>margin-bottom: 1.6em;</code>などとするのではなく、<strong class=\"marker\">見たまんまの方向へ</strong><code>margin</code>してあげれば大丈夫です。</p>\n<pre><span class=\"code-copy\" data-clipboard-target=\"#code-5\">コピー</span><code id=\"code-5\" class=\"css\">.ja-text p {\r\n    margin-left: 1.6em;\r\n}</code></pre>\n<p><img src=\"https://haniwaman.com/wp-content/uploads/2019/01/ja-css6-700x189.png\" alt=\"\" class=\"alignnone size-medium wp-image-12522\" srcset=\"https://haniwaman.com/wp-content/uploads/2019/01/ja-css6-700x189.png 700w, https://haniwaman.com/wp-content/uploads/2019/01/ja-css6-768x207.png 768w, https://haniwaman.com/wp-content/uploads/2019/01/ja-css6-1200x323.png 1200w, https://haniwaman.com/wp-content/uploads/2019/01/ja-css6.png 1807w\" sizes=\"(max-width: 700px) 100vw, 700px\" /></p>\n<h3><span id=\"i-6\">文字サイズ、行間、文字間隔の使い方は同じ</span></h3>\n<p>文字サイズ（<code>font-size</code>）であったり、行間（<code>line-height</code>）、文字間隔（<code>letter-spacing</code>）は横書きと同じような感覚で使えます。</p>\n<h3><span id=\"i-7\">記号や英数字を縦にするかどうか</span></h3>\n<p>デフォルトだと、英語や記号は縦向きになりません。横文字をそのまま回転させたような表示のされかたとなります。「2019年1月12日にRelease.」という文字を<code>writing-mode: vertical-rl;</code>だけで表示させると、以下のような表示になります。<br />\n<img src=\"https://haniwaman.com/wp-content/uploads/2019/01/ja-css10.png\" alt=\"\" class=\"alignnone size-full wp-image-12528\" /></p>\n<p>これを縦向きにするには、<code>text-orientation</code>というプロパティで指定すればOKです。</p>\n<pre><span class=\"code-copy\" data-clipboard-target=\"#code-6\">コピー</span><code id=\"code-6\" class=\"html\">&lt;div class=\"en-text\"&gt;2019年1月12日にRelease.&lt;/div&gt;\r\n</code></pre>\n<pre><span class=\"code-copy\" data-clipboard-target=\"#code-7\">コピー</span><code id=\"code-7\" class=\"css\">.en-text {\r\n\t-ms-writing-mode: tb-rl;\r\n\t-webkit-writing-mode: vertical-rl;\r\n\ttext-orientation: upright;\r\n\twriting-mode: vertical-rl;\r\n}</code></pre>\n<p>数字も英字も縦になりました。<br />\n<img src=\"https://haniwaman.com/wp-content/uploads/2019/01/ja-css11.png\" alt=\"\" class=\"alignnone size-full wp-image-12529\" /></p>\n<h3><span id=\"i-8\">まとまった数字を横向きにする</span></h3>\n<p>数字が縦向きになりましたが、1文字ずつが縦に並んでいる状態です。もし、複数の意味のある数字をまとめて縦向きにしたい場合は、<code>text-combine</code>のプロパティを使います。</p>\n<p>HTPを少し書き換えました。対象となる数字を<code>span</code>などで囲ってあげてください。</p>\n<pre><span class=\"code-copy\" data-clipboard-target=\"#code-8\">コピー</span><code id=\"code-8\" class=\"html\">&lt;div class=\"en-text\"&gt;&lt;span class=\"combine\"&gt;2019&lt;/span&gt;年&lt;span class=\"combine\"&gt;01&lt;/span&gt;月&lt;span class=\"combine\"&gt;12&lt;/span&gt;日にRelease.&lt;/div&gt;\r\n</code></pre>\n<pre><span class=\"code-copy\" data-clipboard-target=\"#code-9\">コピー</span><code id=\"code-9\" class=\"css\">.combine {\r\n\t-ms-text-combine-horizontal: all;\r\n\t-webkit-text-combine: horizontal;\r\n\ttext-combine-upright: all;\r\n}</code></pre>\n<p>「2019」や「01」、「12」がまとまって縦になっているのが分かるかと思います。<br />\n<img src=\"https://haniwaman.com/wp-content/uploads/2019/01/ja-css12.png\" alt=\"\" class=\"alignnone size-full wp-image-12530\" /></p>\n<p>ただ、微妙な表示になることが多く、、、個人的には、無理に横向きで固めるよりも縦に並んでいる状態でもいいのかなと思ったりします。</p>\n<h2><span id=\"i-9\">縦書きの注意ポイント</span></h2>\n<p>わたしが個人的にハマったポイントについて共有です。</p>\n<h3><span id=\"absolutepadding\"><code>absolute</code>と<code>padding</code>を一緒に使わないこと</span></h3>\n<p>Chromeだけズレる珍しいパターンです。縦書きを指定した要素に<code>padding</code>を指定して<code>absolute</code>で浮かせた時の配置場所がブラウザによって異なります。</p>\n<p>以下のようなコードで動きを試してみます。</p>\n<pre><span class=\"code-copy\" data-clipboard-target=\"#code-10\">コピー</span><code id=\"code-10\" class=\"html\">&lt;div class=\"ja-relative\"&gt;\r\n\t&lt;div class=\"ja-absolute\"&gt;&lt;span&gt;日本語&lt;/span&gt;&lt;/div&gt;\r\n&lt;/div&gt;</code></pre>\n<pre><span class=\"code-copy\" data-clipboard-target=\"#code-11\">コピー</span><code id=\"code-11\" class=\"css\">.ja-relative {\r\n    background: #ddd;\r\n    height: 300px;\r\n    position: relative;\r\n    width: 100%;\r\n}\r\n\r\n.ja-absolute {\r\n    -ms-writing-mode: tb-rl;\r\n    -webkit-writing-mode: vertical-rl;\r\n    writing-mode: vertical-rl;\r\n    background: #fff;\r\n    left: 0;\r\n    padding: 24px;\r\n    position: absolute;\r\n    top: 0;\r\n}</code></pre>\n<p><code>top: 0;</code>で<code>left: 0;</code>の位置に表示されればいいですが・・・。</p>\n<h4>Chrome</h4>\n<p>leftが0じゃないです&#8230;<br />\n<img src=\"https://haniwaman.com/wp-content/uploads/2019/01/ja-css8-700x189.png\" alt=\"\" class=\"alignnone size-medium wp-image-12524\" srcset=\"https://haniwaman.com/wp-content/uploads/2019/01/ja-css8-700x189.png 700w, https://haniwaman.com/wp-content/uploads/2019/01/ja-css8-768x208.png 768w, https://haniwaman.com/wp-content/uploads/2019/01/ja-css8-1200x325.png 1200w, https://haniwaman.com/wp-content/uploads/2019/01/ja-css8.png 1797w\" sizes=\"(max-width: 700px) 100vw, 700px\" /></p>\n<h4>Firefox</h4>\n<p>他のブラウザだとピッタリ。<br />\n<img src=\"https://haniwaman.com/wp-content/uploads/2019/01/ja-css9-700x190.png\" alt=\"\" class=\"alignnone size-medium wp-image-12525\" srcset=\"https://haniwaman.com/wp-content/uploads/2019/01/ja-css9-700x190.png 700w, https://haniwaman.com/wp-content/uploads/2019/01/ja-css9-768x209.png 768w, https://haniwaman.com/wp-content/uploads/2019/01/ja-css9-1200x327.png 1200w, https://haniwaman.com/wp-content/uploads/2019/01/ja-css9.png 1808w\" sizes=\"(max-width: 700px) 100vw, 700px\" /></p>\n<h4>解決方法は小要素に<code>padding</code>を当てる</h4>\n<p>縦書きを指定した<code>absolute</code>に<code>padding</code>をズレてしまいます。解消するには<code>absolute</code>の中に小要素を作って、そちらに<code>padding</code>を当てればいいかと思います。</p>\n<p>先ほどのHTMLコードを流用して修正箇所だけ記載すると、、</p>\n<pre><span class=\"code-copy\" data-clipboard-target=\"#code-12\">コピー</span><code id=\"code-12\" class=\"css\">.ja-absolute {\r\n    -ms-writing-mode: tb-rl;\r\n    -webkit-writing-mode: vertical-rl;\r\n    writing-mode: vertical-rl;\r\n    background: #fff;\r\n    left: 0;\r\n    position: absolute;\r\n    top: 0;\r\n}\r\n\r\n.ja-absolute span {\r\n\t\tdisplay: inline-block;\r\n\t\tpadding: 24px;\r\n}</code></pre>\n<p>これでChromeも<code>left:0;</code>で揃ってくれるようになりました。<br />\n<img src=\"https://haniwaman.com/wp-content/uploads/2019/01/ja-css9-700x190.png\" alt=\"\" class=\"alignnone size-medium wp-image-12525\" srcset=\"https://haniwaman.com/wp-content/uploads/2019/01/ja-css9-700x190.png 700w, https://haniwaman.com/wp-content/uploads/2019/01/ja-css9-768x209.png 768w, https://haniwaman.com/wp-content/uploads/2019/01/ja-css9-1200x327.png 1200w, https://haniwaman.com/wp-content/uploads/2019/01/ja-css9.png 1808w\" sizes=\"(max-width: 700px) 100vw, 700px\" /></p>\n<h2><span id=\"i-10\">おわり</span></h2><div class=\"matome\"><div class=\"matome-img\"><img src=\"https://haniwaman.com/wp-content/themes/hpcode/img/haniwa.png\" alt=\"\"></div><div class=\"matome-twitter\"><a href=\"https://twitter.com/haniwa008?ref_src=twsrc%5Etfw\" class=\"twitter-follow-button\" data-show-screen-name=\"false\" data-size=\"large\" data-lang=\"ja\" data-show-count=\"true\">Follow @haniwa008</a><script async src=\"https://platform.twitter.com/widgets.js\" charset=\"utf-8\"></script></div></div><!-- /matome -->\n<p>日本語の縦書きサイトを作る時のCSSの紹介でした。</p>\n<p>なかなか馴染みのない書き方で戸惑うかと思います。そしておそらく、わたしたちだけでなくブラウザも戸惑っているはず・・・。</p>\n<p>縦書きサイトを作る際は、ブラウザ間での差異がないかのチェックは入念にしておいた方がいいかもしれません。</p>\n","date":"January 15, 2019","categories":[{"name":"CSS","slug":"css"}],"tags":null,"author":{"name":"はにわまん","slug":"haniwaman"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"id":"ccb43f08-13e1-5d51-87ea-aa573c36c79d"}}}