{"componentChunkName":"component---src-templates-post-js","path":"/wordpress-drawer-js/","result":{"data":{"wordpressPost":{"id":"de044a30-33c7-5e18-909f-6fa553a1de5a","title":"WordPressでドロワーメニューを実装する方法！drawer.jsを使用します","slug":"wordpress-drawer-js","content":"<p>一般的な使い方は以下で紹介しています。<br />\n→ <a href=\"https://haniwaman.com/drawer-js/\">ドロワーメニューが作れるJQueryライブラリ「drawer.js」のご紹介！</a></p>\n<p>今回は、WrodPressのメニュー表示に連動させる（馴染ませる）方法について紹介します。ドロワーメニューがあると結構リッチっぽいサイトにできます。</p>\n<div class=\"chat\"><figure class=\"chat-img\"><img src=\"https://haniwaman.com/wp-content/themes/hpcode/img/haniwa.png\" alt=\"\"><figcaption>はにわまん</figcaption></figure><div class=\"chat-content\">WordPressでドロワーメニューをいい感じに設置してみました！</div></div>\n<div id=\"toc_container\" class=\"no_bullets\"><p class=\"toc_title\">目次</p><ul class=\"toc_list\"><li><a href=\"#i\"><span class=\"toc_number toc_depth_1\">1</span> 各種コード</a></li><li><a href=\"#i-2\"><span class=\"toc_number toc_depth_1\">2</span> メニューを作る</a></li><li><a href=\"#i-3\"><span class=\"toc_number toc_depth_1\">3</span> それっぽくデザインを当ててみる</a></li><li><a href=\"#i-4\"><span class=\"toc_number toc_depth_1\">4</span> おわり</a></li></ul></div>\n<h2><span id=\"i\">各種コード</span></h2>\n<p>いきなりコードから紹介します。必要なリソースは全部CDN使うので、<strong class=\"marker\">特にダウンロード等は必要ありません</strong>。</p>\n<p>必要なリソースを全部突っ込みます。</p>\n<p>必須は以下の3つ。</p>\n<ul>\n<li>drawer.css</li>\n<li>drawer.js</li>\n<li>iscroll.js</li>\n</ul>\n<p>ハンバーガーアイコン用に</p>\n<ul>\n<li>font-awesome.min.css</li>\n</ul>\n<p>読み込んでいます。</p>\n<pre><span class=\"filename\">functions.php</span><span class=\"code-copy\" data-clipboard-target=\"#code-0\">コピー</span><code id=\"code-0\" class=\"php\">/* css &amp; js 読み込み */\r\nfunction my_scripts() {\r\n\twp_enqueue_style( 'my-drawer-style', 'https://cdnjs.cloudflare.com/ajax/libs/drawer/3.2.1/css/drawer.min.css', array(), '3.2.1' );\r\n\twp_enqueue_style( 'my-font-awesome-style', 'https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css', array(), '4.7.0' );\r\n\twp_enqueue_script( 'my-scroll-js', 'https://cdnjs.cloudflare.com/ajax/libs/iScroll/5.1.3/iscroll.min.js', array( 'jquery' ), '5.1.3', true );\r\n\twp_enqueue_script( 'my-drawer-js', 'https://cdnjs.cloudflare.com/ajax/libs/drawer/3.2.1/js/drawer.min.js', array( 'my-scroll-js' ), '3.2.1', true );\r\n}\r\nadd_action( 'wp_enqueue_scripts', 'my_scripts' );\r\n\r\n/* メニューの位置設定 */\r\nfunction register_my_menu() {\r\n\tregister_nav_menu( 'my-drawer', 'ドロワーメニュー' );\r\n}\r\nadd_action( 'after_setup_theme', 'register_my_menu' );\r\n</code></pre>\n<p>自身の読み込んでいるjsファイルに以下を追記してください。</p>\n<pre><span class=\"filename\">hogehoge.js</span><span class=\"code-copy\" data-clipboard-target=\"#code-1\">コピー</span><code id=\"code-1\" class=\"js\">jQuery( function( $ ) {\r\n\t$( '.drawer' ).drawer();\r\n});\r\n</code></pre>\n<p>HTMLコードをガジガジ突っ込んでいきます。</p>\n<pre><span class=\"filename\">header.php</span><span class=\"code-copy\" data-clipboard-target=\"#code-2\">コピー</span><code id=\"code-2\" class=\"html\">&lt;!-- class=\"drawer drawer--left\" の2つが追加されるように --&gt;\r\n&lt;body &lt;?php body_class( ['drawer', 'drawer--left'] ); ?&gt;&gt;\r\n\r\n&lt;!-- 中略 --&gt;\r\n\r\n&lt;!-- ハンバーガーボタン --&gt;\r\n&lt;button type=\"button\" class=\"drawer-toggle drawer-hamburger\"&gt;&lt;i class=\"fa fa-bars\" aria-hidden=\"true\"&gt;&lt;/i&gt;&lt;/button&gt;\r\n&lt;!-- ナビゲーションの中身 --&gt;\r\n&lt;nav class=\"drawer-nav\" role=\"navigation\"&gt;\r\n\t&lt;!-- メニューの読み込み --&gt;\r\n\t&lt;?php wp_nav_menu( array( 'theme_location' =&gt; 'my-drawer', 'menu_class' =&gt; 'drawer-menu', 'container' =&gt; false, 'depth' =&gt; 1 ) ); ?&gt;\r\n&lt;/nav&gt;\r\n\r\n&lt;!-- 中略 --&gt;\r\n</code></pre>\n<h2><span id=\"i-2\">メニューを作る</span></h2>\n<p>外観 > メニュー</p>\n<p>functions.phpで追加した位置にメニューを作成。<br />\n<img src=\"https://haniwaman.com/wp-content/uploads/2017/10/drawer-js-700x580.png\" alt=\"\" width=\"700\" height=\"580\" class=\"alignnone size-medium wp-image-11916\" /></p>\n<p>大事なのがクラスを設定すること！<br />\n<strong class=\"marker\">全部のメニューにドロワーのメニューアイテムを示す「drawer-menu-item」を追加</strong>してください。<br />\n<img src=\"https://haniwaman.com/wp-content/uploads/2017/10/drawer-js2-700x585.png\" alt=\"\" width=\"700\" height=\"585\" class=\"alignnone size-medium wp-image-11917\" /></p>\n<p>実際に動作確認してみると以下のような感じ！<br />\n<img src=\"https://haniwaman.com/wp-content/uploads/2017/10/drawer-js.gif\" alt=\"\" width=\"311\" height=\"638\" class=\"alignnone size-full wp-image-11919\" /></p>\n<p>デザインがなんとも<strong>「ダサい」</strong>ですね。</p>\n<h2><span id=\"i-3\">それっぽくデザインを当ててみる</span></h2>\n<pre><span class=\"filename\">style.css</span><span class=\"code-copy\" data-clipboard-target=\"#code-3\">コピー</span><code id=\"code-3\" class=\"css\">.drawer-nav {\r\n\tbackground: #666;\r\n\tbox-shadow: 0 4px 3px -3px rgba(0, 0, 0, 0.12);\r\n\tz-index: 10;\r\n}\r\n\r\n.drawer-nav .drawer-menu-item {\r\n\tpadding: 0;\r\n}\r\n\r\n.drawer-nav .drawer-menu-item &gt; a {\r\n\tdisplay: block;\r\n\tpadding: 1rem 1rem 1rem 2.5rem;\r\n\tpadding: 1rem;\r\n\ttext-decoration: none;\r\n\tcolor: #fff;\r\n\tborder-bottom: 1px solid rgba(255, 255, 255, 0.25);\r\n}\r\n\r\n.drawer--left.drawer-open .drawer-hamburger {\r\n\tleft: 0;\r\n}</code></pre>\n<p>こんな感じ。ちょっとリッチに。クラスを上書きすることでデザインは修正していけます。<br />\n<img src=\"https://haniwaman.com/wp-content/uploads/2017/10/drawer-js2.gif\" alt=\"\" width=\"311\" height=\"638\" class=\"alignnone size-full wp-image-11921\" /></p>\n<p>ハンバーガーボタンも<code>position: fixed;</code>で固定されちゃってますが、<code>absolute</code>などに上書きしちゃえば、付いてきません。</p>\n<h2><span id=\"i-4\">おわり</span></h2><div class=\"matome\"><div class=\"matome-img\"><img src=\"https://haniwaman.com/wp-content/themes/hpcode/img/haniwa.png\" alt=\"\"></div><div class=\"matome-twitter\"><a href=\"https://twitter.com/haniwa008?ref_src=twsrc%5Etfw\" class=\"twitter-follow-button\" data-show-screen-name=\"false\" data-size=\"large\" data-lang=\"ja\" data-show-count=\"true\">Follow @haniwa008</a><script async src=\"https://platform.twitter.com/widgets.js\" charset=\"utf-8\"></script></div></div><!-- /matome -->\n<p>WordPressに「drawer.js」使ってドロワーメニューを実装する方法でした。<br />\n難しそうだと感じた人は、まずはローカルなHTMLでライブラリの動きだけでも以下から試してみてください。<br />\n→ <a href=\"https://haniwaman.com/drawer-js/\">ドロワーメニューが作れるJQueryライブラリ「drawer.js」のご紹介！</a></p>\n","date":"December 24, 2017","categories":[{"name":"WordPress","slug":"wordpress"}],"tags":null,"author":{"name":"はにわまん","slug":"haniwaman"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"id":"de044a30-33c7-5e18-909f-6fa553a1de5a"}}}