{"componentChunkName":"component---src-templates-post-js","path":"/background/","result":{"data":{"wordpressPost":{"id":"7334a554-8f6a-5b29-941c-3751dfd5065f","title":"background-sizeの４つの指定の違いと背景画像のCSSでよく使われがちなパターン３つ","slug":"background","content":"<p>コーディング時に意外と使われがちな背景画像のCSSについて紹介です。</p>\n<p>背景で最も覚えておくべきは「<code>background-size</code>」だと思います。この指定の違いによって表示がどのように変わってくるのか、<strong>マウスでドラッグしながら直感的に理解していこう</strong>という目的で作成しました。</p>\n<p>また、ヒーローイメージや背景固定など、よく使わがちな背景の指定方法についても少しだけまとめました。</p>\n<p>わたしがコーダーとして仕事するようになって、たぶん一番くらいの衝撃が「<strong class=\"marker\">こんなにも背景使うの？</strong>」でした笑</p>\n<p>コーディングを仕事にしている方は、ここに書かれていることは当たり前に理解しておくといいかもしれません！</p>\n<div class=\"chat\"><figure class=\"chat-img\"><img src=\"https://haniwaman.com/wp-content/themes/hpcode/img/haniwa.png\" alt=\"\"><figcaption>はにわまん</figcaption></figure><div class=\"chat-content\">ドラッグで枠を動かしながら背景を確認してみてください！</div></div>\n<div id=\"toc_container\" class=\"no_bullets\"><p class=\"toc_title\">目次</p><ul class=\"toc_list\"><li><a href=\"#background-size\"><span class=\"toc_number toc_depth_1\">1</span> background-sizeのパターンをザックリ理解しよう</a><ul><li><a href=\"#cover\"><span class=\"toc_number toc_depth_2\">1.1</span> 確実に覆われる「cover」</a></li><li><a href=\"#auto\"><span class=\"toc_number toc_depth_2\">1.2</span> 大きさが全く変わらない「auto」</a></li><li><a href=\"#contain\"><span class=\"toc_number toc_depth_2\">1.3</span> 縦横比は維持されるけど隙間が生まれやすい「contain」</a></li><li><a href=\"#100\"><span class=\"toc_number toc_depth_2\">1.4</span> 縦横比はめちゃくちゃになるけど覆われる「100%」</a></li></ul></li><li><a href=\"#100vh\"><span class=\"toc_number toc_depth_1\">2</span> ヒーローイメージは100vh</a></li><li><a href=\"#i\"><span class=\"toc_number toc_depth_1\">3</span> 縦横比を維持</a><ul><li><a href=\"#i-2\"><span class=\"toc_number toc_depth_2\">3.1</span> 縦横比を維持した背景の中央に文字</a></li></ul></li><li><a href=\"#i-3\"><span class=\"toc_number toc_depth_1\">4</span> 背景を固定するのは実は簡単</a></li><li><a href=\"#i-4\"><span class=\"toc_number toc_depth_1\">5</span> 背景の元画像のサイズはどうする？</a></li><li><a href=\"#i-5\"><span class=\"toc_number toc_depth_1\">6</span> おわり</a></li></ul></div>\n<h2><span id=\"background-size\">background-sizeのパターンをザックリ理解しよう</span></h2>\n<p>コーディング業務では<code>background-size</code>の理解が不可欠です。</p>\n<p>以下の画像をサンプルに色んなパターンで表示させてみましょう。<br />\nオリジナルのサイズは「<strong>726px × 477px</strong>」です。<br />\n<img src=\"https://haniwaman.com/wp-content/uploads/2018/10/background.jpg\" alt=\"\" class=\"alignnone size-thumbnail wp-image-9186\"></p>\n<p>この記事でタブレットっぽく表現されている箇所は<strong class=\"marker\"><span class=\"font-ll\">すべて可変</span></strong>です！右下をドラッグして大きさを変えながら背景画像の見え方を確認してみてください。</p>\n<p>（こんな感じ&#8230;）<br />\n<img src=\"https://haniwaman.com/wp-content/uploads/2018/10/background.gif\" alt=\"\" class=\"alignnone size-full wp-image-9247\" /></p>\n<h3><span id=\"cover\">確実に覆われる「cover」</span></h3>\n<p>背景画像で<strong class=\"marker\">覆われていることが保証されている指定</strong>なので、とりあえずで使われがちな方法だと思います。</p>\n<p><strong>※ 右下のドラッグで幅を変更した表示を確認できます。</strong></p>\n<div class=\"frame frame-res\">\n<div class=\"bg-cover\"></div>\n</div>\n<pre><span class=\"code-copy\" data-clipboard-target=\"#code-0\">コピー</span><code id=\"code-0\" class=\"html\">&lt;div class=\"bg-cover\"&gt;&lt;/div&gt;\r\n</code></pre>\n<pre><span class=\"code-copy\" data-clipboard-target=\"#code-1\">コピー</span><code id=\"code-1\" class=\"css\">.bg-cover {\r\n  background: #d5891c url(https://haniwaman.com/wp-content/uploads/2018/10/background.jpg) no-repeat center center / cover;\r\n  height: 300px;\r\n}</code></pre>\n<h3><span id=\"auto\">大きさが全く変わらない「auto」</span></h3>\n<p>要素の縦横の幅がなんであれ、画像の縦や横の大きさは変わりません。<strong class=\"marker\">ありのままの画像のサイズがそのまま表示</strong>されます。ドラッグしても大きさが変わらないことを確認してもらえたらと思います。</p>\n<p><strong>※ 右下のドラッグで幅を変更した表示を確認できます。</strong></p>\n<div class=\"frame frame-res\">\n<div class=\"bg-auto\"></div>\n</div>\n<pre><span class=\"code-copy\" data-clipboard-target=\"#code-2\">コピー</span><code id=\"code-2\" class=\"html\">&lt;div class=\"bg-auto\"&gt;&lt;/div&gt;\r\n</code></pre>\n<pre><span class=\"code-copy\" data-clipboard-target=\"#code-3\">コピー</span><code id=\"code-3\" class=\"css\">.bg-auto {\r\n  background: #d5891c url(https://haniwaman.com/wp-content/uploads/2018/10/background.jpg) no-repeat center center / auto auto;\r\n  height: 300px;\r\n}</code></pre>\n<h3><span id=\"contain\">縦横比は維持されるけど隙間が生まれやすい「contain」</span></h3>\n<p>「<strong class=\"marker\">必ず画像全体が映る</strong>」ように、縦横比を維持したまま伸縮します。縦か横のどちらかの幅は要素と同じになります。</p>\n<p>（オレンジの部分は背景の余った部分です）</p>\n<p><strong>※ 右下のドラッグで幅を変更した表示を確認できます。</strong></p>\n<div class=\"frame frame-res\">\n<div class=\"bg-contain\"></div>\n</div>\n<pre><span class=\"code-copy\" data-clipboard-target=\"#code-4\">コピー</span><code id=\"code-4\" class=\"html\">&lt;div class=\"bg-contain\"&gt;&lt;/div&gt;\r\n</code></pre>\n<pre><span class=\"code-copy\" data-clipboard-target=\"#code-5\">コピー</span><code id=\"code-5\" class=\"css\">.bg-contain {\r\n  background: #d5891c url(https://haniwaman.com/wp-content/uploads/2018/10/background.jpg) no-repeat center center / contain;\r\n  height: 300px;\r\n}</code></pre>\n<h3><span id=\"100\">縦横比はめちゃくちゃになるけど覆われる「100%」</span></h3>\n<p>指定した縦横の幅にピッタリと伸縮します。当然のごどく画像の縦横比はめっちゃ崩れます（ただし確実に覆われている状態にはなりますが&#8230;）</p>\n<p><strong>※ 右下のドラッグで幅を変更した表示を確認できます。</strong></p>\n<div class=\"frame frame-res\">\n<div class=\"bg-100per\"></div>\n</div>\n<pre><span class=\"code-copy\" data-clipboard-target=\"#code-6\">コピー</span><code id=\"code-6\" class=\"html\">&lt;div class=\"bg-100per\"&gt;&lt;/div&gt;\r\n</code></pre>\n<pre><span class=\"code-copy\" data-clipboard-target=\"#code-7\">コピー</span><code id=\"code-7\" class=\"css\">.bg-100per {\r\n  background: #d5891c url(https://haniwaman.com/wp-content/uploads/2018/10/background.jpg) no-repeat center center / 100% 100%;\r\n  height: 300px;\r\n}</code></pre>\n<h2><span id=\"100vh\">ヒーローイメージは100vh</span></h2>\n<p>ファーストビューを完全に覆うヒーローイメージは実はめっちゃ簡単に作れます。<strong class=\"marker\">高さに100vhを指定するだけ</strong>です。</p>\n<p><strong>※ 右下のドラッグで幅を変更した表示を確認できます。</strong></p>\n<div class=\"frame frame-res\">\n<div class=\"bg-hero\"></div>\n</div>\n<pre><span class=\"code-copy\" data-clipboard-target=\"#code-8\">コピー</span><code id=\"code-8\" class=\"html\">&lt;div class=\"bg-hero\"&gt;&lt;/div&gt;\r\n</code></pre>\n<pre><span class=\"code-copy\" data-clipboard-target=\"#code-9\">コピー</span><code id=\"code-9\" class=\"css\">.bg-hero {\r\n  background: #d5891c url(https://haniwaman.com/wp-content/uploads/2018/10/background.jpg) no-repeat center center / cover;\r\n  height: 100vh;\r\n}</code></pre>\n<h2><span id=\"i\">縦横比を維持</span></h2>\n<p>背景の縦横比を維持するテクニックもあります。これまで紹介したものは縦が固定されています。幅は狭まるけど高さは一定という感じですね。これを幅に応じて高さも変更するという書き方に変更してみます。</p>\n<p><strong>※ 右下のドラッグで幅を変更した表示を確認できます。</strong></p>\n<div class=\"frame frame-res\" style=\"height: 582px;\">\n<div class=\"bg-aspect\"></div>\n</div>\n<pre><span class=\"code-copy\" data-clipboard-target=\"#code-10\">コピー</span><code id=\"code-10\" class=\"html\">&lt;div class=\"bg-aspect\"&gt;&lt;/div&gt;\r\n</code></pre>\n<pre><span class=\"code-copy\" data-clipboard-target=\"#code-11\">コピー</span><code id=\"code-11\" class=\"css\">.bg-aspect {\r\n  background: #d5891c url(https://haniwaman.com/wp-content/uploads/2018/10/background.jpg) no-repeat center center / cover;\r\n  padding-top: 65.73%;\r\n}</code></pre>\n<p><strong class=\"marker\">padding-topに縦横比のパーセントを指定することで実現できます</strong>。このパーセントの計算方法は元画像の</p>\n<p><span class=\"font-ll\">高さ ÷ 幅 × 100</span></p>\n<p>です。<br />\n今回のサンプルで使っている画像は「<strong>726px × 477px</strong>」なので、</p>\n<p>477 ÷ 726 × 100 = 65.733333%</p>\n<h3><span id=\"i-2\">縦横比を維持した背景の中央に文字</span></h3>\n<p>縦横比を維持した背景の問題点は<span class=\"font-ll\">高さが０（ゼロ）</span>ということです。高さがゼロなので、上下中央に配置しようとしても思った位置に配置されません。</p>\n<p>解決策としては、<strong class=\"marker\">高さを持つ用の要素をもう１つ追加する</strong>ことです。実際に見てみましょう。</p>\n<div class=\"frame frame-res\">\n<div class=\"bg-aspect\">\n<div class=\"bg-aspect-in\">\n<div class=\"bg-content\">中央の文字</div>\n</p></div>\n</div>\n</div>\n<pre><span class=\"code-copy\" data-clipboard-target=\"#code-12\">コピー</span><code id=\"code-12\" class=\"html\">&lt;div class=\"bg-aspect\"&gt;\r\n\t&lt;div class=\"bg-aspect-in\"&gt;\r\n\t\t&lt;div class=\"bg-content\"&gt;中央の文字&lt;/div&gt;\r\n\t&lt;/div&gt;\r\n&lt;/div&gt;</code></pre>\n<pre><span class=\"code-copy\" data-clipboard-target=\"#code-13\">コピー</span><code id=\"code-13\" class=\"css\">.bg-aspect {\r\n  background: #d5891c url(https://haniwaman.com/wp-content/uploads/2018/10/background.jpg) no-repeat center center / cover;\r\n  padding-top: 65.73%;\r\n  position: relative;\r\n}\r\n.bg-aspect-in {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n.bg-content {\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 0;\r\n  transform: translateY(-50%);\r\n  width: 100%;\r\n  text-align: center;\r\n  font-weight: 700;\r\n  font-size: 24px;\r\n  text-shadow: 3px 3px 3px #fff;\r\n}</code></pre>\n<p>親のpadding-top分の高さを.bg-aspect-inが代わりに持っているという感じですかね（上手く表現できない&#8230;）<br />\nマスク的な感じで覆っているイメージです。</p>\n<p>その中に上下中央に配置した文字をabsoluteで指定すると思い通りの位置に配置されるようになるので、縦横比を維持した背景を使う際は、この方法を覚えておくといいかもしれません。</p>\n<h2><span id=\"i-3\">背景を固定するのは実は簡単</span></h2>\n<p>背景だけスクロールされないようなサイトを見たことがあるかもしれませんが、この実装はめっちゃ簡単です。<code>background-attachment: fixed;</code>を指定するかしないの違いでしかないので、頭の片隅にでも覚えておくといつか使う日がくるかもしれません。</p>\n<div class=\"bg-attachment\"></div>\n<pre><span class=\"code-copy\" data-clipboard-target=\"#code-14\">コピー</span><code id=\"code-14\" class=\"html\">&lt;div class=\"bg-attachment\"&gt;&lt;/div&gt;\r\n</code></pre>\n<pre><span class=\"code-copy\" data-clipboard-target=\"#code-15\">コピー</span><code id=\"code-15\" class=\"css\">.bg-attachment {\r\n  background: transparent url(https://haniwaman.com/wp-content/uploads/2018/10/background.jpg) no-repeat center center / cover;\r\n  background-attachment: fixed;\r\n  height: 466px;\r\n}</code></pre>\n<h2><span id=\"i-4\">背景の元画像のサイズはどうする？</span></h2>\n<p>サイト全体を覆うようなデザインもあるかと思います。わたしが最初のころに悩んでいたのは、<strong>ここの元画像の幅は何がいいのだろうか&#8230;？</strong>ということでした。</p>\n<p>今は自分の中で（勝手に）答えを出していて、ピクセルでいうと、ズバリ<strong class=\"marker\">1920px</strong>です！</p>\n<p>理由はシンプルで、一番使われているモニターの横幅が1920pxっぽいからですね。なので一応この数字を基準にしています。画一的な正解ってのはたぶんないので、<strong class=\"marker\">正解っぽい理由を持ちつつ仕事するのが大事</strong>だと思っています笑</p>\n<p><img src=\"https://haniwaman.com/wp-content/uploads/2018/03/dpi-700x527.png\" alt=\"\" /><br />\nSource: <a href=\"http://gs.statcounter.com/screen-resolution-stats/desktop/japan/#monthly-201702-201802-bar\" rel=\"noopener\" target=\"_blank\">StatCounter Global Stats – Screen Resolution Market Share</a></p>\n<h2><span id=\"i-5\">おわり</span></h2><div class=\"matome\"><div class=\"matome-img\"><img src=\"https://haniwaman.com/wp-content/themes/hpcode/img/haniwa.png\" alt=\"\"></div><div class=\"matome-twitter\"><a href=\"https://twitter.com/haniwa008?ref_src=twsrc%5Etfw\" class=\"twitter-follow-button\" data-show-screen-name=\"false\" data-size=\"large\" data-lang=\"ja\" data-show-count=\"true\">Follow @haniwa008</a><script async src=\"https://platform.twitter.com/widgets.js\" charset=\"utf-8\"></script></div></div><!-- /matome -->\n<p>好きなように背景のパターンを並べただけの自己満足的な記事になった感じがします笑</p>\n<p>コーディングする上で背景画像は意外と使わる部分なので、今回紹介した<code>background-size</code>の違いは少なくとも理解しておくといいかと思います。</p>\n","date":"October 17, 2018","categories":[{"name":"CSS","slug":"css"}],"tags":null,"author":{"name":"はにわまん","slug":"haniwaman"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"id":"7334a554-8f6a-5b29-941c-3751dfd5065f"}}}